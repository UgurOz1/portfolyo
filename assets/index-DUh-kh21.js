(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var Ap={exports:{}},pu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qT;function YC(){if(qT)return pu;qT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:e,type:r,key:c,ref:a!==void 0?a:null,props:l}}return pu.Fragment=t,pu.jsx=n,pu.jsxs=n,pu}var GT;function $C(){return GT||(GT=1,Ap.exports=YC()),Ap.exports}var N=$C(),Rp={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KT;function QC(){if(KT)return Ct;KT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.iterator;function w(M){return M===null||typeof M!="object"?null:(M=T&&M[T]||M["@@iterator"],typeof M=="function"?M:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,j={};function k(M,rt,ct){this.props=M,this.context=rt,this.refs=j,this.updater=ct||R}k.prototype.isReactComponent={},k.prototype.setState=function(M,rt){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,rt,"setState")},k.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function B(){}B.prototype=k.prototype;function z(M,rt,ct){this.props=M,this.context=rt,this.refs=j,this.updater=ct||R}var F=z.prototype=new B;F.constructor=z,I(F,k.prototype),F.isPureReactComponent=!0;var st=Array.isArray,et={H:null,A:null,T:null,S:null,V:null},ot=Object.prototype.hasOwnProperty;function C(M,rt,ct,lt,vt,Vt){return ct=Vt.ref,{$$typeof:e,type:M,key:rt,ref:ct!==void 0?ct:null,props:Vt}}function A(M,rt){return C(M.type,rt,void 0,void 0,void 0,M.props)}function x(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function P(M){var rt={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ct){return rt[ct]})}var L=/\/+/g;function q(M,rt){return typeof M=="object"&&M!==null&&M.key!=null?P(""+M.key):rt.toString(36)}function V(){}function we(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(V,V):(M.status="pending",M.then(function(rt){M.status==="pending"&&(M.status="fulfilled",M.value=rt)},function(rt){M.status==="pending"&&(M.status="rejected",M.reason=rt)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function re(M,rt,ct,lt,vt){var Vt=typeof M;(Vt==="undefined"||Vt==="boolean")&&(M=null);var At=!1;if(M===null)At=!0;else switch(Vt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(M.$$typeof){case e:case t:At=!0;break;case y:return At=M._init,re(At(M._payload),rt,ct,lt,vt)}}if(At)return vt=vt(M),At=lt===""?"."+q(M,0):lt,st(vt)?(ct="",At!=null&&(ct=At.replace(L,"$&/")+"/"),re(vt,rt,ct,"",function(li){return li})):vt!=null&&(x(vt)&&(vt=A(vt,ct+(vt.key==null||M&&M.key===vt.key?"":(""+vt.key).replace(L,"$&/")+"/")+At)),rt.push(vt)),1;At=0;var Le=lt===""?".":lt+":";if(st(M))for(var te=0;te<M.length;te++)lt=M[te],Vt=Le+q(lt,te),At+=re(lt,rt,ct,Vt,vt);else if(te=w(M),typeof te=="function")for(M=te.call(M),te=0;!(lt=M.next()).done;)lt=lt.value,Vt=Le+q(lt,te++),At+=re(lt,rt,ct,Vt,vt);else if(Vt==="object"){if(typeof M.then=="function")return re(we(M),rt,ct,lt,vt);throw rt=String(M),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return At}function W(M,rt,ct){if(M==null)return M;var lt=[],vt=0;return re(M,lt,"","",function(Vt){return rt.call(ct,Vt,vt++)}),lt}function at(M){if(M._status===-1){var rt=M._result;rt=rt(),rt.then(function(ct){(M._status===0||M._status===-1)&&(M._status=1,M._result=ct)},function(ct){(M._status===0||M._status===-1)&&(M._status=2,M._result=ct)}),M._status===-1&&(M._status=0,M._result=rt)}if(M._status===1)return M._result.default;throw M._result}var ft=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function It(){}return Ct.Children={map:W,forEach:function(M,rt,ct){W(M,function(){rt.apply(this,arguments)},ct)},count:function(M){var rt=0;return W(M,function(){rt++}),rt},toArray:function(M){return W(M,function(rt){return rt})||[]},only:function(M){if(!x(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ct.Component=k,Ct.Fragment=n,Ct.Profiler=a,Ct.PureComponent=z,Ct.StrictMode=r,Ct.Suspense=m,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=et,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(M){return et.H.useMemoCache(M)}},Ct.cache=function(M){return function(){return M.apply(null,arguments)}},Ct.cloneElement=function(M,rt,ct){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var lt=I({},M.props),vt=M.key,Vt=void 0;if(rt!=null)for(At in rt.ref!==void 0&&(Vt=void 0),rt.key!==void 0&&(vt=""+rt.key),rt)!ot.call(rt,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&rt.ref===void 0||(lt[At]=rt[At]);var At=arguments.length-2;if(At===1)lt.children=ct;else if(1<At){for(var Le=Array(At),te=0;te<At;te++)Le[te]=arguments[te+2];lt.children=Le}return C(M.type,vt,void 0,void 0,Vt,lt)},Ct.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},Ct.createElement=function(M,rt,ct){var lt,vt={},Vt=null;if(rt!=null)for(lt in rt.key!==void 0&&(Vt=""+rt.key),rt)ot.call(rt,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(vt[lt]=rt[lt]);var At=arguments.length-2;if(At===1)vt.children=ct;else if(1<At){for(var Le=Array(At),te=0;te<At;te++)Le[te]=arguments[te+2];vt.children=Le}if(M&&M.defaultProps)for(lt in At=M.defaultProps,At)vt[lt]===void 0&&(vt[lt]=At[lt]);return C(M,Vt,void 0,void 0,null,vt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(M){return{$$typeof:d,render:M}},Ct.isValidElement=x,Ct.lazy=function(M){return{$$typeof:y,_payload:{_status:-1,_result:M},_init:at}},Ct.memo=function(M,rt){return{$$typeof:p,type:M,compare:rt===void 0?null:rt}},Ct.startTransition=function(M){var rt=et.T,ct={};et.T=ct;try{var lt=M(),vt=et.S;vt!==null&&vt(ct,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(It,ft)}catch(Vt){ft(Vt)}finally{et.T=rt}},Ct.unstable_useCacheRefresh=function(){return et.H.useCacheRefresh()},Ct.use=function(M){return et.H.use(M)},Ct.useActionState=function(M,rt,ct){return et.H.useActionState(M,rt,ct)},Ct.useCallback=function(M,rt){return et.H.useCallback(M,rt)},Ct.useContext=function(M){return et.H.useContext(M)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(M,rt){return et.H.useDeferredValue(M,rt)},Ct.useEffect=function(M,rt,ct){var lt=et.H;if(typeof ct=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return lt.useEffect(M,rt)},Ct.useId=function(){return et.H.useId()},Ct.useImperativeHandle=function(M,rt,ct){return et.H.useImperativeHandle(M,rt,ct)},Ct.useInsertionEffect=function(M,rt){return et.H.useInsertionEffect(M,rt)},Ct.useLayoutEffect=function(M,rt){return et.H.useLayoutEffect(M,rt)},Ct.useMemo=function(M,rt){return et.H.useMemo(M,rt)},Ct.useOptimistic=function(M,rt){return et.H.useOptimistic(M,rt)},Ct.useReducer=function(M,rt,ct){return et.H.useReducer(M,rt,ct)},Ct.useRef=function(M){return et.H.useRef(M)},Ct.useState=function(M){return et.H.useState(M)},Ct.useSyncExternalStore=function(M,rt,ct){return et.H.useSyncExternalStore(M,rt,ct)},Ct.useTransition=function(){return et.H.useTransition()},Ct.version="19.1.1",Ct}var YT;function iy(){return YT||(YT=1,Rp.exports=QC()),Rp.exports}var U=iy(),xp={exports:{}},gu={},Cp={exports:{}},Ip={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $T;function XC(){return $T||($T=1,function(e){function t(W,at){var ft=W.length;W.push(at);t:for(;0<ft;){var It=ft-1>>>1,M=W[It];if(0<a(M,at))W[It]=at,W[ft]=M,ft=It;else break t}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var at=W[0],ft=W.pop();if(ft!==at){W[0]=ft;t:for(var It=0,M=W.length,rt=M>>>1;It<rt;){var ct=2*(It+1)-1,lt=W[ct],vt=ct+1,Vt=W[vt];if(0>a(lt,ft))vt<M&&0>a(Vt,lt)?(W[It]=Vt,W[vt]=ft,It=vt):(W[It]=lt,W[ct]=ft,It=ct);else if(vt<M&&0>a(Vt,ft))W[It]=Vt,W[vt]=ft,It=vt;else break t}}return at}function a(W,at){var ft=W.sortIndex-at.sortIndex;return ft!==0?ft:W.id-at.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var m=[],p=[],y=1,T=null,w=3,R=!1,I=!1,j=!1,k=!1,B=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function st(W){for(var at=n(p);at!==null;){if(at.callback===null)r(p);else if(at.startTime<=W)r(p),at.sortIndex=at.expirationTime,t(m,at);else break;at=n(p)}}function et(W){if(j=!1,st(W),!I)if(n(m)!==null)I=!0,ot||(ot=!0,q());else{var at=n(p);at!==null&&re(et,at.startTime-W)}}var ot=!1,C=-1,A=5,x=-1;function P(){return k?!0:!(e.unstable_now()-x<A)}function L(){if(k=!1,ot){var W=e.unstable_now();x=W;var at=!0;try{t:{I=!1,j&&(j=!1,z(C),C=-1),R=!0;var ft=w;try{e:{for(st(W),T=n(m);T!==null&&!(T.expirationTime>W&&P());){var It=T.callback;if(typeof It=="function"){T.callback=null,w=T.priorityLevel;var M=It(T.expirationTime<=W);if(W=e.unstable_now(),typeof M=="function"){T.callback=M,st(W),at=!0;break e}T===n(m)&&r(m),st(W)}else r(m);T=n(m)}if(T!==null)at=!0;else{var rt=n(p);rt!==null&&re(et,rt.startTime-W),at=!1}}break t}finally{T=null,w=ft,R=!1}at=void 0}}finally{at?q():ot=!1}}}var q;if(typeof F=="function")q=function(){F(L)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,we=V.port2;V.port1.onmessage=L,q=function(){we.postMessage(null)}}else q=function(){B(L,0)};function re(W,at){C=B(function(){W(e.unstable_now())},at)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(W){switch(w){case 1:case 2:case 3:var at=3;break;default:at=w}var ft=w;w=at;try{return W()}finally{w=ft}},e.unstable_requestPaint=function(){k=!0},e.unstable_runWithPriority=function(W,at){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ft=w;w=W;try{return at()}finally{w=ft}},e.unstable_scheduleCallback=function(W,at,ft){var It=e.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?It+ft:It):ft=It,W){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ft+M,W={id:y++,callback:at,priorityLevel:W,startTime:ft,expirationTime:M,sortIndex:-1},ft>It?(W.sortIndex=ft,t(p,W),n(m)===null&&W===n(p)&&(j?(z(C),C=-1):j=!0,re(et,ft-It))):(W.sortIndex=M,t(m,W),I||R||(I=!0,ot||(ot=!0,q()))),W},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(W){var at=w;return function(){var ft=w;w=at;try{return W.apply(this,arguments)}finally{w=ft}}}}(Ip)),Ip}var QT;function WC(){return QT||(QT=1,Cp.exports=XC()),Cp.exports}var Dp={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XT;function ZC(){if(XT)return nn;XT=1;var e=iy();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:m,containerInfo:p,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,nn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,y)},nn.flushSync=function(m){var p=c.T,y=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=p,r.p=y,r.d.f()}},nn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},nn.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},nn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,T=d(y,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:R}):y==="script"&&r.d.X(m,{crossOrigin:T,integrity:w,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},nn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},nn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,T=d(y,p.crossOrigin);r.d.L(m,y,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},nn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=d(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},nn.requestFormReset=function(m){r.d.r(m)},nn.unstable_batchedUpdates=function(m,p){return m(p)},nn.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},nn.useFormStatus=function(){return c.H.useHostTransitionStatus()},nn.version="19.1.1",nn}var WT;function JC(){if(WT)return Dp.exports;WT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Dp.exports=ZC(),Dp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT;function tI(){if(ZT)return gu;ZT=1;var e=WC(),t=iy(),n=JC();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(r(188))}function m(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return d(f),i;if(g===u)return d(f),s;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=f,u=g;else{for(var E=!1,b=f.child;b;){if(b===o){E=!0,o=f,u=g;break}if(b===u){E=!0,u=f,o=g;break}b=b.sibling}if(!E){for(b=g.child;b;){if(b===o){E=!0,o=g,u=f;break}if(b===u){E=!0,u=g,o=f;break}b=b.sibling}if(!E)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,T=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),F=Symbol.for("react.context"),st=Symbol.for("react.forward_ref"),et=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function q(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function we(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case I:return"Fragment";case k:return"Profiler";case j:return"StrictMode";case et:return"Suspense";case ot:return"SuspenseList";case x:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case R:return"Portal";case F:return(i.displayName||"Context")+".Provider";case z:return(i._context.displayName||"Context")+".Consumer";case st:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return s=i.displayName||null,s!==null?s:we(i.type)||"Memo";case A:s=i._payload,i=i._init;try{return we(i(s))}catch{}}return null}var re=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},It=[],M=-1;function rt(i){return{current:i}}function ct(i){0>M||(i.current=It[M],It[M]=null,M--)}function lt(i,s){M++,It[M]=i.current,i.current=s}var vt=rt(null),Vt=rt(null),At=rt(null),Le=rt(null);function te(i,s){switch(lt(At,s),lt(Vt,i),lt(vt,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?vT(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=vT(s),i=_T(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ct(vt),lt(vt,i)}function li(){ct(vt),ct(Vt),ct(At)}function Ar(i){i.memoizedState!==null&&lt(Le,i);var s=vt.current,o=_T(s,i.type);s!==o&&(lt(Vt,i),lt(vt,o))}function Ui(i){Vt.current===i&&(ct(vt),ct(Vt)),Le.current===i&&(ct(Le),cu._currentValue=ft)}var Ss=Object.prototype.hasOwnProperty,As=e.unstable_scheduleCallback,Rs=e.unstable_cancelCallback,ol=e.unstable_shouldYield,Sc=e.unstable_requestPaint,Vn=e.unstable_now,Ad=e.unstable_getCurrentPriorityLevel,ll=e.unstable_ImmediatePriority,Ca=e.unstable_UserBlockingPriority,xs=e.unstable_NormalPriority,Rd=e.unstable_LowPriority,Ia=e.unstable_IdlePriority,ul=e.log,Ac=e.unstable_setDisableYieldValue,fe=null,Kt=null;function Tn(i){if(typeof ul=="function"&&Ac(i),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(fe,i)}catch{}}var tn=Math.clz32?Math.clz32:Cs,Rc=Math.log,xd=Math.LN2;function Cs(i){return i>>>=0,i===0?32:31-(Rc(i)/xd|0)|0}var Is=256,Ds=4194304;function $n(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Da(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,g=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var b=u&134217727;return b!==0?(u=b&~g,u!==0?f=$n(u):(E&=b,E!==0?f=$n(E):o||(o=b&~i,o!==0&&(f=$n(o))))):(b=u&~g,b!==0?f=$n(b):E!==0?f=$n(E):o||(o=u&~i,o!==0&&(f=$n(o)))),f===0?0:s!==0&&s!==f&&(s&g)===0&&(g=f&-f,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:f}function Vs(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function cl(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hl(){var i=Is;return Is<<=1,(Is&4194048)===0&&(Is=256),i}function fl(){var i=Ds;return Ds<<=1,(Ds&62914560)===0&&(Ds=4194304),i}function ji(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Bi(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function dl(i,s,o,u,f,g){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var b=i.entanglements,D=i.expirationTimes,Y=i.hiddenUpdates;for(o=E&~o;0<o;){var Z=31-tn(o),nt=1<<Z;b[Z]=0,D[Z]=-1;var $=Y[Z];if($!==null)for(Y[Z]=null,Z=0;Z<$.length;Z++){var Q=$[Z];Q!==null&&(Q.lane&=-536870913)}o&=~nt}u!==0&&ui(i,u,0),g!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=g&~(E&~s))}function ui(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-tn(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function ml(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-tn(o),f=1<<u;f&s|i[u]&s&&(i[u]|=s),o&=~f}}function Rr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Va(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function xr(){var i=at.p;return i!==0?i:(i=window.event,i===void 0?32:UT(i.type))}function xc(i,s){var o=at.p;try{return at.p=i,s()}finally{at.p=o}}var se=Math.random().toString(36).slice(2),Ve="__reactFiber$"+se,be="__reactProps$"+se,Nn="__reactContainer$"+se,pl="__reactEvents$"+se,Cd="__reactListeners$"+se,Cr="__reactHandles$"+se,Cc="__reactResources$"+se,Ns="__reactMarker$"+se;function Ir(i){delete i[Ve],delete i[be],delete i[pl],delete i[Cd],delete i[Cr]}function zi(i){var s=i[Ve];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Nn]||o[Ve]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=bT(i);i!==null;){if(o=i[Ve])return o;i=bT(i)}return s}i=o,o=i.parentNode}return null}function ci(i){if(i=i[Ve]||i[Nn]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function hi(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function un(i){var s=i[Cc];return s||(s=i[Cc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ge(i){i[Ns]=!0}var gl=new Set,Na={};function Qn(i,s){Fi(i,s),Fi(i+"Capture",s)}function Fi(i,s){for(Na[i]=s,i=0;i<s.length;i++)gl.add(s[i])}var Ic=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dc={},Ms={};function Vc(i){return Ss.call(Ms,i)?!0:Ss.call(Dc,i)?!1:Ic.test(i)?Ms[i]=!0:(Dc[i]=!0,!1)}function Dr(i,s,o){if(Vc(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function fi(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Ke(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}var Ps,Nc;function Hi(i){if(Ps===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Ps=s&&s[1]||"",Nc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ps+i+Nc}var Ma=!1;function Pa(i,s){if(!i||Ma)return"";Ma=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(Q){var $=Q}Reflect.construct(i,[],nt)}else{try{nt.call()}catch(Q){$=Q}i.call(nt.prototype)}}else{try{throw Error()}catch(Q){$=Q}(nt=i())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(Q){if(Q&&$&&typeof Q.stack=="string")return[Q.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),E=g[0],b=g[1];if(E&&b){var D=E.split(`
`),Y=b.split(`
`);for(f=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(u===D.length||f===Y.length)for(u=D.length-1,f=Y.length-1;1<=u&&0<=f&&D[u]!==Y[f];)f--;for(;1<=u&&0<=f;u--,f--)if(D[u]!==Y[f]){if(u!==1||f!==1)do if(u--,f--,0>f||D[u]!==Y[f]){var Z=`
`+D[u].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=u&&0<=f);break}}}finally{Ma=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Hi(o):""}function yl(i){switch(i.tag){case 26:case 27:case 5:return Hi(i.type);case 16:return Hi("Lazy");case 13:return Hi("Suspense");case 19:return Hi("SuspenseList");case 0:case 15:return Pa(i.type,!1);case 11:return Pa(i.type.render,!1);case 1:return Pa(i.type,!0);case 31:return Hi("Activity");default:return""}}function Oa(i){try{var s="";do s+=yl(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function cn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function vl(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Id(i){var s=vl(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,g.call(this,E)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function ka(i){i._valueTracker||(i._valueTracker=Id(i))}function _l(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=vl(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function Os(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Dd=/[\n"\\]/g;function Se(i){return i.replace(Dd,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function En(i,s,o,u,f,g,E,b){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),s!=null?E==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+cn(s)):i.value!==""+cn(s)&&(i.value=""+cn(s)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),s!=null?Vr(i,E,cn(s)):o!=null?Vr(i,E,cn(o)):u!=null&&i.removeAttribute("value"),f==null&&g!=null&&(i.defaultChecked=!!g),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.name=""+cn(b):i.removeAttribute("name")}function ks(i,s,o,u,f,g,E,b){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+cn(o):"",s=s!=null?""+cn(s):o,b||s===i.value||(i.value=s),i.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=b?i.checked:!!u,i.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E)}function Vr(i,s,o){s==="number"&&Os(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function qi(i,s,o,u){if(i=i.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=s.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+cn(o),s=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function Qt(i,s,o){if(s!=null&&(s=""+cn(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+cn(o):""}function Ls(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(re(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=cn(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Mn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Us=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mc(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||Us.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Tl(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&Mc(i,f,u)}else for(var g in s)s.hasOwnProperty(g)&&Mc(i,g,s[g])}function El(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function La(i){return Nd.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Gi=null;function Pn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ki=null,Yi=null;function wl(i){var s=ci(i);if(s&&(i=s.stateNode)){var o=i[be]||null;t:switch(i=s.stateNode,s.type){case"input":if(En(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Se(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var f=u[be]||null;if(!f)throw Error(r(90));En(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&_l(u)}break t;case"textarea":Qt(i,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&qi(i,!!o.multiple,s,!1)}}}var di=!1;function Pc(i,s,o){if(di)return i(s,o);di=!0;try{var u=i(s);return u}finally{if(di=!1,(Ki!==null||Yi!==null)&&(xh(),Ki&&(s=Ki,i=Yi,Yi=Ki=null,wl(s),i)))for(s=0;s<i.length;s++)wl(i[s])}}function js(i,s){var o=i.stateNode;if(o===null)return null;var u=o[be]||null;if(u===null)return null;o=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),On=!1;if(Xn)try{var Bs={};Object.defineProperty(Bs,"passive",{get:function(){On=!0}}),window.addEventListener("test",Bs,Bs),window.removeEventListener("test",Bs,Bs)}catch{On=!1}var mi=null,Nr=null,$i=null;function bl(){if($i)return $i;var i,s=Nr,o=s.length,u,f="value"in mi?mi.value:mi.textContent,g=f.length;for(i=0;i<o&&s[i]===f[i];i++);var E=o-i;for(u=1;u<=E&&s[o-u]===f[g-u];u++);return $i=f.slice(i,1<u?1-u:void 0)}function pi(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function gi(){return!0}function Sl(){return!1}function Ue(i){function s(o,u,f,g,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var b in i)i.hasOwnProperty(b)&&(o=i[b],this[b]=o?o(g):g[b]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?gi:Sl,this.isPropagationStopped=Sl,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),s}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ua=Ue(qt),zs=y({},qt,{view:0,detail:0}),Oc=Ue(zs),ja,Ba,yi,Fs=y({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yi&&(yi&&i.type==="mousemove"?(ja=i.screenX-yi.screenX,Ba=i.screenY-yi.screenY):Ba=ja=0,yi=i),ja)},movementY:function(i){return"movementY"in i?i.movementY:Ba}}),kn=Ue(Fs),kc=y({},Fs,{dataTransfer:0}),Md=Ue(kc),Hs=y({},zs,{relatedTarget:0}),za=Ue(Hs),Al=y({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Fa=Ue(Al),Lc=y({},qt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ha=Ue(Lc),Pd=y({},qt,{data:0}),Rl=Ue(Pd),qs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xl(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=jc[i])?!!s[i]:!1}function Gs(){return xl}var Bc=y({},zs,{key:function(i){if(i.key){var s=qs[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=pi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Uc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gs,charCode:function(i){return i.type==="keypress"?pi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?pi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),qa=Ue(Bc),zc=y({},Fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cl=Ue(zc),Qi=y({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gs}),Fc=Ue(Qi),Hc=y({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),qc=Ue(Hc),Gc=y({},Fs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ga=Ue(Gc),hn=y({},qt,{newState:0,oldState:0}),Kc=Ue(hn),Yc=[9,13,27,32],vi=Xn&&"CompositionEvent"in window,h=null;Xn&&"documentMode"in document&&(h=document.documentMode);var v=Xn&&"TextEvent"in window&&!h,_=Xn&&(!vi||h&&8<h&&11>=h),S=" ",G=!1;function X(i,s){switch(i){case"keyup":return Yc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ut(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ut=!1;function Ne(i,s){switch(i){case"compositionend":return ut(s);case"keypress":return s.which!==32?null:(G=!0,S);case"textInput":return i=s.data,i===S&&G?null:i;default:return null}}function jt(i,s){if(Ut)return i==="compositionend"||!vi&&X(i,s)?(i=bl(),$i=Nr=mi=null,Ut=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var je={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Me(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!je[i.type]:s==="textarea"}function Xi(i,s,o,u){Ki?Yi?Yi.push(u):Yi=[u]:Ki=u,s=Mh(s,"onChange"),0<s.length&&(o=new Ua("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var Ye=null,_i=null;function Il(i){dT(i,0)}function $c(i){var s=hi(i);if(_l(s))return i}function Pv(i,s){if(i==="change")return s}var Ov=!1;if(Xn){var Od;if(Xn){var kd="oninput"in document;if(!kd){var kv=document.createElement("div");kv.setAttribute("oninput","return;"),kd=typeof kv.oninput=="function"}Od=kd}else Od=!1;Ov=Od&&(!document.documentMode||9<document.documentMode)}function Lv(){Ye&&(Ye.detachEvent("onpropertychange",Uv),_i=Ye=null)}function Uv(i){if(i.propertyName==="value"&&$c(_i)){var s=[];Xi(s,_i,i,Pn(i)),Pc(Il,s)}}function bx(i,s,o){i==="focusin"?(Lv(),Ye=s,_i=o,Ye.attachEvent("onpropertychange",Uv)):i==="focusout"&&Lv()}function Sx(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return $c(_i)}function Ax(i,s){if(i==="click")return $c(s)}function Rx(i,s){if(i==="input"||i==="change")return $c(s)}function xx(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var wn=typeof Object.is=="function"?Object.is:xx;function Dl(i,s){if(wn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Ss.call(s,f)||!wn(i[f],s[f]))return!1}return!0}function jv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Bv(i,s){var o=jv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=jv(o)}}function zv(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?zv(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Fv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Os(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Os(i.document)}return s}function Ld(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var Cx=Xn&&"documentMode"in document&&11>=document.documentMode,Ka=null,Ud=null,Vl=null,jd=!1;function Hv(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;jd||Ka==null||Ka!==Os(u)||(u=Ka,"selectionStart"in u&&Ld(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Vl&&Dl(Vl,u)||(Vl=u,u=Mh(Ud,"onSelect"),0<u.length&&(s=new Ua("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=Ka)))}function Ks(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var Ya={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionrun:Ks("Transition","TransitionRun"),transitionstart:Ks("Transition","TransitionStart"),transitioncancel:Ks("Transition","TransitionCancel"),transitionend:Ks("Transition","TransitionEnd")},Bd={},qv={};Xn&&(qv=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function Ys(i){if(Bd[i])return Bd[i];if(!Ya[i])return i;var s=Ya[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in qv)return Bd[i]=s[o];return i}var Gv=Ys("animationend"),Kv=Ys("animationiteration"),Yv=Ys("animationstart"),Ix=Ys("transitionrun"),Dx=Ys("transitionstart"),Vx=Ys("transitioncancel"),$v=Ys("transitionend"),Qv=new Map,zd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zd.push("scrollEnd");function Wn(i,s){Qv.set(i,s),Qn(s,[i])}var Xv=new WeakMap;function Ln(i,s){if(typeof i=="object"&&i!==null){var o=Xv.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Oa(s)},Xv.set(i,s),s)}return{value:i,source:s,stack:Oa(s)}}var Un=[],$a=0,Fd=0;function Qc(){for(var i=$a,s=Fd=$a=0;s<i;){var o=Un[s];Un[s++]=null;var u=Un[s];Un[s++]=null;var f=Un[s];Un[s++]=null;var g=Un[s];if(Un[s++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}g!==0&&Wv(o,f,g)}}function Xc(i,s,o,u){Un[$a++]=i,Un[$a++]=s,Un[$a++]=o,Un[$a++]=u,Fd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Hd(i,s,o,u){return Xc(i,s,o,u),Wc(i)}function Qa(i,s){return Xc(i,null,null,s),Wc(i)}function Wv(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(f=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,f&&s!==null&&(f=31-tn(o),i=g.hiddenUpdates,u=i[f],u===null?i[f]=[s]:u.push(s),s.lane=o|536870912),g):null}function Wc(i){if(50<nu)throw nu=0,Qm=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Xa={};function Nx(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(i,s,o,u){return new Nx(i,s,o,u)}function qd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Wi(i,s){var o=i.alternate;return o===null?(o=bn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Zv(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Zc(i,s,o,u,f,g){var E=0;if(u=i,typeof i=="function")qd(i)&&(E=1);else if(typeof i=="string")E=PC(i,o,vt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case x:return i=bn(31,o,s,f),i.elementType=x,i.lanes=g,i;case I:return $s(o.children,f,g,s);case j:E=8,f|=24;break;case k:return i=bn(12,o,s,f|2),i.elementType=k,i.lanes=g,i;case et:return i=bn(13,o,s,f),i.elementType=et,i.lanes=g,i;case ot:return i=bn(19,o,s,f),i.elementType=ot,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case B:case F:E=10;break t;case z:E=9;break t;case st:E=11;break t;case C:E=14;break t;case A:E=16,u=null;break t}E=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=bn(E,o,s,f),s.elementType=i,s.type=u,s.lanes=g,s}function $s(i,s,o,u){return i=bn(7,i,u,s),i.lanes=o,i}function Gd(i,s,o){return i=bn(6,i,null,s),i.lanes=o,i}function Kd(i,s,o){return s=bn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Wa=[],Za=0,Jc=null,th=0,jn=[],Bn=0,Qs=null,Zi=1,Ji="";function Xs(i,s){Wa[Za++]=th,Wa[Za++]=Jc,Jc=i,th=s}function Jv(i,s,o){jn[Bn++]=Zi,jn[Bn++]=Ji,jn[Bn++]=Qs,Qs=i;var u=Zi;i=Ji;var f=32-tn(u)-1;u&=~(1<<f),o+=1;var g=32-tn(s)+f;if(30<g){var E=f-f%5;g=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Zi=1<<32-tn(s)+f|o<<f|u,Ji=g+i}else Zi=1<<g|o<<f|u,Ji=i}function Yd(i){i.return!==null&&(Xs(i,1),Jv(i,1,0))}function $d(i){for(;i===Jc;)Jc=Wa[--Za],Wa[Za]=null,th=Wa[--Za],Wa[Za]=null;for(;i===Qs;)Qs=jn[--Bn],jn[Bn]=null,Ji=jn[--Bn],jn[Bn]=null,Zi=jn[--Bn],jn[Bn]=null}var fn=null,de=null,Ht=!1,Ws=null,Ti=!1,Qd=Error(r(519));function Zs(i){var s=Error(r(418,""));throw Pl(Ln(s,i)),Qd}function t0(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[Ve]=i,s[be]=u,o){case"dialog":Pt("cancel",s),Pt("close",s);break;case"iframe":case"object":case"embed":Pt("load",s);break;case"video":case"audio":for(o=0;o<ru.length;o++)Pt(ru[o],s);break;case"source":Pt("error",s);break;case"img":case"image":case"link":Pt("error",s),Pt("load",s);break;case"details":Pt("toggle",s);break;case"input":Pt("invalid",s),ks(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ka(s);break;case"select":Pt("invalid",s);break;case"textarea":Pt("invalid",s),Ls(s,u.value,u.defaultValue,u.children),ka(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||yT(s.textContent,o)?(u.popover!=null&&(Pt("beforetoggle",s),Pt("toggle",s)),u.onScroll!=null&&Pt("scroll",s),u.onScrollEnd!=null&&Pt("scrollend",s),u.onClick!=null&&(s.onclick=Ph),s=!0):s=!1,s||Zs(i)}function e0(i){for(fn=i.return;fn;)switch(fn.tag){case 5:case 13:Ti=!1;return;case 27:case 3:Ti=!0;return;default:fn=fn.return}}function Nl(i){if(i!==fn)return!1;if(!Ht)return e0(i),Ht=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||hp(i.type,i.memoizedProps)),o=!o),o&&de&&Zs(i),e0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));t:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){de=Jn(i.nextSibling);break t}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}de=null}}else s===27?(s=de,$r(i.type)?(i=pp,pp=null,de=i):de=s):de=fn?Jn(i.stateNode.nextSibling):null;return!0}function Ml(){de=fn=null,Ht=!1}function n0(){var i=Ws;return i!==null&&(gn===null?gn=i:gn.push.apply(gn,i),Ws=null),i}function Pl(i){Ws===null?Ws=[i]:Ws.push(i)}var Xd=rt(null),Js=null,tr=null;function Mr(i,s,o){lt(Xd,s._currentValue),s._currentValue=o}function er(i){i._currentValue=Xd.current,ct(Xd)}function Wd(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function Zd(i,s,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var g=f.dependencies;if(g!==null){var E=f.child;g=g.firstContext;t:for(;g!==null;){var b=g;g=f;for(var D=0;D<s.length;D++)if(b.context===s[D]){g.lanes|=o,b=g.alternate,b!==null&&(b.lanes|=o),Wd(g.return,o,i),u||(E=null);break t}g=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(r(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),Wd(E,o,i),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===i){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Ol(i,s,o,u){i=null;for(var f=s,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var b=f.type;wn(f.pendingProps.value,E.value)||(i!==null?i.push(b):i=[b])}}else if(f===Le.current){if(E=f.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(cu):i=[cu])}f=f.return}i!==null&&Zd(s,i,o,u),s.flags|=262144}function eh(i){for(i=i.firstContext;i!==null;){if(!wn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ta(i){Js=i,tr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function en(i){return i0(Js,i)}function nh(i,s){return Js===null&&ta(i),i0(i,s)}function i0(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},tr===null){if(i===null)throw Error(r(308));tr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else tr=tr.next=s;return o}var Mx=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},Px=e.unstable_scheduleCallback,Ox=e.unstable_NormalPriority,Pe={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jd(){return{controller:new Mx,data:new Map,refCount:0}}function kl(i){i.refCount--,i.refCount===0&&Px(Ox,function(){i.controller.abort()})}var Ll=null,tm=0,Ja=0,to=null;function kx(i,s){if(Ll===null){var o=Ll=[];tm=0,Ja=np(),to={status:"pending",value:void 0,then:function(u){o.push(u)}}}return tm++,s.then(r0,r0),s}function r0(){if(--tm===0&&Ll!==null){to!==null&&(to.status="fulfilled");var i=Ll;Ll=null,Ja=0,to=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function Lx(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var s0=W.S;W.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&kx(i,s),s0!==null&&s0(i,s)};var ea=rt(null);function em(){var i=ea.current;return i!==null?i:ee.pooledCache}function ih(i,s){s===null?lt(ea,ea.current):lt(ea,s.pool)}function a0(){var i=em();return i===null?null:{parent:Pe._currentValue,pool:i}}var Ul=Error(r(460)),o0=Error(r(474)),rh=Error(r(542)),nm={then:function(){}};function l0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function sh(){}function u0(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(sh,sh),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,h0(i),i;default:if(typeof s.status=="string")s.then(sh,sh);else{if(i=ee,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,h0(i),i}throw jl=s,Ul}}var jl=null;function c0(){if(jl===null)throw Error(r(459));var i=jl;return jl=null,i}function h0(i){if(i===Ul||i===rh)throw Error(r(483))}var Pr=!1;function im(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rm(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Or(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function kr(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Yt&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=Wc(i),Wv(i,null,o),s}return Xc(i,u,s,o),Wc(i)}function Bl(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,ml(i,o)}}function sm(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?f=g=s:g=g.next=s}else f=g=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var am=!1;function zl(){if(am){var i=to;if(i!==null)throw i}}function Fl(i,s,o,u){am=!1;var f=i.updateQueue;Pr=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var D=b,Y=D.next;D.next=null,E===null?g=Y:E.next=Y,E=D;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,b=Z.lastBaseUpdate,b!==E&&(b===null?Z.firstBaseUpdate=Y:b.next=Y,Z.lastBaseUpdate=D))}if(g!==null){var nt=f.baseState;E=0,Z=Y=D=null,b=g;do{var $=b.lane&-536870913,Q=$!==b.lane;if(Q?(Bt&$)===$:(u&$)===$){$!==0&&$===Ja&&(am=!0),Z!==null&&(Z=Z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var wt=i,_t=b;$=s;var Zt=o;switch(_t.tag){case 1:if(wt=_t.payload,typeof wt=="function"){nt=wt.call(Zt,nt,$);break t}nt=wt;break t;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=_t.payload,$=typeof wt=="function"?wt.call(Zt,nt,$):wt,$==null)break t;nt=y({},nt,$);break t;case 2:Pr=!0}}$=b.callback,$!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[$]:Q.push($))}else Q={lane:$,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Z===null?(Y=Z=Q,D=nt):Z=Z.next=Q,E|=$;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);Z===null&&(D=nt),f.baseState=D,f.firstBaseUpdate=Y,f.lastBaseUpdate=Z,g===null&&(f.shared.lanes=0),qr|=E,i.lanes=E,i.memoizedState=nt}}function f0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function d0(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)f0(o[i],s)}var eo=rt(null),ah=rt(0);function m0(i,s){i=lr,lt(ah,i),lt(eo,s),lr=i|s.baseLanes}function om(){lt(ah,lr),lt(eo,eo.current)}function lm(){lr=ah.current,ct(eo),ct(ah)}var Lr=0,Dt=null,Xt=null,Ae=null,oh=!1,no=!1,na=!1,lh=0,Hl=0,io=null,Ux=0;function ye(){throw Error(r(321))}function um(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!wn(i[o],s[o]))return!1;return!0}function cm(i,s,o,u,f,g){return Lr=g,Dt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=i===null||i.memoizedState===null?W0:Z0,na=!1,g=o(u,f),na=!1,no&&(g=g0(s,o,u,f)),p0(i),g}function p0(i){W.H=mh;var s=Xt!==null&&Xt.next!==null;if(Lr=0,Ae=Xt=Dt=null,oh=!1,Hl=0,io=null,s)throw Error(r(300));i===null||Be||(i=i.dependencies,i!==null&&eh(i)&&(Be=!0))}function g0(i,s,o,u){Dt=i;var f=0;do{if(no&&(io=null),Hl=0,no=!1,25<=f)throw Error(r(301));if(f+=1,Ae=Xt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}W.H=Gx,g=s(o,u)}while(no);return g}function jx(){var i=W.H,s=i.useState()[0];return s=typeof s.then=="function"?ql(s):s,i=i.useState()[0],(Xt!==null?Xt.memoizedState:null)!==i&&(Dt.flags|=1024),s}function hm(){var i=lh!==0;return lh=0,i}function fm(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function dm(i){if(oh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}oh=!1}Lr=0,Ae=Xt=Dt=null,no=!1,Hl=lh=0,io=null}function mn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Dt.memoizedState=Ae=i:Ae=Ae.next=i,Ae}function Re(){if(Xt===null){var i=Dt.alternate;i=i!==null?i.memoizedState:null}else i=Xt.next;var s=Ae===null?Dt.memoizedState:Ae.next;if(s!==null)Ae=s,Xt=i;else{if(i===null)throw Dt.alternate===null?Error(r(467)):Error(r(310));Xt=i,i={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Ae===null?Dt.memoizedState=Ae=i:Ae=Ae.next=i}return Ae}function mm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ql(i){var s=Hl;return Hl+=1,io===null&&(io=[]),i=u0(io,i,s),s=Dt,(Ae===null?s.memoizedState:Ae.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?W0:Z0),i}function uh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ql(i);if(i.$$typeof===F)return en(i)}throw Error(r(438,String(i)))}function pm(i){var s=null,o=Dt.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Dt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=mm(),Dt.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=P;return s.index++,o}function nr(i,s){return typeof s=="function"?s(i):s}function ch(i){var s=Re();return gm(s,Xt,i)}function gm(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var f=i.baseQueue,g=u.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}s.baseQueue=f=g,u.pending=null}if(g=i.baseState,f===null)i.memoizedState=g;else{s=f.next;var b=E=null,D=null,Y=s,Z=!1;do{var nt=Y.lane&-536870913;if(nt!==Y.lane?(Bt&nt)===nt:(Lr&nt)===nt){var $=Y.revertLane;if($===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),nt===Ja&&(Z=!0);else if((Lr&$)===$){Y=Y.next,$===Ja&&(Z=!0);continue}else nt={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},D===null?(b=D=nt,E=g):D=D.next=nt,Dt.lanes|=$,qr|=$;nt=Y.action,na&&o(g,nt),g=Y.hasEagerState?Y.eagerState:o(g,nt)}else $={lane:nt,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},D===null?(b=D=$,E=g):D=D.next=$,Dt.lanes|=nt,qr|=nt;Y=Y.next}while(Y!==null&&Y!==s);if(D===null?E=g:D.next=b,!wn(g,i.memoizedState)&&(Be=!0,Z&&(o=to,o!==null)))throw o;i.memoizedState=g,i.baseState=E,i.baseQueue=D,u.lastRenderedState=g}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function ym(i){var s=Re(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,g=s.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do g=i(g,E.action),E=E.next;while(E!==f);wn(g,s.memoizedState)||(Be=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function y0(i,s,o){var u=Dt,f=Re(),g=Ht;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var E=!wn((Xt||f).memoizedState,o);E&&(f.memoizedState=o,Be=!0),f=f.queue;var b=T0.bind(null,u,f,i);if(Gl(2048,8,b,[i]),f.getSnapshot!==s||E||Ae!==null&&Ae.memoizedState.tag&1){if(u.flags|=2048,ro(9,hh(),_0.bind(null,u,f,o,s),null),ee===null)throw Error(r(349));g||(Lr&124)!==0||v0(u,s,o)}return o}function v0(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Dt.updateQueue,s===null?(s=mm(),Dt.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function _0(i,s,o,u){s.value=o,s.getSnapshot=u,E0(s)&&w0(i)}function T0(i,s,o){return o(function(){E0(s)&&w0(i)})}function E0(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!wn(i,o)}catch{return!0}}function w0(i){var s=Qa(i,2);s!==null&&Cn(s,i,2)}function vm(i){var s=mn();if(typeof i=="function"){var o=i;if(i=o(),na){Tn(!0);try{o()}finally{Tn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:i},s}function b0(i,s,o,u){return i.baseState=o,gm(i,Xt,typeof u=="function"?u:nr)}function Bx(i,s,o,u,f){if(dh(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};W.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,S0(s,g)):(g.next=o.next,s.pending=o.next=g)}}function S0(i,s){var o=s.action,u=s.payload,f=i.state;if(s.isTransition){var g=W.T,E={};W.T=E;try{var b=o(f,u),D=W.S;D!==null&&D(E,b),A0(i,s,b)}catch(Y){_m(i,s,Y)}finally{W.T=g}}else try{g=o(f,u),A0(i,s,g)}catch(Y){_m(i,s,Y)}}function A0(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){R0(i,s,u)},function(u){return _m(i,s,u)}):R0(i,s,o)}function R0(i,s,o){s.status="fulfilled",s.value=o,x0(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,S0(i,o)))}function _m(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,x0(s),s=s.next;while(s!==u)}i.action=null}function x0(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function C0(i,s){return s}function I0(i,s){if(Ht){var o=ee.formState;if(o!==null){t:{var u=Dt;if(Ht){if(de){e:{for(var f=de,g=Ti;f.nodeType!==8;){if(!g){f=null;break e}if(f=Jn(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){de=Jn(f.nextSibling),u=f.data==="F!";break t}}Zs(u)}u=!1}u&&(s=o[0])}}return o=mn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:C0,lastRenderedState:s},o.queue=u,o=$0.bind(null,Dt,u),u.dispatch=o,u=vm(!1),g=Sm.bind(null,Dt,!1,u.queue),u=mn(),f={state:s,dispatch:null,action:i,pending:null},u.queue=f,o=Bx.bind(null,Dt,f,g,o),f.dispatch=o,u.memoizedState=i,[s,o,!1]}function D0(i){var s=Re();return V0(s,Xt,i)}function V0(i,s,o){if(s=gm(i,s,C0)[0],i=ch(nr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=ql(s)}catch(E){throw E===Ul?rh:E}else u=s;s=Re();var f=s.queue,g=f.dispatch;return o!==s.memoizedState&&(Dt.flags|=2048,ro(9,hh(),zx.bind(null,f,o),null)),[u,g,i]}function zx(i,s){i.action=s}function N0(i){var s=Re(),o=Xt;if(o!==null)return V0(s,o,i);Re(),s=s.memoizedState,o=Re();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function ro(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=Dt.updateQueue,s===null&&(s=mm(),Dt.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function hh(){return{destroy:void 0,resource:void 0}}function M0(){return Re().memoizedState}function fh(i,s,o,u){var f=mn();u=u===void 0?null:u,Dt.flags|=i,f.memoizedState=ro(1|s,hh(),o,u)}function Gl(i,s,o,u){var f=Re();u=u===void 0?null:u;var g=f.memoizedState.inst;Xt!==null&&u!==null&&um(u,Xt.memoizedState.deps)?f.memoizedState=ro(s,g,o,u):(Dt.flags|=i,f.memoizedState=ro(1|s,g,o,u))}function P0(i,s){fh(8390656,8,i,s)}function O0(i,s){Gl(2048,8,i,s)}function k0(i,s){return Gl(4,2,i,s)}function L0(i,s){return Gl(4,4,i,s)}function U0(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function j0(i,s,o){o=o!=null?o.concat([i]):null,Gl(4,4,U0.bind(null,s,i),o)}function Tm(){}function B0(i,s){var o=Re();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&um(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function z0(i,s){var o=Re();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&um(s,u[1]))return u[0];if(u=i(),na){Tn(!0);try{i()}finally{Tn(!1)}}return o.memoizedState=[u,s],u}function Em(i,s,o){return o===void 0||(Lr&1073741824)!==0?i.memoizedState=s:(i.memoizedState=o,i=q_(),Dt.lanes|=i,qr|=i,o)}function F0(i,s,o,u){return wn(o,s)?o:eo.current!==null?(i=Em(i,o,u),wn(i,s)||(Be=!0),i):(Lr&42)===0?(Be=!0,i.memoizedState=o):(i=q_(),Dt.lanes|=i,qr|=i,s)}function H0(i,s,o,u,f){var g=at.p;at.p=g!==0&&8>g?g:8;var E=W.T,b={};W.T=b,Sm(i,!1,s,o);try{var D=f(),Y=W.S;if(Y!==null&&Y(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Z=Lx(D,u);Kl(i,s,Z,xn(i))}else Kl(i,s,u,xn(i))}catch(nt){Kl(i,s,{then:function(){},status:"rejected",reason:nt},xn())}finally{at.p=g,W.T=E}}function Fx(){}function wm(i,s,o,u){if(i.tag!==5)throw Error(r(476));var f=q0(i).queue;H0(i,f,s,ft,o===null?Fx:function(){return G0(i),o(u)})}function q0(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:ft},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function G0(i){var s=q0(i).next.queue;Kl(i,s,{},xn())}function bm(){return en(cu)}function K0(){return Re().memoizedState}function Y0(){return Re().memoizedState}function Hx(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=xn();i=Or(o);var u=kr(s,i,o);u!==null&&(Cn(u,s,o),Bl(u,s,o)),s={cache:Jd()},i.payload=s;return}s=s.return}}function qx(i,s,o){var u=xn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},dh(i)?Q0(s,o):(o=Hd(i,s,o,u),o!==null&&(Cn(o,i,u),X0(o,s,u)))}function $0(i,s,o){var u=xn();Kl(i,s,o,u)}function Kl(i,s,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(dh(i))Q0(s,f);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,b=g(E,o);if(f.hasEagerState=!0,f.eagerState=b,wn(b,E))return Xc(i,s,f,0),ee===null&&Qc(),!1}catch{}finally{}if(o=Hd(i,s,f,u),o!==null)return Cn(o,i,u),X0(o,s,u),!0}return!1}function Sm(i,s,o,u){if(u={lane:2,revertLane:np(),action:u,hasEagerState:!1,eagerState:null,next:null},dh(i)){if(s)throw Error(r(479))}else s=Hd(i,o,u,2),s!==null&&Cn(s,i,2)}function dh(i){var s=i.alternate;return i===Dt||s!==null&&s===Dt}function Q0(i,s){no=oh=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function X0(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,ml(i,o)}}var mh={readContext:en,use:uh,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye},W0={readContext:en,use:uh,useCallback:function(i,s){return mn().memoizedState=[i,s===void 0?null:s],i},useContext:en,useEffect:P0,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,fh(4194308,4,U0.bind(null,s,i),o)},useLayoutEffect:function(i,s){return fh(4194308,4,i,s)},useInsertionEffect:function(i,s){fh(4,2,i,s)},useMemo:function(i,s){var o=mn();s=s===void 0?null:s;var u=i();if(na){Tn(!0);try{i()}finally{Tn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=mn();if(o!==void 0){var f=o(s);if(na){Tn(!0);try{o(s)}finally{Tn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=qx.bind(null,Dt,i),[u.memoizedState,i]},useRef:function(i){var s=mn();return i={current:i},s.memoizedState=i},useState:function(i){i=vm(i);var s=i.queue,o=$0.bind(null,Dt,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:Tm,useDeferredValue:function(i,s){var o=mn();return Em(o,i,s)},useTransition:function(){var i=vm(!1);return i=H0.bind(null,Dt,i.queue,!0,!1),mn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=Dt,f=mn();if(Ht){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),ee===null)throw Error(r(349));(Bt&124)!==0||v0(u,s,o)}f.memoizedState=o;var g={value:o,getSnapshot:s};return f.queue=g,P0(T0.bind(null,u,g,i),[i]),u.flags|=2048,ro(9,hh(),_0.bind(null,u,g,o,s),null),o},useId:function(){var i=mn(),s=ee.identifierPrefix;if(Ht){var o=Ji,u=Zi;o=(u&~(1<<32-tn(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=lh++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=Ux++,s="«"+s+"r"+o.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:bm,useFormState:I0,useActionState:I0,useOptimistic:function(i){var s=mn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Sm.bind(null,Dt,!0,o),o.dispatch=s,[i,s]},useMemoCache:pm,useCacheRefresh:function(){return mn().memoizedState=Hx.bind(null,Dt)}},Z0={readContext:en,use:uh,useCallback:B0,useContext:en,useEffect:O0,useImperativeHandle:j0,useInsertionEffect:k0,useLayoutEffect:L0,useMemo:z0,useReducer:ch,useRef:M0,useState:function(){return ch(nr)},useDebugValue:Tm,useDeferredValue:function(i,s){var o=Re();return F0(o,Xt.memoizedState,i,s)},useTransition:function(){var i=ch(nr)[0],s=Re().memoizedState;return[typeof i=="boolean"?i:ql(i),s]},useSyncExternalStore:y0,useId:K0,useHostTransitionStatus:bm,useFormState:D0,useActionState:D0,useOptimistic:function(i,s){var o=Re();return b0(o,Xt,i,s)},useMemoCache:pm,useCacheRefresh:Y0},Gx={readContext:en,use:uh,useCallback:B0,useContext:en,useEffect:O0,useImperativeHandle:j0,useInsertionEffect:k0,useLayoutEffect:L0,useMemo:z0,useReducer:ym,useRef:M0,useState:function(){return ym(nr)},useDebugValue:Tm,useDeferredValue:function(i,s){var o=Re();return Xt===null?Em(o,i,s):F0(o,Xt.memoizedState,i,s)},useTransition:function(){var i=ym(nr)[0],s=Re().memoizedState;return[typeof i=="boolean"?i:ql(i),s]},useSyncExternalStore:y0,useId:K0,useHostTransitionStatus:bm,useFormState:N0,useActionState:N0,useOptimistic:function(i,s){var o=Re();return Xt!==null?b0(o,Xt,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:pm,useCacheRefresh:Y0},so=null,Yl=0;function ph(i){var s=Yl;return Yl+=1,so===null&&(so=[]),u0(so,i,s)}function $l(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function gh(i,s){throw s.$$typeof===T?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function J0(i){var s=i._init;return s(i._payload)}function t_(i){function s(H,O){if(i){var K=H.deletions;K===null?(H.deletions=[O],H.flags|=16):K.push(O)}}function o(H,O){if(!i)return null;for(;O!==null;)s(H,O),O=O.sibling;return null}function u(H){for(var O=new Map;H!==null;)H.key!==null?O.set(H.key,H):O.set(H.index,H),H=H.sibling;return O}function f(H,O){return H=Wi(H,O),H.index=0,H.sibling=null,H}function g(H,O,K){return H.index=K,i?(K=H.alternate,K!==null?(K=K.index,K<O?(H.flags|=67108866,O):K):(H.flags|=67108866,O)):(H.flags|=1048576,O)}function E(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function b(H,O,K,J){return O===null||O.tag!==6?(O=Gd(K,H.mode,J),O.return=H,O):(O=f(O,K),O.return=H,O)}function D(H,O,K,J){var mt=K.type;return mt===I?Z(H,O,K.props.children,J,K.key):O!==null&&(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===A&&J0(mt)===O.type)?(O=f(O,K.props),$l(O,K),O.return=H,O):(O=Zc(K.type,K.key,K.props,null,H.mode,J),$l(O,K),O.return=H,O)}function Y(H,O,K,J){return O===null||O.tag!==4||O.stateNode.containerInfo!==K.containerInfo||O.stateNode.implementation!==K.implementation?(O=Kd(K,H.mode,J),O.return=H,O):(O=f(O,K.children||[]),O.return=H,O)}function Z(H,O,K,J,mt){return O===null||O.tag!==7?(O=$s(K,H.mode,J,mt),O.return=H,O):(O=f(O,K),O.return=H,O)}function nt(H,O,K){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Gd(""+O,H.mode,K),O.return=H,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case w:return K=Zc(O.type,O.key,O.props,null,H.mode,K),$l(K,O),K.return=H,K;case R:return O=Kd(O,H.mode,K),O.return=H,O;case A:var J=O._init;return O=J(O._payload),nt(H,O,K)}if(re(O)||q(O))return O=$s(O,H.mode,K,null),O.return=H,O;if(typeof O.then=="function")return nt(H,ph(O),K);if(O.$$typeof===F)return nt(H,nh(H,O),K);gh(H,O)}return null}function $(H,O,K,J){var mt=O!==null?O.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return mt!==null?null:b(H,O,""+K,J);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return K.key===mt?D(H,O,K,J):null;case R:return K.key===mt?Y(H,O,K,J):null;case A:return mt=K._init,K=mt(K._payload),$(H,O,K,J)}if(re(K)||q(K))return mt!==null?null:Z(H,O,K,J,null);if(typeof K.then=="function")return $(H,O,ph(K),J);if(K.$$typeof===F)return $(H,O,nh(H,K),J);gh(H,K)}return null}function Q(H,O,K,J,mt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return H=H.get(K)||null,b(O,H,""+J,mt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return H=H.get(J.key===null?K:J.key)||null,D(O,H,J,mt);case R:return H=H.get(J.key===null?K:J.key)||null,Y(O,H,J,mt);case A:var Nt=J._init;return J=Nt(J._payload),Q(H,O,K,J,mt)}if(re(J)||q(J))return H=H.get(K)||null,Z(O,H,J,mt,null);if(typeof J.then=="function")return Q(H,O,K,ph(J),mt);if(J.$$typeof===F)return Q(H,O,K,nh(O,J),mt);gh(O,J)}return null}function wt(H,O,K,J){for(var mt=null,Nt=null,gt=O,Tt=O=0,Fe=null;gt!==null&&Tt<K.length;Tt++){gt.index>Tt?(Fe=gt,gt=null):Fe=gt.sibling;var Ft=$(H,gt,K[Tt],J);if(Ft===null){gt===null&&(gt=Fe);break}i&&gt&&Ft.alternate===null&&s(H,gt),O=g(Ft,O,Tt),Nt===null?mt=Ft:Nt.sibling=Ft,Nt=Ft,gt=Fe}if(Tt===K.length)return o(H,gt),Ht&&Xs(H,Tt),mt;if(gt===null){for(;Tt<K.length;Tt++)gt=nt(H,K[Tt],J),gt!==null&&(O=g(gt,O,Tt),Nt===null?mt=gt:Nt.sibling=gt,Nt=gt);return Ht&&Xs(H,Tt),mt}for(gt=u(gt);Tt<K.length;Tt++)Fe=Q(gt,H,Tt,K[Tt],J),Fe!==null&&(i&&Fe.alternate!==null&&gt.delete(Fe.key===null?Tt:Fe.key),O=g(Fe,O,Tt),Nt===null?mt=Fe:Nt.sibling=Fe,Nt=Fe);return i&&gt.forEach(function(Jr){return s(H,Jr)}),Ht&&Xs(H,Tt),mt}function _t(H,O,K,J){if(K==null)throw Error(r(151));for(var mt=null,Nt=null,gt=O,Tt=O=0,Fe=null,Ft=K.next();gt!==null&&!Ft.done;Tt++,Ft=K.next()){gt.index>Tt?(Fe=gt,gt=null):Fe=gt.sibling;var Jr=$(H,gt,Ft.value,J);if(Jr===null){gt===null&&(gt=Fe);break}i&&gt&&Jr.alternate===null&&s(H,gt),O=g(Jr,O,Tt),Nt===null?mt=Jr:Nt.sibling=Jr,Nt=Jr,gt=Fe}if(Ft.done)return o(H,gt),Ht&&Xs(H,Tt),mt;if(gt===null){for(;!Ft.done;Tt++,Ft=K.next())Ft=nt(H,Ft.value,J),Ft!==null&&(O=g(Ft,O,Tt),Nt===null?mt=Ft:Nt.sibling=Ft,Nt=Ft);return Ht&&Xs(H,Tt),mt}for(gt=u(gt);!Ft.done;Tt++,Ft=K.next())Ft=Q(gt,H,Tt,Ft.value,J),Ft!==null&&(i&&Ft.alternate!==null&&gt.delete(Ft.key===null?Tt:Ft.key),O=g(Ft,O,Tt),Nt===null?mt=Ft:Nt.sibling=Ft,Nt=Ft);return i&&gt.forEach(function(KC){return s(H,KC)}),Ht&&Xs(H,Tt),mt}function Zt(H,O,K,J){if(typeof K=="object"&&K!==null&&K.type===I&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case w:t:{for(var mt=K.key;O!==null;){if(O.key===mt){if(mt=K.type,mt===I){if(O.tag===7){o(H,O.sibling),J=f(O,K.props.children),J.return=H,H=J;break t}}else if(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===A&&J0(mt)===O.type){o(H,O.sibling),J=f(O,K.props),$l(J,K),J.return=H,H=J;break t}o(H,O);break}else s(H,O);O=O.sibling}K.type===I?(J=$s(K.props.children,H.mode,J,K.key),J.return=H,H=J):(J=Zc(K.type,K.key,K.props,null,H.mode,J),$l(J,K),J.return=H,H=J)}return E(H);case R:t:{for(mt=K.key;O!==null;){if(O.key===mt)if(O.tag===4&&O.stateNode.containerInfo===K.containerInfo&&O.stateNode.implementation===K.implementation){o(H,O.sibling),J=f(O,K.children||[]),J.return=H,H=J;break t}else{o(H,O);break}else s(H,O);O=O.sibling}J=Kd(K,H.mode,J),J.return=H,H=J}return E(H);case A:return mt=K._init,K=mt(K._payload),Zt(H,O,K,J)}if(re(K))return wt(H,O,K,J);if(q(K)){if(mt=q(K),typeof mt!="function")throw Error(r(150));return K=mt.call(K),_t(H,O,K,J)}if(typeof K.then=="function")return Zt(H,O,ph(K),J);if(K.$$typeof===F)return Zt(H,O,nh(H,K),J);gh(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,O!==null&&O.tag===6?(o(H,O.sibling),J=f(O,K),J.return=H,H=J):(o(H,O),J=Gd(K,H.mode,J),J.return=H,H=J),E(H)):o(H,O)}return function(H,O,K,J){try{Yl=0;var mt=Zt(H,O,K,J);return so=null,mt}catch(gt){if(gt===Ul||gt===rh)throw gt;var Nt=bn(29,gt,null,H.mode);return Nt.lanes=J,Nt.return=H,Nt}finally{}}}var ao=t_(!0),e_=t_(!1),zn=rt(null),Ei=null;function Ur(i){var s=i.alternate;lt(Oe,Oe.current&1),lt(zn,i),Ei===null&&(s===null||eo.current!==null||s.memoizedState!==null)&&(Ei=i)}function n_(i){if(i.tag===22){if(lt(Oe,Oe.current),lt(zn,i),Ei===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Ei=i)}}else jr()}function jr(){lt(Oe,Oe.current),lt(zn,zn.current)}function ir(i){ct(zn),Ei===i&&(Ei=null),ct(Oe)}var Oe=rt(0);function yh(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||mp(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Am(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Rm={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=xn(),f=Or(u);f.payload=s,o!=null&&(f.callback=o),s=kr(i,f,u),s!==null&&(Cn(s,i,u),Bl(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=xn(),f=Or(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=kr(i,f,u),s!==null&&(Cn(s,i,u),Bl(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=xn(),u=Or(o);u.tag=2,s!=null&&(u.callback=s),s=kr(i,u,o),s!==null&&(Cn(s,i,o),Bl(s,i,o))}};function i_(i,s,o,u,f,g,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,E):s.prototype&&s.prototype.isPureReactComponent?!Dl(o,u)||!Dl(f,g):!0}function r_(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&Rm.enqueueReplaceState(s,s.state,null)}function ia(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=y({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}var vh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function s_(i){vh(i)}function a_(i){console.error(i)}function o_(i){vh(i)}function _h(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function l_(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function xm(i,s,o){return o=Or(o),o.tag=3,o.payload={element:null},o.callback=function(){_h(i,s)},o}function u_(i){return i=Or(i),i.tag=3,i}function c_(i,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;i.payload=function(){return f(g)},i.callback=function(){l_(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){l_(s,o,u),typeof f!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function Kx(i,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Ol(s,o,f,!0),o=zn.current,o!==null){switch(o.tag){case 13:return Ei===null?Wm():o.alternate===null&&me===0&&(me=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===nm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Jm(i,u,f)),!1;case 22:return o.flags|=65536,u===nm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Jm(i,u,f)),!1}throw Error(r(435,o.tag))}return Jm(i,u,f),Wm(),!1}if(Ht)return s=zn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==Qd&&(i=Error(r(422),{cause:u}),Pl(Ln(i,o)))):(u!==Qd&&(s=Error(r(423),{cause:u}),Pl(Ln(s,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Ln(u,o),f=xm(i.stateNode,u,f),sm(i,f),me!==4&&(me=2)),!1;var g=Error(r(520),{cause:u});if(g=Ln(g,o),eu===null?eu=[g]:eu.push(g),me!==4&&(me=2),s===null)return!0;u=Ln(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=xm(o.stateNode,u,i),sm(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Gr===null||!Gr.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=u_(f),c_(f,i,o,u),sm(o,f),!1}o=o.return}while(o!==null);return!1}var h_=Error(r(461)),Be=!1;function $e(i,s,o,u){s.child=i===null?e_(s,null,o,u):ao(s,i.child,o,u)}function f_(i,s,o,u,f){o=o.render;var g=s.ref;if("ref"in u){var E={};for(var b in u)b!=="ref"&&(E[b]=u[b])}else E=u;return ta(s),u=cm(i,s,o,E,g,f),b=hm(),i!==null&&!Be?(fm(i,s,f),rr(i,s,f)):(Ht&&b&&Yd(s),s.flags|=1,$e(i,s,u,f),s.child)}function d_(i,s,o,u,f){if(i===null){var g=o.type;return typeof g=="function"&&!qd(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,m_(i,s,g,u,f)):(i=Zc(o.type,null,u,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!Om(i,f)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:Dl,o(E,u)&&i.ref===s.ref)return rr(i,s,f)}return s.flags|=1,i=Wi(g,u),i.ref=s.ref,i.return=s,s.child=i}function m_(i,s,o,u,f){if(i!==null){var g=i.memoizedProps;if(Dl(g,u)&&i.ref===s.ref)if(Be=!1,s.pendingProps=u=g,Om(i,f))(i.flags&131072)!==0&&(Be=!0);else return s.lanes=i.lanes,rr(i,s,f)}return Cm(i,s,o,u,f)}function p_(i,s,o){var u=s.pendingProps,f=u.children,g=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,i!==null){for(f=s.child=i.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return g_(i,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&ih(s,g!==null?g.cachePool:null),g!==null?m0(s,g):om(),n_(s);else return s.lanes=s.childLanes=536870912,g_(i,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(ih(s,g.cachePool),m0(s,g),jr(),s.memoizedState=null):(i!==null&&ih(s,null),om(),jr());return $e(i,s,f,o),s.child}function g_(i,s,o,u){var f=em();return f=f===null?null:{parent:Pe._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},i!==null&&ih(s,null),om(),n_(s),i!==null&&Ol(i,s,u,!0),null}function Th(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function Cm(i,s,o,u,f){return ta(s),o=cm(i,s,o,u,void 0,f),u=hm(),i!==null&&!Be?(fm(i,s,f),rr(i,s,f)):(Ht&&u&&Yd(s),s.flags|=1,$e(i,s,o,f),s.child)}function y_(i,s,o,u,f,g){return ta(s),s.updateQueue=null,o=g0(s,u,o,f),p0(i),u=hm(),i!==null&&!Be?(fm(i,s,g),rr(i,s,g)):(Ht&&u&&Yd(s),s.flags|=1,$e(i,s,o,g),s.child)}function v_(i,s,o,u,f){if(ta(s),s.stateNode===null){var g=Xa,E=o.contextType;typeof E=="object"&&E!==null&&(g=en(E)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Rm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},im(s),E=o.contextType,g.context=typeof E=="object"&&E!==null?en(E):Xa,g.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Am(s,o,E,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&Rm.enqueueReplaceState(g,g.state,null),Fl(s,u,g,f),zl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var b=s.memoizedProps,D=ia(o,b);g.props=D;var Y=g.context,Z=o.contextType;E=Xa,typeof Z=="object"&&Z!==null&&(E=en(Z));var nt=o.getDerivedStateFromProps;Z=typeof nt=="function"||typeof g.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b||Y!==E)&&r_(s,g,u,E),Pr=!1;var $=s.memoizedState;g.state=$,Fl(s,u,g,f),zl(),Y=s.memoizedState,b||$!==Y||Pr?(typeof nt=="function"&&(Am(s,o,nt,u),Y=s.memoizedState),(D=Pr||i_(s,o,D,u,$,Y,E))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Y),g.props=u,g.state=Y,g.context=E,u=D):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,rm(i,s),E=s.memoizedProps,Z=ia(o,E),g.props=Z,nt=s.pendingProps,$=g.context,Y=o.contextType,D=Xa,typeof Y=="object"&&Y!==null&&(D=en(Y)),b=o.getDerivedStateFromProps,(Y=typeof b=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==nt||$!==D)&&r_(s,g,u,D),Pr=!1,$=s.memoizedState,g.state=$,Fl(s,u,g,f),zl();var Q=s.memoizedState;E!==nt||$!==Q||Pr||i!==null&&i.dependencies!==null&&eh(i.dependencies)?(typeof b=="function"&&(Am(s,o,b,u),Q=s.memoizedState),(Z=Pr||i_(s,o,Z,u,$,Q,D)||i!==null&&i.dependencies!==null&&eh(i.dependencies))?(Y||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Q,D),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Q,D)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&$===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&$===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Q),g.props=u,g.state=Q,g.context=D,u=Z):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&$===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&$===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,Th(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=ao(s,i.child,null,f),s.child=ao(s,null,o,f)):$e(i,s,o,f),s.memoizedState=g.state,i=s.child):i=rr(i,s,f),i}function __(i,s,o,u){return Ml(),s.flags|=256,$e(i,s,o,u),s.child}var Im={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dm(i){return{baseLanes:i,cachePool:a0()}}function Vm(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=Fn),i}function T_(i,s,o){var u=s.pendingProps,f=!1,g=(s.flags&128)!==0,E;if((E=g)||(E=i!==null&&i.memoizedState===null?!1:(Oe.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ht){if(f?Ur(s):jr(),Ht){var b=de,D;if(D=b){t:{for(D=b,b=Ti;D.nodeType!==8;){if(!b){b=null;break t}if(D=Jn(D.nextSibling),D===null){b=null;break t}}b=D}b!==null?(s.memoizedState={dehydrated:b,treeContext:Qs!==null?{id:Zi,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},D=bn(18,null,null,0),D.stateNode=b,D.return=s,s.child=D,fn=s,de=null,D=!0):D=!1}D||Zs(s)}if(b=s.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return mp(b)?s.lanes=32:s.lanes=536870912,null;ir(s)}return b=u.children,u=u.fallback,f?(jr(),f=s.mode,b=Eh({mode:"hidden",children:b},f),u=$s(u,f,o,null),b.return=s,u.return=s,b.sibling=u,s.child=b,f=s.child,f.memoizedState=Dm(o),f.childLanes=Vm(i,E,o),s.memoizedState=Im,u):(Ur(s),Nm(s,b))}if(D=i.memoizedState,D!==null&&(b=D.dehydrated,b!==null)){if(g)s.flags&256?(Ur(s),s.flags&=-257,s=Mm(i,s,o)):s.memoizedState!==null?(jr(),s.child=i.child,s.flags|=128,s=null):(jr(),f=u.fallback,b=s.mode,u=Eh({mode:"visible",children:u.children},b),f=$s(f,b,o,null),f.flags|=2,u.return=s,f.return=s,u.sibling=f,s.child=u,ao(s,i.child,null,o),u=s.child,u.memoizedState=Dm(o),u.childLanes=Vm(i,E,o),s.memoizedState=Im,s=f);else if(Ur(s),mp(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var Y=E.dgst;E=Y,u=Error(r(419)),u.stack="",u.digest=E,Pl({value:u,source:null,stack:null}),s=Mm(i,s,o)}else if(Be||Ol(i,s,o,!1),E=(o&i.childLanes)!==0,Be||E){if(E=ee,E!==null&&(u=o&-o,u=(u&42)!==0?1:Rr(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==D.retryLane))throw D.retryLane=u,Qa(i,u),Cn(E,i,u),h_;b.data==="$?"||Wm(),s=Mm(i,s,o)}else b.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=D.treeContext,de=Jn(b.nextSibling),fn=s,Ht=!0,Ws=null,Ti=!1,i!==null&&(jn[Bn++]=Zi,jn[Bn++]=Ji,jn[Bn++]=Qs,Zi=i.id,Ji=i.overflow,Qs=s),s=Nm(s,u.children),s.flags|=4096);return s}return f?(jr(),f=u.fallback,b=s.mode,D=i.child,Y=D.sibling,u=Wi(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&65011712,Y!==null?f=Wi(Y,f):(f=$s(f,b,o,null),f.flags|=2),f.return=s,u.return=s,u.sibling=f,s.child=u,u=f,f=s.child,b=i.child.memoizedState,b===null?b=Dm(o):(D=b.cachePool,D!==null?(Y=Pe._currentValue,D=D.parent!==Y?{parent:Y,pool:Y}:D):D=a0(),b={baseLanes:b.baseLanes|o,cachePool:D}),f.memoizedState=b,f.childLanes=Vm(i,E,o),s.memoizedState=Im,u):(Ur(s),o=i.child,i=o.sibling,o=Wi(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(E=s.deletions,E===null?(s.deletions=[i],s.flags|=16):E.push(i)),s.child=o,s.memoizedState=null,o)}function Nm(i,s){return s=Eh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Eh(i,s){return i=bn(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Mm(i,s,o){return ao(s,i.child,null,o),i=Nm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function E_(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Wd(i.return,s,o)}function Pm(i,s,o,u,f){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function w_(i,s,o){var u=s.pendingProps,f=u.revealOrder,g=u.tail;if($e(i,s,u.children,o),u=Oe.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&E_(i,o,s);else if(i.tag===19)E_(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(lt(Oe,u),f){case"forwards":for(o=s.child,f=null;o!==null;)i=o.alternate,i!==null&&yh(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Pm(s,!1,f,o,g);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&yh(i)===null){s.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Pm(s,!0,o,null,g);break;case"together":Pm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function rr(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),qr|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(Ol(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=Wi(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Wi(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function Om(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&eh(i)))}function Yx(i,s,o){switch(s.tag){case 3:te(s,s.stateNode.containerInfo),Mr(s,Pe,i.memoizedState.cache),Ml();break;case 27:case 5:Ar(s);break;case 4:te(s,s.stateNode.containerInfo);break;case 10:Mr(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Ur(s),s.flags|=128,null):(o&s.child.childLanes)!==0?T_(i,s,o):(Ur(s),i=rr(i,s,o),i!==null?i.sibling:null);Ur(s);break;case 19:var f=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Ol(i,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return w_(i,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),lt(Oe,Oe.current),u)break;return null;case 22:case 23:return s.lanes=0,p_(i,s,o);case 24:Mr(s,Pe,i.memoizedState.cache)}return rr(i,s,o)}function b_(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Be=!0;else{if(!Om(i,o)&&(s.flags&128)===0)return Be=!1,Yx(i,s,o);Be=(i.flags&131072)!==0}else Be=!1,Ht&&(s.flags&1048576)!==0&&Jv(s,th,s.index);switch(s.lanes=0,s.tag){case 16:t:{i=s.pendingProps;var u=s.elementType,f=u._init;if(u=f(u._payload),s.type=u,typeof u=="function")qd(u)?(i=ia(u,i),s.tag=1,s=v_(null,s,u,i,o)):(s.tag=0,s=Cm(null,s,u,i,o));else{if(u!=null){if(f=u.$$typeof,f===st){s.tag=11,s=f_(null,s,u,i,o);break t}else if(f===C){s.tag=14,s=d_(null,s,u,i,o);break t}}throw s=we(u)||u,Error(r(306,s,""))}}return s;case 0:return Cm(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=ia(u,s.pendingProps),v_(i,s,u,f,o);case 3:t:{if(te(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var g=s.memoizedState;f=g.element,rm(i,s),Fl(s,u,null,o);var E=s.memoizedState;if(u=E.cache,Mr(s,Pe,u),u!==g.cache&&Zd(s,[Pe],o,!0),zl(),u=E.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=__(i,s,u,o);break t}else if(u!==f){f=Ln(Error(r(424)),s),Pl(f),s=__(i,s,u,o);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(de=Jn(i.firstChild),fn=s,Ht=!0,Ws=null,Ti=!0,o=e_(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ml(),u===f){s=rr(i,s,o);break t}$e(i,s,u,o)}s=s.child}return s;case 26:return Th(i,s),i===null?(o=xT(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ht||(o=s.type,i=s.pendingProps,u=Oh(At.current).createElement(o),u[Ve]=s,u[be]=i,Xe(u,o,i),ge(u),s.stateNode=u):s.memoizedState=xT(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ar(s),i===null&&Ht&&(u=s.stateNode=ST(s.type,s.pendingProps,At.current),fn=s,Ti=!0,f=de,$r(s.type)?(pp=f,de=Jn(u.firstChild)):de=f),$e(i,s,s.pendingProps.children,o),Th(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Ht&&((f=u=de)&&(u=EC(u,s.type,s.pendingProps,Ti),u!==null?(s.stateNode=u,fn=s,de=Jn(u.firstChild),Ti=!1,f=!0):f=!1),f||Zs(s)),Ar(s),f=s.type,g=s.pendingProps,E=i!==null?i.memoizedProps:null,u=g.children,hp(f,g)?u=null:E!==null&&hp(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=cm(i,s,jx,null,null,o),cu._currentValue=f),Th(i,s),$e(i,s,u,o),s.child;case 6:return i===null&&Ht&&((i=o=de)&&(o=wC(o,s.pendingProps,Ti),o!==null?(s.stateNode=o,fn=s,de=null,i=!0):i=!1),i||Zs(s)),null;case 13:return T_(i,s,o);case 4:return te(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=ao(s,null,u,o):$e(i,s,u,o),s.child;case 11:return f_(i,s,s.type,s.pendingProps,o);case 7:return $e(i,s,s.pendingProps,o),s.child;case 8:return $e(i,s,s.pendingProps.children,o),s.child;case 12:return $e(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Mr(s,s.type,u.value),$e(i,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,ta(s),f=en(f),u=u(f),s.flags|=1,$e(i,s,u,o),s.child;case 14:return d_(i,s,s.type,s.pendingProps,o);case 15:return m_(i,s,s.type,s.pendingProps,o);case 19:return w_(i,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},i===null?(o=Eh(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Wi(i.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return p_(i,s,o);case 24:return ta(s),u=en(Pe),i===null?(f=em(),f===null&&(f=ee,g=Jd(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),s.memoizedState={parent:u,cache:f},im(s),Mr(s,Pe,f)):((i.lanes&o)!==0&&(rm(i,s),Fl(s,null,null,o),zl()),f=i.memoizedState,g=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Mr(s,Pe,u)):(u=g.cache,Mr(s,Pe,u),u!==f.cache&&Zd(s,[Pe],o,!0))),$e(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function sr(i){i.flags|=4}function S_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!NT(s)){if(s=zn.current,s!==null&&((Bt&4194048)===Bt?Ei!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||s!==Ei))throw jl=nm,o0;i.flags|=8192}}function wh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?fl():536870912,i.lanes|=s,co|=s)}function Ql(i,s){if(!Ht)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function le(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function $x(i,s,o){var u=s.pendingProps;switch($d(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(s),null;case 1:return le(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),er(Pe),li(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Nl(s)?sr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,n0())),le(s),null;case 26:return o=s.memoizedState,i===null?(sr(s),o!==null?(le(s),S_(s,o)):(le(s),s.flags&=-16777217)):o?o!==i.memoizedState?(sr(s),le(s),S_(s,o)):(le(s),s.flags&=-16777217):(i.memoizedProps!==u&&sr(s),le(s),s.flags&=-16777217),null;case 27:Ui(s),o=At.current;var f=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&sr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return le(s),null}i=vt.current,Nl(s)?t0(s):(i=ST(f,u,o),s.stateNode=i,sr(s))}return le(s),null;case 5:if(Ui(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&sr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return le(s),null}if(i=vt.current,Nl(s))t0(s);else{switch(f=Oh(At.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}i[Ve]=s,i[be]=u;t:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break t;for(;f.sibling===null;){if(f.return===null||f.return===s)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=i;t:switch(Xe(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&sr(s)}}return le(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&sr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=At.current,Nl(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,f=fn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[Ve]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||yT(i.nodeValue,o)),i||Zs(s)}else i=Oh(i).createTextNode(u),i[Ve]=s,s.stateNode=i}return le(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Nl(s),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Ve]=s}else Ml(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;le(s),f=!1}else f=n0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(ir(s),s):(ir(s),null)}if(ir(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),wh(s,s.updateQueue),le(s),null;case 4:return li(),i===null&&ap(s.stateNode.containerInfo),le(s),null;case 10:return er(s.type),le(s),null;case 19:if(ct(Oe),f=s.memoizedState,f===null)return le(s),null;if(u=(s.flags&128)!==0,g=f.rendering,g===null)if(u)Ql(f,!1);else{if(me!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=yh(i),g!==null){for(s.flags|=128,Ql(f,!1),i=g.updateQueue,s.updateQueue=i,wh(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)Zv(o,i),o=o.sibling;return lt(Oe,Oe.current&1|2),s.child}i=i.sibling}f.tail!==null&&Vn()>Ah&&(s.flags|=128,u=!0,Ql(f,!1),s.lanes=4194304)}else{if(!u)if(i=yh(g),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,wh(s,i),Ql(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Ht)return le(s),null}else 2*Vn()-f.renderingStartTime>Ah&&o!==536870912&&(s.flags|=128,u=!0,Ql(f,!1),s.lanes=4194304);f.isBackwards?(g.sibling=s.child,s.child=g):(i=f.last,i!==null?i.sibling=g:s.child=g,f.last=g)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Vn(),s.sibling=null,i=Oe.current,lt(Oe,u?i&1|2:i&1),s):(le(s),null);case 22:case 23:return ir(s),lm(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(le(s),s.subtreeFlags&6&&(s.flags|=8192)):le(s),o=s.updateQueue,o!==null&&wh(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&ct(ea),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),er(Pe),le(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Qx(i,s){switch($d(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return er(Pe),li(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ui(s),null;case 13:if(ir(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ml()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ct(Oe),null;case 4:return li(),null;case 10:return er(s.type),null;case 22:case 23:return ir(s),lm(),i!==null&&ct(ea),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return er(Pe),null;case 25:return null;default:return null}}function A_(i,s){switch($d(s),s.tag){case 3:er(Pe),li();break;case 26:case 27:case 5:Ui(s);break;case 4:li();break;case 13:ir(s);break;case 19:ct(Oe);break;case 10:er(s.type);break;case 22:case 23:ir(s),lm(),i!==null&&ct(ea);break;case 24:er(Pe)}}function Xl(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var g=o.create,E=o.inst;u=g(),E.destroy=u}o=o.next}while(o!==f)}}catch(b){Jt(s,s.return,b)}}function Br(i,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&i)===i){var E=u.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=s;var D=o,Y=b;try{Y()}catch(Z){Jt(f,D,Z)}}}u=u.next}while(u!==g)}}catch(Z){Jt(s,s.return,Z)}}function R_(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{d0(s,o)}catch(u){Jt(i,i.return,u)}}}function x_(i,s,o){o.props=ia(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Jt(i,s,u)}}function Wl(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){Jt(i,s,f)}}function wi(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Jt(i,s,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Jt(i,s,f)}else o.current=null}function C_(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Jt(i,i.return,f)}}function km(i,s,o){try{var u=i.stateNode;gC(u,i.type,o,s),u[be]=s}catch(f){Jt(i,i.return,f)}}function I_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&$r(i.type)||i.tag===4}function Lm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||I_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&$r(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Um(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Ph));else if(u!==4&&(u===27&&$r(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(Um(i,s,o),i=i.sibling;i!==null;)Um(i,s,o),i=i.sibling}function bh(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&$r(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(bh(i,s,o),i=i.sibling;i!==null;)bh(i,s,o),i=i.sibling}function D_(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Xe(s,u,o),s[Ve]=i,s[be]=o}catch(g){Jt(i,i.return,g)}}var ar=!1,ve=!1,jm=!1,V_=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Xx(i,s){if(i=i.containerInfo,up=zh,i=Fv(i),Ld(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var E=0,b=-1,D=-1,Y=0,Z=0,nt=i,$=null;e:for(;;){for(var Q;nt!==o||f!==0&&nt.nodeType!==3||(b=E+f),nt!==g||u!==0&&nt.nodeType!==3||(D=E+u),nt.nodeType===3&&(E+=nt.nodeValue.length),(Q=nt.firstChild)!==null;)$=nt,nt=Q;for(;;){if(nt===i)break e;if($===o&&++Y===f&&(b=E),$===g&&++Z===u&&(D=E),(Q=nt.nextSibling)!==null)break;nt=$,$=nt.parentNode}nt=Q}o=b===-1||D===-1?null:{start:b,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(cp={focusedElem:i,selectionRange:o},zh=!1,ze=s;ze!==null;)if(s=ze,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,ze=i;else for(;ze!==null;){switch(s=ze,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var wt=ia(o.type,f,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(wt,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(_t){Jt(o,o.return,_t)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)dp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":dp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,ze=i;break}ze=s.return}}function N_(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:zr(i,o),u&4&&Xl(5,o);break;case 1:if(zr(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(E){Jt(o,o.return,E)}else{var f=ia(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(f,s,i.__reactInternalSnapshotBeforeUpdate)}catch(E){Jt(o,o.return,E)}}u&64&&R_(o),u&512&&Wl(o,o.return);break;case 3:if(zr(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{d0(i,s)}catch(E){Jt(o,o.return,E)}}break;case 27:s===null&&u&4&&D_(o);case 26:case 5:zr(i,o),s===null&&u&4&&C_(o),u&512&&Wl(o,o.return);break;case 12:zr(i,o);break;case 13:zr(i,o),u&4&&O_(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=sC.bind(null,o),bC(i,o))));break;case 22:if(u=o.memoizedState!==null||ar,!u){s=s!==null&&s.memoizedState!==null||ve,f=ar;var g=ve;ar=u,(ve=s)&&!g?Fr(i,o,(o.subtreeFlags&8772)!==0):zr(i,o),ar=f,ve=g}break;case 30:break;default:zr(i,o)}}function M_(i){var s=i.alternate;s!==null&&(i.alternate=null,M_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ir(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ae=null,pn=!1;function or(i,s,o){for(o=o.child;o!==null;)P_(i,s,o),o=o.sibling}function P_(i,s,o){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(fe,o)}catch{}switch(o.tag){case 26:ve||wi(o,s),or(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ve||wi(o,s);var u=ae,f=pn;$r(o.type)&&(ae=o.stateNode,pn=!1),or(i,s,o),au(o.stateNode),ae=u,pn=f;break;case 5:ve||wi(o,s);case 6:if(u=ae,f=pn,ae=null,or(i,s,o),ae=u,pn=f,ae!==null)if(pn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(o.stateNode)}catch(g){Jt(o,s,g)}else try{ae.removeChild(o.stateNode)}catch(g){Jt(o,s,g)}break;case 18:ae!==null&&(pn?(i=ae,wT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),mu(i)):wT(ae,o.stateNode));break;case 4:u=ae,f=pn,ae=o.stateNode.containerInfo,pn=!0,or(i,s,o),ae=u,pn=f;break;case 0:case 11:case 14:case 15:ve||Br(2,o,s),ve||Br(4,o,s),or(i,s,o);break;case 1:ve||(wi(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&x_(o,s,u)),or(i,s,o);break;case 21:or(i,s,o);break;case 22:ve=(u=ve)||o.memoizedState!==null,or(i,s,o),ve=u;break;default:or(i,s,o)}}function O_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{mu(i)}catch(o){Jt(s,s.return,o)}}function Wx(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new V_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new V_),s;default:throw Error(r(435,i.tag))}}function Bm(i,s){var o=Wx(i);s.forEach(function(u){var f=aC.bind(null,i,u);o.has(u)||(o.add(u),u.then(f,f))})}function Sn(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=i,E=s,b=E;t:for(;b!==null;){switch(b.tag){case 27:if($r(b.type)){ae=b.stateNode,pn=!1;break t}break;case 5:ae=b.stateNode,pn=!1;break t;case 3:case 4:ae=b.stateNode.containerInfo,pn=!0;break t}b=b.return}if(ae===null)throw Error(r(160));P_(g,E,f),ae=null,pn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)k_(s,i),s=s.sibling}var Zn=null;function k_(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Sn(s,i),An(i),u&4&&(Br(3,i,i.return),Xl(3,i),Br(5,i,i.return));break;case 1:Sn(s,i),An(i),u&512&&(ve||o===null||wi(o,o.return)),u&64&&ar&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Zn;if(Sn(s,i),An(i),u&512&&(ve||o===null||wi(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Ns]||g[Ve]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),Xe(g,u,o),g[Ve]=i,ge(g),u=g;break t;case"link":var E=DT("link","href",f).get(u+(o.href||""));if(E){for(var b=0;b<E.length;b++)if(g=E[b],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(b,1);break e}}g=f.createElement(u),Xe(g,u,o),f.head.appendChild(g);break;case"meta":if(E=DT("meta","content",f).get(u+(o.content||""))){for(b=0;b<E.length;b++)if(g=E[b],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(b,1);break e}}g=f.createElement(u),Xe(g,u,o),f.head.appendChild(g);break;default:throw Error(r(468,u))}g[Ve]=i,ge(g),u=g}i.stateNode=u}else VT(f,i.type,i.stateNode);else i.stateNode=IT(f,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?VT(f,i.type,i.stateNode):IT(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&km(i,i.memoizedProps,o.memoizedProps)}break;case 27:Sn(s,i),An(i),u&512&&(ve||o===null||wi(o,o.return)),o!==null&&u&4&&km(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Sn(s,i),An(i),u&512&&(ve||o===null||wi(o,o.return)),i.flags&32){f=i.stateNode;try{Mn(f,"")}catch(Q){Jt(i,i.return,Q)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,km(i,f,o!==null?o.memoizedProps:f)),u&1024&&(jm=!0);break;case 6:if(Sn(s,i),An(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(Q){Jt(i,i.return,Q)}}break;case 3:if(Uh=null,f=Zn,Zn=kh(s.containerInfo),Sn(s,i),Zn=f,An(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{mu(s.containerInfo)}catch(Q){Jt(i,i.return,Q)}jm&&(jm=!1,L_(i));break;case 4:u=Zn,Zn=kh(i.stateNode.containerInfo),Sn(s,i),An(i),Zn=u;break;case 12:Sn(s,i),An(i);break;case 13:Sn(s,i),An(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Km=Vn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Bm(i,u)));break;case 22:f=i.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,Y=ar,Z=ve;if(ar=Y||f,ve=Z||D,Sn(s,i),ve=Z,ar=Y,An(i),u&8192)t:for(s=i.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||D||ar||ve||ra(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){D=o=s;try{if(g=D.stateNode,f)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=D.stateNode;var nt=D.memoizedProps.style,$=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;b.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Q){Jt(D,D.return,Q)}}}else if(s.tag===6){if(o===null){D=s;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(Q){Jt(D,D.return,Q)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Bm(i,o))));break;case 19:Sn(s,i),An(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Bm(i,u)));break;case 30:break;case 21:break;default:Sn(s,i),An(i)}}function An(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(I_(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var f=o.stateNode,g=Lm(i);bh(i,g,f);break;case 5:var E=o.stateNode;o.flags&32&&(Mn(E,""),o.flags&=-33);var b=Lm(i);bh(i,b,E);break;case 3:case 4:var D=o.stateNode.containerInfo,Y=Lm(i);Um(i,Y,D);break;default:throw Error(r(161))}}catch(Z){Jt(i,i.return,Z)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function L_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;L_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function zr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)N_(i,s.alternate,s),s=s.sibling}function ra(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Br(4,s,s.return),ra(s);break;case 1:wi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&x_(s,s.return,o),ra(s);break;case 27:au(s.stateNode);case 26:case 5:wi(s,s.return),ra(s);break;case 22:s.memoizedState===null&&ra(s);break;case 30:ra(s);break;default:ra(s)}i=i.sibling}}function Fr(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=i,g=s,E=g.flags;switch(g.tag){case 0:case 11:case 15:Fr(f,g,o),Xl(4,g);break;case 1:if(Fr(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){Jt(u,u.return,Y)}if(u=g,f=u.updateQueue,f!==null){var b=u.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)f0(D[f],b)}catch(Y){Jt(u,u.return,Y)}}o&&E&64&&R_(g),Wl(g,g.return);break;case 27:D_(g);case 26:case 5:Fr(f,g,o),o&&u===null&&E&4&&C_(g),Wl(g,g.return);break;case 12:Fr(f,g,o);break;case 13:Fr(f,g,o),o&&E&4&&O_(f,g);break;case 22:g.memoizedState===null&&Fr(f,g,o),Wl(g,g.return);break;case 30:break;default:Fr(f,g,o)}s=s.sibling}}function zm(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&kl(o))}function Fm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&kl(i))}function bi(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)U_(i,s,o,u),s=s.sibling}function U_(i,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:bi(i,s,o,u),f&2048&&Xl(9,s);break;case 1:bi(i,s,o,u);break;case 3:bi(i,s,o,u),f&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&kl(i)));break;case 12:if(f&2048){bi(i,s,o,u),i=s.stateNode;try{var g=s.memoizedProps,E=g.id,b=g.onPostCommit;typeof b=="function"&&b(E,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(D){Jt(s,s.return,D)}}else bi(i,s,o,u);break;case 13:bi(i,s,o,u);break;case 23:break;case 22:g=s.stateNode,E=s.alternate,s.memoizedState!==null?g._visibility&2?bi(i,s,o,u):Zl(i,s):g._visibility&2?bi(i,s,o,u):(g._visibility|=2,oo(i,s,o,u,(s.subtreeFlags&10256)!==0)),f&2048&&zm(E,s);break;case 24:bi(i,s,o,u),f&2048&&Fm(s.alternate,s);break;default:bi(i,s,o,u)}}function oo(i,s,o,u,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,E=s,b=o,D=u,Y=E.flags;switch(E.tag){case 0:case 11:case 15:oo(g,E,b,D,f),Xl(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&2?oo(g,E,b,D,f):Zl(g,E):(Z._visibility|=2,oo(g,E,b,D,f)),f&&Y&2048&&zm(E.alternate,E);break;case 24:oo(g,E,b,D,f),f&&Y&2048&&Fm(E.alternate,E);break;default:oo(g,E,b,D,f)}s=s.sibling}}function Zl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,f=u.flags;switch(u.tag){case 22:Zl(o,u),f&2048&&zm(u.alternate,u);break;case 24:Zl(o,u),f&2048&&Fm(u.alternate,u);break;default:Zl(o,u)}s=s.sibling}}var Jl=8192;function lo(i){if(i.subtreeFlags&Jl)for(i=i.child;i!==null;)j_(i),i=i.sibling}function j_(i){switch(i.tag){case 26:lo(i),i.flags&Jl&&i.memoizedState!==null&&kC(Zn,i.memoizedState,i.memoizedProps);break;case 5:lo(i);break;case 3:case 4:var s=Zn;Zn=kh(i.stateNode.containerInfo),lo(i),Zn=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Jl,Jl=16777216,lo(i),Jl=s):lo(i));break;default:lo(i)}}function B_(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function tu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];ze=u,F_(u,i)}B_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)z_(i),i=i.sibling}function z_(i){switch(i.tag){case 0:case 11:case 15:tu(i),i.flags&2048&&Br(9,i,i.return);break;case 3:tu(i);break;case 12:tu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Sh(i)):tu(i);break;default:tu(i)}}function Sh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];ze=u,F_(u,i)}B_(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Br(8,s,s.return),Sh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Sh(s));break;default:Sh(s)}i=i.sibling}}function F_(i,s){for(;ze!==null;){var o=ze;switch(o.tag){case 0:case 11:case 15:Br(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:kl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,ze=u;else t:for(o=i;ze!==null;){u=ze;var f=u.sibling,g=u.return;if(M_(u),u===o){ze=null;break t}if(f!==null){f.return=g,ze=f;break t}ze=g}}}var Zx={getCacheForType:function(i){var s=en(Pe),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},Jx=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ee=null,Mt=null,Bt=0,$t=0,Rn=null,Hr=!1,uo=!1,Hm=!1,lr=0,me=0,qr=0,sa=0,qm=0,Fn=0,co=0,eu=null,gn=null,Gm=!1,Km=0,Ah=1/0,Rh=null,Gr=null,Qe=0,Kr=null,ho=null,fo=0,Ym=0,$m=null,H_=null,nu=0,Qm=null;function xn(){if((Yt&2)!==0&&Bt!==0)return Bt&-Bt;if(W.T!==null){var i=Ja;return i!==0?i:np()}return xr()}function q_(){Fn===0&&(Fn=(Bt&536870912)===0||Ht?hl():536870912);var i=zn.current;return i!==null&&(i.flags|=32),Fn}function Cn(i,s,o){(i===ee&&($t===2||$t===9)||i.cancelPendingCommit!==null)&&(mo(i,0),Yr(i,Bt,Fn,!1)),Bi(i,o),((Yt&2)===0||i!==ee)&&(i===ee&&((Yt&2)===0&&(sa|=o),me===4&&Yr(i,Bt,Fn,!1)),Si(i))}function G_(i,s,o){if((Yt&6)!==0)throw Error(r(327));var u=!o&&(s&124)===0&&(s&i.expiredLanes)===0||Vs(i,s),f=u?nC(i,s):Zm(i,s,!0),g=u;do{if(f===0){uo&&!u&&Yr(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!tC(o)){f=Zm(i,s,!1),g=!1;continue}if(f===2){if(g=s,i.errorRecoveryDisabledLanes&g)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;t:{var b=i;f=eu;var D=b.current.memoizedState.isDehydrated;if(D&&(mo(b,E).flags|=256),E=Zm(b,E,!1),E!==2){if(Hm&&!D){b.errorRecoveryDisabledLanes|=g,sa|=g,f=4;break t}g=gn,gn=f,g!==null&&(gn===null?gn=g:gn.push.apply(gn,g))}f=E}if(g=!1,f!==2)continue}}if(f===1){mo(i,0),Yr(i,s,0,!0);break}t:{switch(u=i,g=f,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Yr(u,s,Fn,!Hr);break t;case 2:gn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Km+300-Vn(),10<f)){if(Yr(u,s,Fn,!Hr),Da(u,0,!0)!==0)break t;u.timeoutHandle=TT(K_.bind(null,u,o,gn,Rh,Gm,s,Fn,sa,co,Hr,g,2,-0,0),f);break t}K_(u,o,gn,Rh,Gm,s,Fn,sa,co,Hr,g,0,-0,0)}}break}while(!0);Si(i)}function K_(i,s,o,u,f,g,E,b,D,Y,Z,nt,$,Q){if(i.timeoutHandle=-1,nt=s.subtreeFlags,(nt&8192||(nt&16785408)===16785408)&&(uu={stylesheets:null,count:0,unsuspend:OC},j_(s),nt=LC(),nt!==null)){i.cancelPendingCommit=nt(J_.bind(null,i,s,g,o,u,f,E,b,D,Z,1,$,Q)),Yr(i,g,E,!Y);return}J_(i,s,g,o,u,f,E,b,D)}function tC(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!wn(g(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Yr(i,s,o,u){s&=~qm,s&=~sa,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var f=s;0<f;){var g=31-tn(f),E=1<<g;u[g]=-1,f&=~E}o!==0&&ui(i,o,s)}function xh(){return(Yt&6)===0?(iu(0),!1):!0}function Xm(){if(Mt!==null){if($t===0)var i=Mt.return;else i=Mt,tr=Js=null,dm(i),so=null,Yl=0,i=Mt;for(;i!==null;)A_(i.alternate,i),i=i.return;Mt=null}}function mo(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,vC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Xm(),ee=i,Mt=o=Wi(i.current,null),Bt=s,$t=0,Rn=null,Hr=!1,uo=Vs(i,s),Hm=!1,co=Fn=qm=sa=qr=me=0,gn=eu=null,Gm=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var f=31-tn(u),g=1<<f;s|=i[f],u&=~g}return lr=s,Qc(),o}function Y_(i,s){Dt=null,W.H=mh,s===Ul||s===rh?(s=c0(),$t=3):s===o0?(s=c0(),$t=4):$t=s===h_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Rn=s,Mt===null&&(me=1,_h(i,Ln(s,i.current)))}function $_(){var i=W.H;return W.H=mh,i===null?mh:i}function Q_(){var i=W.A;return W.A=Zx,i}function Wm(){me=4,Hr||(Bt&4194048)!==Bt&&zn.current!==null||(uo=!0),(qr&134217727)===0&&(sa&134217727)===0||ee===null||Yr(ee,Bt,Fn,!1)}function Zm(i,s,o){var u=Yt;Yt|=2;var f=$_(),g=Q_();(ee!==i||Bt!==s)&&(Rh=null,mo(i,s)),s=!1;var E=me;t:do try{if($t!==0&&Mt!==null){var b=Mt,D=Rn;switch($t){case 8:Xm(),E=6;break t;case 3:case 2:case 9:case 6:zn.current===null&&(s=!0);var Y=$t;if($t=0,Rn=null,po(i,b,D,Y),o&&uo){E=0;break t}break;default:Y=$t,$t=0,Rn=null,po(i,b,D,Y)}}eC(),E=me;break}catch(Z){Y_(i,Z)}while(!0);return s&&i.shellSuspendCounter++,tr=Js=null,Yt=u,W.H=f,W.A=g,Mt===null&&(ee=null,Bt=0,Qc()),E}function eC(){for(;Mt!==null;)X_(Mt)}function nC(i,s){var o=Yt;Yt|=2;var u=$_(),f=Q_();ee!==i||Bt!==s?(Rh=null,Ah=Vn()+500,mo(i,s)):uo=Vs(i,s);t:do try{if($t!==0&&Mt!==null){s=Mt;var g=Rn;e:switch($t){case 1:$t=0,Rn=null,po(i,s,g,1);break;case 2:case 9:if(l0(g)){$t=0,Rn=null,W_(s);break}s=function(){$t!==2&&$t!==9||ee!==i||($t=7),Si(i)},g.then(s,s);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:l0(g)?($t=0,Rn=null,W_(s)):($t=0,Rn=null,po(i,s,g,7));break;case 5:var E=null;switch(Mt.tag){case 26:E=Mt.memoizedState;case 5:case 27:var b=Mt;if(!E||NT(E)){$t=0,Rn=null;var D=b.sibling;if(D!==null)Mt=D;else{var Y=b.return;Y!==null?(Mt=Y,Ch(Y)):Mt=null}break e}}$t=0,Rn=null,po(i,s,g,5);break;case 6:$t=0,Rn=null,po(i,s,g,6);break;case 8:Xm(),me=6;break t;default:throw Error(r(462))}}iC();break}catch(Z){Y_(i,Z)}while(!0);return tr=Js=null,W.H=u,W.A=f,Yt=o,Mt!==null?0:(ee=null,Bt=0,Qc(),me)}function iC(){for(;Mt!==null&&!ol();)X_(Mt)}function X_(i){var s=b_(i.alternate,i,lr);i.memoizedProps=i.pendingProps,s===null?Ch(i):Mt=s}function W_(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=y_(o,s,s.pendingProps,s.type,void 0,Bt);break;case 11:s=y_(o,s,s.pendingProps,s.type.render,s.ref,Bt);break;case 5:dm(s);default:A_(o,s),s=Mt=Zv(s,lr),s=b_(o,s,lr)}i.memoizedProps=i.pendingProps,s===null?Ch(i):Mt=s}function po(i,s,o,u){tr=Js=null,dm(s),so=null,Yl=0;var f=s.return;try{if(Kx(i,f,s,o,Bt)){me=1,_h(i,Ln(o,i.current)),Mt=null;return}}catch(g){if(f!==null)throw Mt=f,g;me=1,_h(i,Ln(o,i.current)),Mt=null;return}s.flags&32768?(Ht||u===1?i=!0:uo||(Bt&536870912)!==0?i=!1:(Hr=i=!0,(u===2||u===9||u===3||u===6)&&(u=zn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Z_(s,i)):Ch(s)}function Ch(i){var s=i;do{if((s.flags&32768)!==0){Z_(s,Hr);return}i=s.return;var o=$x(s.alternate,s,lr);if(o!==null){Mt=o;return}if(s=s.sibling,s!==null){Mt=s;return}Mt=s=i}while(s!==null);me===0&&(me=5)}function Z_(i,s){do{var o=Qx(i.alternate,i);if(o!==null){o.flags&=32767,Mt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Mt=i;return}Mt=i=o}while(i!==null);me=6,Mt=null}function J_(i,s,o,u,f,g,E,b,D){i.cancelPendingCommit=null;do Ih();while(Qe!==0);if((Yt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=Fd,dl(i,o,g,E,b,D),i===ee&&(Mt=ee=null,Bt=0),ho=s,Kr=i,fo=o,Ym=g,$m=f,H_=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,oC(xs,function(){return rT(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,f=at.p,at.p=2,E=Yt,Yt|=4;try{Xx(i,s,o)}finally{Yt=E,at.p=f,W.T=u}}Qe=1,tT(),eT(),nT()}}function tT(){if(Qe===1){Qe=0;var i=Kr,s=ho,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=at.p;at.p=2;var f=Yt;Yt|=4;try{k_(s,i);var g=cp,E=Fv(i.containerInfo),b=g.focusedElem,D=g.selectionRange;if(E!==b&&b&&b.ownerDocument&&zv(b.ownerDocument.documentElement,b)){if(D!==null&&Ld(b)){var Y=D.start,Z=D.end;if(Z===void 0&&(Z=Y),"selectionStart"in b)b.selectionStart=Y,b.selectionEnd=Math.min(Z,b.value.length);else{var nt=b.ownerDocument||document,$=nt&&nt.defaultView||window;if($.getSelection){var Q=$.getSelection(),wt=b.textContent.length,_t=Math.min(D.start,wt),Zt=D.end===void 0?_t:Math.min(D.end,wt);!Q.extend&&_t>Zt&&(E=Zt,Zt=_t,_t=E);var H=Bv(b,_t),O=Bv(b,Zt);if(H&&O&&(Q.rangeCount!==1||Q.anchorNode!==H.node||Q.anchorOffset!==H.offset||Q.focusNode!==O.node||Q.focusOffset!==O.offset)){var K=nt.createRange();K.setStart(H.node,H.offset),Q.removeAllRanges(),_t>Zt?(Q.addRange(K),Q.extend(O.node,O.offset)):(K.setEnd(O.node,O.offset),Q.addRange(K))}}}}for(nt=[],Q=b;Q=Q.parentNode;)Q.nodeType===1&&nt.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<nt.length;b++){var J=nt[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}zh=!!up,cp=up=null}finally{Yt=f,at.p=u,W.T=o}}i.current=s,Qe=2}}function eT(){if(Qe===2){Qe=0;var i=Kr,s=ho,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=at.p;at.p=2;var f=Yt;Yt|=4;try{N_(i,s.alternate,s)}finally{Yt=f,at.p=u,W.T=o}}Qe=3}}function nT(){if(Qe===4||Qe===3){Qe=0,Sc();var i=Kr,s=ho,o=fo,u=H_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Qe=5:(Qe=0,ho=Kr=null,iT(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Gr=null),Va(o),s=s.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(fe,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=W.T,f=at.p,at.p=2,W.T=null;try{for(var g=i.onRecoverableError,E=0;E<u.length;E++){var b=u[E];g(b.value,{componentStack:b.stack})}}finally{W.T=s,at.p=f}}(fo&3)!==0&&Ih(),Si(i),f=i.pendingLanes,(o&4194090)!==0&&(f&42)!==0?i===Qm?nu++:(nu=0,Qm=i):nu=0,iu(0)}}function iT(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,kl(s)))}function Ih(i){return tT(),eT(),nT(),rT()}function rT(){if(Qe!==5)return!1;var i=Kr,s=Ym;Ym=0;var o=Va(fo),u=W.T,f=at.p;try{at.p=32>o?32:o,W.T=null,o=$m,$m=null;var g=Kr,E=fo;if(Qe=0,ho=Kr=null,fo=0,(Yt&6)!==0)throw Error(r(331));var b=Yt;if(Yt|=4,z_(g.current),U_(g,g.current,E,o),Yt=b,iu(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(fe,g)}catch{}return!0}finally{at.p=f,W.T=u,iT(i,s)}}function sT(i,s,o){s=Ln(o,s),s=xm(i.stateNode,s,2),i=kr(i,s,2),i!==null&&(Bi(i,2),Si(i))}function Jt(i,s,o){if(i.tag===3)sT(i,i,o);else for(;s!==null;){if(s.tag===3){sT(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Gr===null||!Gr.has(u))){i=Ln(o,i),o=u_(2),u=kr(s,o,2),u!==null&&(c_(o,u,s,i),Bi(u,2),Si(u));break}}s=s.return}}function Jm(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new Jx;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(Hm=!0,f.add(o),i=rC.bind(null,i,s,o),s.then(i,i))}function rC(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ee===i&&(Bt&o)===o&&(me===4||me===3&&(Bt&62914560)===Bt&&300>Vn()-Km?(Yt&2)===0&&mo(i,0):qm|=o,co===Bt&&(co=0)),Si(i)}function aT(i,s){s===0&&(s=fl()),i=Qa(i,s),i!==null&&(Bi(i,s),Si(i))}function sC(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),aT(i,o)}function aC(i,s){var o=0;switch(i.tag){case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),aT(i,o)}function oC(i,s){return As(i,s)}var Dh=null,go=null,tp=!1,Vh=!1,ep=!1,aa=0;function Si(i){i!==go&&i.next===null&&(go===null?Dh=go=i:go=go.next=i),Vh=!0,tp||(tp=!0,uC())}function iu(i,s){if(!ep&&Vh){ep=!0;do for(var o=!1,u=Dh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var E=u.suspendedLanes,b=u.pingedLanes;g=(1<<31-tn(42|i)+1)-1,g&=f&~(E&~b),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,cT(u,g))}else g=Bt,g=Da(u,u===ee?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Vs(u,g)||(o=!0,cT(u,g));u=u.next}while(o);ep=!1}}function lC(){oT()}function oT(){Vh=tp=!1;var i=0;aa!==0&&(yC()&&(i=aa),aa=0);for(var s=Vn(),o=null,u=Dh;u!==null;){var f=u.next,g=lT(u,s);g===0?(u.next=null,o===null?Dh=f:o.next=f,f===null&&(go=o)):(o=u,(i!==0||(g&3)!==0)&&(Vh=!0)),u=f}iu(i)}function lT(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var E=31-tn(g),b=1<<E,D=f[E];D===-1?((b&o)===0||(b&u)!==0)&&(f[E]=cl(b,s)):D<=s&&(i.expiredLanes|=b),g&=~b}if(s=ee,o=Bt,o=Da(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&($t===2||$t===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Rs(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Vs(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&Rs(u),Va(o)){case 2:case 8:o=Ca;break;case 32:o=xs;break;case 268435456:o=Ia;break;default:o=xs}return u=uT.bind(null,i),o=As(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&Rs(u),i.callbackPriority=2,i.callbackNode=null,2}function uT(i,s){if(Qe!==0&&Qe!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Ih()&&i.callbackNode!==o)return null;var u=Bt;return u=Da(i,i===ee?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(G_(i,u,s),lT(i,Vn()),i.callbackNode!=null&&i.callbackNode===o?uT.bind(null,i):null)}function cT(i,s){if(Ih())return null;G_(i,s,!0)}function uC(){_C(function(){(Yt&6)!==0?As(ll,lC):oT()})}function np(){return aa===0&&(aa=hl()),aa}function hT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:La(""+i)}function fT(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function cC(i,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var g=hT((f[be]||null).action),E=u.submitter;E&&(s=(s=E[be]||null)?hT(s.formAction):E.getAttribute("formAction"),s!==null&&(g=s,E=null));var b=new Ua("action","action",null,u,f);i.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(aa!==0){var D=E?fT(f,E):new FormData(f);wm(o,{pending:!0,data:D,method:f.method,action:g},null,D)}}else typeof g=="function"&&(b.preventDefault(),D=E?fT(f,E):new FormData(f),wm(o,{pending:!0,data:D,method:f.method,action:g},g,D))},currentTarget:f}]})}}for(var ip=0;ip<zd.length;ip++){var rp=zd[ip],hC=rp.toLowerCase(),fC=rp[0].toUpperCase()+rp.slice(1);Wn(hC,"on"+fC)}Wn(Gv,"onAnimationEnd"),Wn(Kv,"onAnimationIteration"),Wn(Yv,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(Ix,"onTransitionRun"),Wn(Dx,"onTransitionStart"),Wn(Vx,"onTransitionCancel"),Wn($v,"onTransitionEnd"),Fi("onMouseEnter",["mouseout","mouseover"]),Fi("onMouseLeave",["mouseout","mouseover"]),Fi("onPointerEnter",["pointerout","pointerover"]),Fi("onPointerLeave",["pointerout","pointerover"]),Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ru));function dT(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;t:{var g=void 0;if(s)for(var E=u.length-1;0<=E;E--){var b=u[E],D=b.instance,Y=b.currentTarget;if(b=b.listener,D!==g&&f.isPropagationStopped())break t;g=b,f.currentTarget=Y;try{g(f)}catch(Z){vh(Z)}f.currentTarget=null,g=D}else for(E=0;E<u.length;E++){if(b=u[E],D=b.instance,Y=b.currentTarget,b=b.listener,D!==g&&f.isPropagationStopped())break t;g=b,f.currentTarget=Y;try{g(f)}catch(Z){vh(Z)}f.currentTarget=null,g=D}}}}function Pt(i,s){var o=s[pl];o===void 0&&(o=s[pl]=new Set);var u=i+"__bubble";o.has(u)||(mT(s,i,2,!1),o.add(u))}function sp(i,s,o){var u=0;s&&(u|=4),mT(o,i,u,s)}var Nh="_reactListening"+Math.random().toString(36).slice(2);function ap(i){if(!i[Nh]){i[Nh]=!0,gl.forEach(function(o){o!=="selectionchange"&&(dC.has(o)||sp(o,!1,i),sp(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Nh]||(s[Nh]=!0,sp("selectionchange",!1,s))}}function mT(i,s,o,u){switch(UT(s)){case 2:var f=BC;break;case 8:f=zC;break;default:f=Tp}o=f.bind(null,s,o,i),f=void 0,!On||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(s,o,{capture:!0,passive:f}):i.addEventListener(s,o,!0):f!==void 0?i.addEventListener(s,o,{passive:f}):i.addEventListener(s,o,!1)}function op(i,s,o,u,f){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var b=u.stateNode.containerInfo;if(b===f)break;if(E===4)for(E=u.return;E!==null;){var D=E.tag;if((D===3||D===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;b!==null;){if(E=zi(b),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){u=g=E;continue t}b=b.parentNode}}u=u.return}Pc(function(){var Y=g,Z=Pn(o),nt=[];t:{var $=Qv.get(i);if($!==void 0){var Q=Ua,wt=i;switch(i){case"keypress":if(pi(o)===0)break t;case"keydown":case"keyup":Q=qa;break;case"focusin":wt="focus",Q=za;break;case"focusout":wt="blur",Q=za;break;case"beforeblur":case"afterblur":Q=za;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=kn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Md;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Fc;break;case Gv:case Kv:case Yv:Q=Fa;break;case $v:Q=qc;break;case"scroll":case"scrollend":Q=Oc;break;case"wheel":Q=Ga;break;case"copy":case"cut":case"paste":Q=Ha;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Cl;break;case"toggle":case"beforetoggle":Q=Kc}var _t=(s&4)!==0,Zt=!_t&&(i==="scroll"||i==="scrollend"),H=_t?$!==null?$+"Capture":null:$;_t=[];for(var O=Y,K;O!==null;){var J=O;if(K=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||K===null||H===null||(J=js(O,H),J!=null&&_t.push(su(O,J,K))),Zt)break;O=O.return}0<_t.length&&($=new Q($,wt,null,o,Z),nt.push({event:$,listeners:_t}))}}if((s&7)===0){t:{if($=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",$&&o!==Gi&&(wt=o.relatedTarget||o.fromElement)&&(zi(wt)||wt[Nn]))break t;if((Q||$)&&($=Z.window===Z?Z:($=Z.ownerDocument)?$.defaultView||$.parentWindow:window,Q?(wt=o.relatedTarget||o.toElement,Q=Y,wt=wt?zi(wt):null,wt!==null&&(Zt=l(wt),_t=wt.tag,wt!==Zt||_t!==5&&_t!==27&&_t!==6)&&(wt=null)):(Q=null,wt=Y),Q!==wt)){if(_t=kn,J="onMouseLeave",H="onMouseEnter",O="mouse",(i==="pointerout"||i==="pointerover")&&(_t=Cl,J="onPointerLeave",H="onPointerEnter",O="pointer"),Zt=Q==null?$:hi(Q),K=wt==null?$:hi(wt),$=new _t(J,O+"leave",Q,o,Z),$.target=Zt,$.relatedTarget=K,J=null,zi(Z)===Y&&(_t=new _t(H,O+"enter",wt,o,Z),_t.target=K,_t.relatedTarget=Zt,J=_t),Zt=J,Q&&wt)e:{for(_t=Q,H=wt,O=0,K=_t;K;K=yo(K))O++;for(K=0,J=H;J;J=yo(J))K++;for(;0<O-K;)_t=yo(_t),O--;for(;0<K-O;)H=yo(H),K--;for(;O--;){if(_t===H||H!==null&&_t===H.alternate)break e;_t=yo(_t),H=yo(H)}_t=null}else _t=null;Q!==null&&pT(nt,$,Q,_t,!1),wt!==null&&Zt!==null&&pT(nt,Zt,wt,_t,!0)}}t:{if($=Y?hi(Y):window,Q=$.nodeName&&$.nodeName.toLowerCase(),Q==="select"||Q==="input"&&$.type==="file")var mt=Pv;else if(Me($))if(Ov)mt=Rx;else{mt=Sx;var Nt=bx}else Q=$.nodeName,!Q||Q.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Y&&El(Y.elementType)&&(mt=Pv):mt=Ax;if(mt&&(mt=mt(i,Y))){Xi(nt,mt,o,Z);break t}Nt&&Nt(i,$,Y),i==="focusout"&&Y&&$.type==="number"&&Y.memoizedProps.value!=null&&Vr($,"number",$.value)}switch(Nt=Y?hi(Y):window,i){case"focusin":(Me(Nt)||Nt.contentEditable==="true")&&(Ka=Nt,Ud=Y,Vl=null);break;case"focusout":Vl=Ud=Ka=null;break;case"mousedown":jd=!0;break;case"contextmenu":case"mouseup":case"dragend":jd=!1,Hv(nt,o,Z);break;case"selectionchange":if(Cx)break;case"keydown":case"keyup":Hv(nt,o,Z)}var gt;if(vi)t:{switch(i){case"compositionstart":var Tt="onCompositionStart";break t;case"compositionend":Tt="onCompositionEnd";break t;case"compositionupdate":Tt="onCompositionUpdate";break t}Tt=void 0}else Ut?X(i,o)&&(Tt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Tt="onCompositionStart");Tt&&(_&&o.locale!=="ko"&&(Ut||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&Ut&&(gt=bl()):(mi=Z,Nr="value"in mi?mi.value:mi.textContent,Ut=!0)),Nt=Mh(Y,Tt),0<Nt.length&&(Tt=new Rl(Tt,i,null,o,Z),nt.push({event:Tt,listeners:Nt}),gt?Tt.data=gt:(gt=ut(o),gt!==null&&(Tt.data=gt)))),(gt=v?Ne(i,o):jt(i,o))&&(Tt=Mh(Y,"onBeforeInput"),0<Tt.length&&(Nt=new Rl("onBeforeInput","beforeinput",null,o,Z),nt.push({event:Nt,listeners:Tt}),Nt.data=gt)),cC(nt,i,Y,o,Z)}dT(nt,s)})}function su(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Mh(i,s){for(var o=s+"Capture",u=[];i!==null;){var f=i,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=js(i,o),f!=null&&u.unshift(su(i,f,g)),f=js(i,s),f!=null&&u.push(su(i,f,g))),i.tag===3)return u;i=i.return}return[]}function yo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function pT(i,s,o,u,f){for(var g=s._reactName,E=[];o!==null&&o!==u;){var b=o,D=b.alternate,Y=b.stateNode;if(b=b.tag,D!==null&&D===u)break;b!==5&&b!==26&&b!==27||Y===null||(D=Y,f?(Y=js(o,g),Y!=null&&E.unshift(su(o,Y,D))):f||(Y=js(o,g),Y!=null&&E.push(su(o,Y,D)))),o=o.return}E.length!==0&&i.push({event:s,listeners:E})}var mC=/\r\n?/g,pC=/\u0000|\uFFFD/g;function gT(i){return(typeof i=="string"?i:""+i).replace(mC,`
`).replace(pC,"")}function yT(i,s){return s=gT(s),gT(i)===s}function Ph(){}function Wt(i,s,o,u,f,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Mn(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Mn(i,""+u);break;case"className":fi(i,"class",u);break;case"tabIndex":fi(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":fi(i,o,u);break;case"style":Tl(i,u,g);break;case"data":if(s!=="object"){fi(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=La(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&Wt(i,s,"name",f.name,f,null),Wt(i,s,"formEncType",f.formEncType,f,null),Wt(i,s,"formMethod",f.formMethod,f,null),Wt(i,s,"formTarget",f.formTarget,f,null)):(Wt(i,s,"encType",f.encType,f,null),Wt(i,s,"method",f.method,f,null),Wt(i,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=La(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Ph);break;case"onScroll":u!=null&&Pt("scroll",i);break;case"onScrollEnd":u!=null&&Pt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=La(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Pt("beforetoggle",i),Pt("toggle",i),Dr(i,"popover",u);break;case"xlinkActuate":Ke(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ke(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ke(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ke(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ke(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ke(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ke(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ke(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ke(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Dr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Vd.get(o)||o,Dr(i,o,u))}}function lp(i,s,o,u,f,g){switch(o){case"style":Tl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Mn(i,u):(typeof u=="number"||typeof u=="bigint")&&Mn(i,""+u);break;case"onScroll":u!=null&&Pt("scroll",i);break;case"onScrollEnd":u!=null&&Pt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Ph);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Na.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),g=i[be]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,f);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Dr(i,o,u)}}}function Xe(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",i),Pt("load",i);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Wt(i,s,g,E,o,null)}}f&&Wt(i,s,"srcSet",o.srcSet,o,null),u&&Wt(i,s,"src",o.src,o,null);return;case"input":Pt("invalid",i);var b=g=E=f=null,D=null,Y=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":f=Z;break;case"type":E=Z;break;case"checked":D=Z;break;case"defaultChecked":Y=Z;break;case"value":g=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:Wt(i,s,u,Z,o,null)}}ks(i,g,b,D,Y,E,f,!1),ka(i);return;case"select":Pt("invalid",i),u=E=g=null;for(f in o)if(o.hasOwnProperty(f)&&(b=o[f],b!=null))switch(f){case"value":g=b;break;case"defaultValue":E=b;break;case"multiple":u=b;default:Wt(i,s,f,b,o,null)}s=g,o=E,i.multiple=!!u,s!=null?qi(i,!!u,s,!1):o!=null&&qi(i,!!u,o,!0);return;case"textarea":Pt("invalid",i),g=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(b=o[E],b!=null))switch(E){case"value":u=b;break;case"defaultValue":f=b;break;case"children":g=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:Wt(i,s,E,b,o,null)}Ls(i,u,f,g),ka(i);return;case"option":for(D in o)if(o.hasOwnProperty(D)&&(u=o[D],u!=null))switch(D){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Wt(i,s,D,u,o,null)}return;case"dialog":Pt("beforetoggle",i),Pt("toggle",i),Pt("cancel",i),Pt("close",i);break;case"iframe":case"object":Pt("load",i);break;case"video":case"audio":for(u=0;u<ru.length;u++)Pt(ru[u],i);break;case"image":Pt("error",i),Pt("load",i);break;case"details":Pt("toggle",i);break;case"embed":case"source":case"link":Pt("error",i),Pt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(u=o[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Wt(i,s,Y,u,o,null)}return;default:if(El(s)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&lp(i,s,Z,u,o,void 0));return}}for(b in o)o.hasOwnProperty(b)&&(u=o[b],u!=null&&Wt(i,s,b,u,o,null))}function gC(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,E=null,b=null,D=null,Y=null,Z=null;for(Q in o){var nt=o[Q];if(o.hasOwnProperty(Q)&&nt!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=nt;default:u.hasOwnProperty(Q)||Wt(i,s,Q,null,u,nt)}}for(var $ in u){var Q=u[$];if(nt=o[$],u.hasOwnProperty($)&&(Q!=null||nt!=null))switch($){case"type":g=Q;break;case"name":f=Q;break;case"checked":Y=Q;break;case"defaultChecked":Z=Q;break;case"value":E=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Q!==nt&&Wt(i,s,$,Q,u,nt)}}En(i,E,b,D,Y,Z,g,f);return;case"select":Q=E=b=$=null;for(g in o)if(D=o[g],o.hasOwnProperty(g)&&D!=null)switch(g){case"value":break;case"multiple":Q=D;default:u.hasOwnProperty(g)||Wt(i,s,g,null,u,D)}for(f in u)if(g=u[f],D=o[f],u.hasOwnProperty(f)&&(g!=null||D!=null))switch(f){case"value":$=g;break;case"defaultValue":b=g;break;case"multiple":E=g;default:g!==D&&Wt(i,s,f,g,u,D)}s=b,o=E,u=Q,$!=null?qi(i,!!o,$,!1):!!u!=!!o&&(s!=null?qi(i,!!o,s,!0):qi(i,!!o,o?[]:"",!1));return;case"textarea":Q=$=null;for(b in o)if(f=o[b],o.hasOwnProperty(b)&&f!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Wt(i,s,b,null,u,f)}for(E in u)if(f=u[E],g=o[E],u.hasOwnProperty(E)&&(f!=null||g!=null))switch(E){case"value":$=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==g&&Wt(i,s,E,f,u,g)}Qt(i,$,Q);return;case"option":for(var wt in o)if($=o[wt],o.hasOwnProperty(wt)&&$!=null&&!u.hasOwnProperty(wt))switch(wt){case"selected":i.selected=!1;break;default:Wt(i,s,wt,null,u,$)}for(D in u)if($=u[D],Q=o[D],u.hasOwnProperty(D)&&$!==Q&&($!=null||Q!=null))switch(D){case"selected":i.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Wt(i,s,D,$,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in o)$=o[_t],o.hasOwnProperty(_t)&&$!=null&&!u.hasOwnProperty(_t)&&Wt(i,s,_t,null,u,$);for(Y in u)if($=u[Y],Q=o[Y],u.hasOwnProperty(Y)&&$!==Q&&($!=null||Q!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:Wt(i,s,Y,$,u,Q)}return;default:if(El(s)){for(var Zt in o)$=o[Zt],o.hasOwnProperty(Zt)&&$!==void 0&&!u.hasOwnProperty(Zt)&&lp(i,s,Zt,void 0,u,$);for(Z in u)$=u[Z],Q=o[Z],!u.hasOwnProperty(Z)||$===Q||$===void 0&&Q===void 0||lp(i,s,Z,$,u,Q);return}}for(var H in o)$=o[H],o.hasOwnProperty(H)&&$!=null&&!u.hasOwnProperty(H)&&Wt(i,s,H,null,u,$);for(nt in u)$=u[nt],Q=o[nt],!u.hasOwnProperty(nt)||$===Q||$==null&&Q==null||Wt(i,s,nt,$,u,Q)}var up=null,cp=null;function Oh(i){return i.nodeType===9?i:i.ownerDocument}function vT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _T(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function hp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var fp=null;function yC(){var i=window.event;return i&&i.type==="popstate"?i===fp?!1:(fp=i,!0):(fp=null,!1)}var TT=typeof setTimeout=="function"?setTimeout:void 0,vC=typeof clearTimeout=="function"?clearTimeout:void 0,ET=typeof Promise=="function"?Promise:void 0,_C=typeof queueMicrotask=="function"?queueMicrotask:typeof ET<"u"?function(i){return ET.resolve(null).then(i).catch(TC)}:TT;function TC(i){setTimeout(function(){throw i})}function $r(i){return i==="head"}function wT(i,s){var o=s,u=0,f=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var E=i.ownerDocument;if(o&1&&au(E.documentElement),o&2&&au(E.body),o&4)for(o=E.head,au(o),E=o.firstChild;E;){var b=E.nextSibling,D=E.nodeName;E[Ns]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=b}}if(f===0){i.removeChild(g),mu(s);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);mu(s)}function dp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":dp(o),Ir(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function EC(i,s,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ns])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Jn(i.nextSibling),i===null)break}return null}function wC(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Jn(i.nextSibling),i===null))return null;return i}function mp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function bC(i,s){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Jn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var pp=null;function bT(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function ST(i,s,o){switch(s=Oh(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function au(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Ir(i)}var Hn=new Map,AT=new Set;function kh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ur=at.d;at.d={f:SC,r:AC,D:RC,C:xC,L:CC,m:IC,X:VC,S:DC,M:NC};function SC(){var i=ur.f(),s=xh();return i||s}function AC(i){var s=ci(i);s!==null&&s.tag===5&&s.type==="form"?G0(s):ur.r(i)}var vo=typeof document>"u"?null:document;function RT(i,s,o){var u=vo;if(u&&typeof s=="string"&&s){var f=Se(s);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),AT.has(f)||(AT.add(f),i={rel:i,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),Xe(s,"link",i),ge(s),u.head.appendChild(s)))}}function RC(i){ur.D(i),RT("dns-prefetch",i,null)}function xC(i,s){ur.C(i,s),RT("preconnect",i,s)}function CC(i,s,o){ur.L(i,s,o);var u=vo;if(u&&i&&s){var f='link[rel="preload"][as="'+Se(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Se(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Se(o.imageSizes)+'"]')):f+='[href="'+Se(i)+'"]';var g=f;switch(s){case"style":g=_o(i);break;case"script":g=To(i)}Hn.has(g)||(i=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),Hn.set(g,i),u.querySelector(f)!==null||s==="style"&&u.querySelector(ou(g))||s==="script"&&u.querySelector(lu(g))||(s=u.createElement("link"),Xe(s,"link",i),ge(s),u.head.appendChild(s)))}}function IC(i,s){ur.m(i,s);var o=vo;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Se(u)+'"][href="'+Se(i)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=To(i)}if(!Hn.has(g)&&(i=y({rel:"modulepreload",href:i},s),Hn.set(g,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(lu(g)))return}u=o.createElement("link"),Xe(u,"link",i),ge(u),o.head.appendChild(u)}}}function DC(i,s,o){ur.S(i,s,o);var u=vo;if(u&&i){var f=un(u).hoistableStyles,g=_o(i);s=s||"default";var E=f.get(g);if(!E){var b={loading:0,preload:null};if(E=u.querySelector(ou(g)))b.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},o),(o=Hn.get(g))&&gp(i,o);var D=E=u.createElement("link");ge(D),Xe(D,"link",i),D._p=new Promise(function(Y,Z){D.onload=Y,D.onerror=Z}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Lh(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(g,E)}}}function VC(i,s){ur.X(i,s);var o=vo;if(o&&i){var u=un(o).hoistableScripts,f=To(i),g=u.get(f);g||(g=o.querySelector(lu(f)),g||(i=y({src:i,async:!0},s),(s=Hn.get(f))&&yp(i,s),g=o.createElement("script"),ge(g),Xe(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function NC(i,s){ur.M(i,s);var o=vo;if(o&&i){var u=un(o).hoistableScripts,f=To(i),g=u.get(f);g||(g=o.querySelector(lu(f)),g||(i=y({src:i,async:!0,type:"module"},s),(s=Hn.get(f))&&yp(i,s),g=o.createElement("script"),ge(g),Xe(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function xT(i,s,o,u){var f=(f=At.current)?kh(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=_o(o.href),o=un(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=_o(o.href);var g=un(f).hoistableStyles,E=g.get(i);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,E),(g=f.querySelector(ou(i)))&&!g._p&&(E.instance=g,E.state.loading=5),Hn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Hn.set(i,o),g||MC(f,i,o,E.state))),s&&u===null)throw Error(r(528,""));return E}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=To(o),o=un(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function _o(i){return'href="'+Se(i)+'"'}function ou(i){return'link[rel="stylesheet"]['+i+"]"}function CT(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function MC(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Xe(s,"link",o),ge(s),i.head.appendChild(s))}function To(i){return'[src="'+Se(i)+'"]'}function lu(i){return"script[async]"+i}function IT(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+Se(o.href)+'"]');if(u)return s.instance=u,ge(u),u;var f=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),ge(u),Xe(u,"style",f),Lh(u,o.precedence,i),s.instance=u;case"stylesheet":f=_o(o.href);var g=i.querySelector(ou(f));if(g)return s.state.loading|=4,s.instance=g,ge(g),g;u=CT(o),(f=Hn.get(f))&&gp(u,f),g=(i.ownerDocument||i).createElement("link"),ge(g);var E=g;return E._p=new Promise(function(b,D){E.onload=b,E.onerror=D}),Xe(g,"link",u),s.state.loading|=4,Lh(g,o.precedence,i),s.instance=g;case"script":return g=To(o.src),(f=i.querySelector(lu(g)))?(s.instance=f,ge(f),f):(u=o,(f=Hn.get(g))&&(u=y({},o),yp(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),ge(f),Xe(f,"link",u),i.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Lh(u,o.precedence,i));return s.instance}function Lh(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,E=0;E<u.length;E++){var b=u[E];if(b.dataset.precedence===s)g=b;else if(g!==f)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function gp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function yp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Uh=null;function DT(i,s,o){if(Uh===null){var u=new Map,f=Uh=new Map;f.set(o,u)}else f=Uh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var g=o[f];if(!(g[Ns]||g[Ve]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(s)||"";E=i+E;var b=u.get(E);b?b.push(g):u.set(E,[g])}}return u}function VT(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function PC(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function NT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var uu=null;function OC(){}function kC(i,s,o){if(uu===null)throw Error(r(475));var u=uu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=_o(o.href),g=i.querySelector(ou(f));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=jh.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=g,ge(g);return}g=i.ownerDocument||i,o=CT(o),(f=Hn.get(f))&&gp(o,f),g=g.createElement("link"),ge(g);var E=g;E._p=new Promise(function(b,D){E.onload=b,E.onerror=D}),Xe(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=jh.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function LC(){if(uu===null)throw Error(r(475));var i=uu;return i.stylesheets&&i.count===0&&vp(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&vp(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function jh(){if(this.count--,this.count===0){if(this.stylesheets)vp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Bh=null;function vp(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Bh=new Map,s.forEach(UC,i),Bh=null,jh.call(i))}function UC(i,s){if(!(s.state.loading&4)){var o=Bh.get(i);if(o)var u=o.get(null);else{o=new Map,Bh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var E=f[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=s.instance,E=f.getAttribute("data-precedence"),g=o.get(E)||u,g===u&&o.set(null,f),o.set(E,f),this.count++,u=jh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),s.state.loading|=4}}var cu={$$typeof:F,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function jC(i,s,o,u,f,g,E,b){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ji(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ji(0),this.hiddenUpdates=ji(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function MT(i,s,o,u,f,g,E,b,D,Y,Z,nt){return i=new jC(i,s,o,E,b,D,Y,nt),s=1,g===!0&&(s|=24),g=bn(3,null,null,s),i.current=g,g.stateNode=i,s=Jd(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},im(g),i}function PT(i){return i?(i=Xa,i):Xa}function OT(i,s,o,u,f,g){f=PT(f),u.context===null?u.context=f:u.pendingContext=f,u=Or(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=kr(i,u,s),o!==null&&(Cn(o,i,s),Bl(o,i,s))}function kT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function _p(i,s){kT(i,s),(i=i.alternate)&&kT(i,s)}function LT(i){if(i.tag===13){var s=Qa(i,67108864);s!==null&&Cn(s,i,67108864),_p(i,67108864)}}var zh=!0;function BC(i,s,o,u){var f=W.T;W.T=null;var g=at.p;try{at.p=2,Tp(i,s,o,u)}finally{at.p=g,W.T=f}}function zC(i,s,o,u){var f=W.T;W.T=null;var g=at.p;try{at.p=8,Tp(i,s,o,u)}finally{at.p=g,W.T=f}}function Tp(i,s,o,u){if(zh){var f=Ep(u);if(f===null)op(i,s,u,Fh,o),jT(i,u);else if(HC(f,i,s,o,u))u.stopPropagation();else if(jT(i,u),s&4&&-1<FC.indexOf(i)){for(;f!==null;){var g=ci(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=$n(g.pendingLanes);if(E!==0){var b=g;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var D=1<<31-tn(E);b.entanglements[1]|=D,E&=~D}Si(g),(Yt&6)===0&&(Ah=Vn()+500,iu(0))}}break;case 13:b=Qa(g,2),b!==null&&Cn(b,g,2),xh(),_p(g,2)}if(g=Ep(u),g===null&&op(i,s,u,Fh,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else op(i,s,u,null,o)}}function Ep(i){return i=Pn(i),wp(i)}var Fh=null;function wp(i){if(Fh=null,i=zi(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Fh=i,null}function UT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ad()){case ll:return 2;case Ca:return 8;case xs:case Rd:return 32;case Ia:return 268435456;default:return 32}default:return 32}}var bp=!1,Qr=null,Xr=null,Wr=null,hu=new Map,fu=new Map,Zr=[],FC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jT(i,s){switch(i){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":hu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":fu.delete(s.pointerId)}}function du(i,s,o,u,f,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},s!==null&&(s=ci(s),s!==null&&LT(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function HC(i,s,o,u,f){switch(s){case"focusin":return Qr=du(Qr,i,s,o,u,f),!0;case"dragenter":return Xr=du(Xr,i,s,o,u,f),!0;case"mouseover":return Wr=du(Wr,i,s,o,u,f),!0;case"pointerover":var g=f.pointerId;return hu.set(g,du(hu.get(g)||null,i,s,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,fu.set(g,du(fu.get(g)||null,i,s,o,u,f)),!0}return!1}function BT(i){var s=zi(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,xc(i.priority,function(){if(o.tag===13){var u=xn();u=Rr(u);var f=Qa(o,u);f!==null&&Cn(f,o,u),_p(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Hh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Ep(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Gi=u,o.target.dispatchEvent(u),Gi=null}else return s=ci(o),s!==null&&LT(s),i.blockedOn=o,!1;s.shift()}return!0}function zT(i,s,o){Hh(i)&&o.delete(s)}function qC(){bp=!1,Qr!==null&&Hh(Qr)&&(Qr=null),Xr!==null&&Hh(Xr)&&(Xr=null),Wr!==null&&Hh(Wr)&&(Wr=null),hu.forEach(zT),fu.forEach(zT)}function qh(i,s){i.blockedOn===s&&(i.blockedOn=null,bp||(bp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qC)))}var Gh=null;function FT(i){Gh!==i&&(Gh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Gh===i&&(Gh=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],f=i[s+2];if(typeof u!="function"){if(wp(u||o)===null)continue;break}var g=ci(o);g!==null&&(i.splice(s,3),s-=3,wm(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function mu(i){function s(D){return qh(D,i)}Qr!==null&&qh(Qr,i),Xr!==null&&qh(Xr,i),Wr!==null&&qh(Wr,i),hu.forEach(s),fu.forEach(s);for(var o=0;o<Zr.length;o++){var u=Zr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Zr.length&&(o=Zr[0],o.blockedOn===null);)BT(o),o.blockedOn===null&&Zr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],E=f[be]||null;if(typeof g=="function")E||FT(o);else if(E){var b=null;if(g&&g.hasAttribute("formAction")){if(f=g,E=g[be]||null)b=E.formAction;else if(wp(f)!==null)continue}else b=E.action;typeof b=="function"?o[u+1]=b:(o.splice(u,3),u-=3),FT(o)}}}function Sp(i){this._internalRoot=i}Kh.prototype.render=Sp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=xn();OT(o,u,i,s,null,null)},Kh.prototype.unmount=Sp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;OT(i.current,2,null,i,null,null),xh(),s[Nn]=null}};function Kh(i){this._internalRoot=i}Kh.prototype.unstable_scheduleHydration=function(i){if(i){var s=xr();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Zr.length&&s!==0&&s<Zr[o].priority;o++);Zr.splice(o,0,i),o===0&&BT(i)}};var HT=t.version;if(HT!=="19.1.1")throw Error(r(527,HT,"19.1.1"));at.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var GC={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yh.isDisabled&&Yh.supportsFiber)try{fe=Yh.inject(GC),Kt=Yh}catch{}}return gu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",f=s_,g=a_,E=o_,b=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(b=s.unstable_transitionCallbacks)),s=MT(i,1,!1,null,null,o,u,f,g,E,b,null),i[Nn]=s.current,ap(i),new Sp(s)},gu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,f="",g=s_,E=a_,b=o_,D=null,Y=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(b=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(D=o.unstable_transitionCallbacks),o.formState!==void 0&&(Y=o.formState)),s=MT(i,1,!0,s,o??null,u,f,g,E,b,D,Y),s.context=PT(null),o=s.current,u=xn(),u=Rr(u),f=Or(u),f.callback=null,kr(o,f,u),o=u,s.current.lanes=o,Bi(s,o),Si(s),i[Nn]=s.current,ap(i),new Kh(s)},gu.version="19.1.1",gu}var JT;function eI(){if(JT)return xp.exports;JT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),xp.exports=tI(),xp.exports}var nI=eI();/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var tE="popstate";function iI(e={}){function t(r,a){let{pathname:l,search:c,hash:d}=r.location;return ag("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Bu(a)}return sI(t,n,null,e)}function ce(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Mi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function rI(){return Math.random().toString(36).substring(2,10)}function eE(e,t){return{usr:e.state,key:e.key,idx:t}}function ag(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Yo(t):t,state:n,key:t&&t.key||r||rI()}}function Bu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Yo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function sI(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,d="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function T(){d="POP";let k=y(),B=k==null?null:k-p;p=k,m&&m({action:d,location:j.location,delta:B})}function w(k,B){d="PUSH";let z=ag(j.location,k,B);p=y()+1;let F=eE(z,p),st=j.createHref(z);try{c.pushState(F,"",st)}catch(et){if(et instanceof DOMException&&et.name==="DataCloneError")throw et;a.location.assign(st)}l&&m&&m({action:d,location:j.location,delta:1})}function R(k,B){d="REPLACE";let z=ag(j.location,k,B);p=y();let F=eE(z,p),st=j.createHref(z);c.replaceState(F,"",st),l&&m&&m({action:d,location:j.location,delta:0})}function I(k){return aI(k)}let j={get action(){return d},get location(){return e(a,c)},listen(k){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(tE,T),m=k,()=>{a.removeEventListener(tE,T),m=null}},createHref(k){return t(a,k)},createURL:I,encodeLocation(k){let B=I(k);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:w,replace:R,go(k){return c.go(k)}};return j}function aI(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ce(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Bu(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Wb(e,t,n="/"){return oI(e,t,n,!1)}function oI(e,t,n,r){let a=typeof t=="string"?Yo(t):t,l=pr(a.pathname||"/",n);if(l==null)return null;let c=Zb(e);lI(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=_I(l);d=yI(c[m],p,r)}return d}function Zb(e,t=[],n=[],r=""){let a=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(ce(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let p=fr([r,m.relativePath]),y=n.concat(m);l.children&&l.children.length>0&&(ce(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Zb(l.children,t,y,p)),!(l.path==null&&!l.index)&&t.push({path:p,score:pI(p,l.index),routesMeta:y})};return e.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))a(l,c);else for(let d of Jb(l.path))a(l,c,d)}),t}function Jb(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=Jb(r.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>e.startsWith("/")&&m===""?"/":m)}function lI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:gI(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var uI=/^:[\w-]+$/,cI=3,hI=2,fI=1,dI=10,mI=-2,nE=e=>e==="*";function pI(e,t){let n=e.split("/"),r=n.length;return n.some(nE)&&(r+=mI),t&&(r+=hI),n.filter(a=>!nE(a)).reduce((a,l)=>a+(uI.test(l)?cI:l===""?fI:dI),r)}function gI(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function yI(e,t,n=!1){let{routesMeta:r}=e,a={},l="/",c=[];for(let d=0;d<r.length;++d){let m=r[d],p=d===r.length-1,y=l==="/"?t:t.slice(l.length)||"/",T=bf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),w=m.route;if(!T&&p&&n&&!r[r.length-1].route.index&&(T=bf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:fr([l,T.pathname]),pathnameBase:bI(fr([l,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(l=fr([l,T.pathnameBase]))}return c}function bf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=vI(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:T},w)=>{if(y==="*"){let I=d[w]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const R=d[w];return T&&!R?p[y]=void 0:p[y]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:e}}function vI(e,t=!1,n=!0){Mi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(r.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function _I(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Mi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function pr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function TI(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Yo(e):e;return{pathname:n?n.startsWith("/")?n:EI(n,t):t,search:SI(r),hash:AI(a)}}function EI(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Vp(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wI(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function tS(e){let t=wI(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function eS(e,t,n,r=!1){let a;typeof e=="string"?a=Yo(e):(a={...e},ce(!a.pathname||!a.pathname.includes("?"),Vp("?","pathname","search",a)),ce(!a.pathname||!a.pathname.includes("#"),Vp("#","pathname","hash",a)),ce(!a.search||!a.search.includes("#"),Vp("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let T=t.length-1;if(!r&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),T-=1;a.pathname=w.join("/")}d=T>=0?t[T]:"/"}let m=TI(a,d),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var fr=e=>e.join("/").replace(/\/\/+/g,"/"),bI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),SI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,AI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function RI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var nS=["POST","PUT","PATCH","DELETE"];new Set(nS);var xI=["GET",...nS];new Set(xI);var $o=U.createContext(null);$o.displayName="DataRouter";var Yf=U.createContext(null);Yf.displayName="DataRouterState";U.createContext(!1);var iS=U.createContext({isTransitioning:!1});iS.displayName="ViewTransition";var CI=U.createContext(new Map);CI.displayName="Fetchers";var II=U.createContext(null);II.displayName="Await";var Li=U.createContext(null);Li.displayName="Navigation";var rc=U.createContext(null);rc.displayName="Location";var wr=U.createContext({outlet:null,matches:[],isDataRoute:!1});wr.displayName="Route";var ry=U.createContext(null);ry.displayName="RouteError";function DI(e,{relative:t}={}){ce(sc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=U.useContext(Li),{hash:a,pathname:l,search:c}=ac(e,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:fr([n,l])),r.createHref({pathname:d,search:c,hash:a})}function sc(){return U.useContext(rc)!=null}function Sa(){return ce(sc(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(rc).location}var rS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sS(e){U.useContext(Li).static||U.useLayoutEffect(e)}function VI(){let{isDataRoute:e}=U.useContext(wr);return e?qI():NI()}function NI(){ce(sc(),"useNavigate() may be used only in the context of a <Router> component.");let e=U.useContext($o),{basename:t,navigator:n}=U.useContext(Li),{matches:r}=U.useContext(wr),{pathname:a}=Sa(),l=JSON.stringify(tS(r)),c=U.useRef(!1);return sS(()=>{c.current=!0}),U.useCallback((m,p={})=>{if(Mi(c.current,rS),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=eS(m,JSON.parse(l),a,p.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:fr([t,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[t,n,l,a,e])}U.createContext(null);function ac(e,{relative:t}={}){let{matches:n}=U.useContext(wr),{pathname:r}=Sa(),a=JSON.stringify(tS(n));return U.useMemo(()=>eS(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function MI(e,t){return aS(e,t)}function aS(e,t,n,r){ce(sc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=U.useContext(Li),{matches:l}=U.useContext(wr),c=l[l.length-1],d=c?c.params:{},m=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let B=y&&y.path||"";oS(m,!y||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let T=Sa(),w;if(t){let B=typeof t=="string"?Yo(t):t;ce(p==="/"||B.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${B.pathname}" was given in the \`location\` prop.`),w=B}else w=T;let R=w.pathname||"/",I=R;if(p!=="/"){let B=p.replace(/^\//,"").split("/");I="/"+R.replace(/^\//,"").split("/").slice(B.length).join("/")}let j=Wb(e,{pathname:I});Mi(y||j!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Mi(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=UI(j&&j.map(B=>Object.assign({},B,{params:Object.assign({},d,B.params),pathname:fr([p,a.encodeLocation?a.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?p:fr([p,a.encodeLocation?a.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),l,n,r);return t&&k?U.createElement(rc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},k):k}function PI(){let e=HI(),t=RI(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:l},"ErrorBoundary")," or"," ",U.createElement("code",{style:l},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},t),n?U.createElement("pre",{style:a},n):null,c)}var OI=U.createElement(PI,null),kI=class extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?U.createElement(wr.Provider,{value:this.props.routeContext},U.createElement(ry.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LI({routeContext:e,match:t,children:n}){let r=U.useContext($o);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),U.createElement(wr.Provider,{value:e},n)}function UI(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=n?.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);ce(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:y,errors:T}=n,w=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!T||T[p.route.id]===void 0);if(p.route.lazy||w){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,p,y)=>{let T,w=!1,R=null,I=null;n&&(T=l&&p.route.id?l[p.route.id]:void 0,R=p.route.errorElement||OI,c&&(d<0&&y===0?(oS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,I=null):d===y&&(w=!0,I=p.route.hydrateFallbackElement||null)));let j=t.concat(a.slice(0,y+1)),k=()=>{let B;return T?B=R:w?B=I:p.route.Component?B=U.createElement(p.route.Component,null):p.route.element?B=p.route.element:B=m,U.createElement(LI,{match:p,routeContext:{outlet:m,matches:j,isDataRoute:n!=null},children:B})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?U.createElement(kI,{location:n.location,revalidation:n.revalidation,component:R,error:T,children:k(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):k()},null)}function sy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jI(e){let t=U.useContext($o);return ce(t,sy(e)),t}function BI(e){let t=U.useContext(Yf);return ce(t,sy(e)),t}function zI(e){let t=U.useContext(wr);return ce(t,sy(e)),t}function ay(e){let t=zI(e),n=t.matches[t.matches.length-1];return ce(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function FI(){return ay("useRouteId")}function HI(){let e=U.useContext(ry),t=BI("useRouteError"),n=ay("useRouteError");return e!==void 0?e:t.errors?.[n]}function qI(){let{router:e}=jI("useNavigate"),t=ay("useNavigate"),n=U.useRef(!1);return sS(()=>{n.current=!0}),U.useCallback(async(a,l={})=>{Mi(n.current,rS),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var iE={};function oS(e,t,n){!t&&!iE[e]&&(iE[e]=!0,Mi(!1,n))}U.memo(GI);function GI({routes:e,future:t,state:n}){return aS(e,void 0,n,t)}function og(e){ce(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function KI({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:l=!1}){ce(!sc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=U.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=Yo(n));let{pathname:m="/",search:p="",hash:y="",state:T=null,key:w="default"}=n,R=U.useMemo(()=>{let I=pr(m,c);return I==null?null:{location:{pathname:I,search:p,hash:y,state:T,key:w},navigationType:r}},[c,m,p,y,T,w,r]);return Mi(R!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:U.createElement(Li.Provider,{value:d},U.createElement(rc.Provider,{children:t,value:R}))}function YI({children:e,location:t}){return MI(lg(e),t)}function lg(e,t=[]){let n=[];return U.Children.forEach(e,(r,a)=>{if(!U.isValidElement(r))return;let l=[...t,a];if(r.type===U.Fragment){n.push.apply(n,lg(r.props.children,l));return}ce(r.type===og,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ce(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=lg(r.props.children,l)),n.push(c)}),n}var lf="get",uf="application/x-www-form-urlencoded";function $f(e){return e!=null&&typeof e.tagName=="string"}function $I(e){return $f(e)&&e.tagName.toLowerCase()==="button"}function QI(e){return $f(e)&&e.tagName.toLowerCase()==="form"}function XI(e){return $f(e)&&e.tagName.toLowerCase()==="input"}function WI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ZI(e,t){return e.button===0&&(!t||t==="_self")&&!WI(e)}var $h=null;function JI(){if($h===null)try{new FormData(document.createElement("form"),0),$h=!1}catch{$h=!0}return $h}var t2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Np(e){return e!=null&&!t2.has(e)?(Mi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uf}"`),null):e}function e2(e,t){let n,r,a,l,c;if(QI(e)){let d=e.getAttribute("action");r=d?pr(d,t):null,n=e.getAttribute("method")||lf,a=Np(e.getAttribute("enctype"))||uf,l=new FormData(e)}else if($I(e)||XI(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||d.getAttribute("action");if(r=m?pr(m,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||lf,a=Np(e.getAttribute("formenctype"))||Np(d.getAttribute("enctype"))||uf,l=new FormData(d,e),!JI()){let{name:p,type:y,value:T}=e;if(y==="image"){let w=p?`${p}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else p&&l.append(p,T)}}else{if($f(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=lf,r=null,a=uf,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function oy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function n2(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&pr(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function i2(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function r2(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function s2(e,t,n){let r=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await i2(l,n);return c.links?c.links():[]}return[]}));return u2(r.flat(1).filter(r2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function rE(e,t,n,r,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,d=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?t.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?t.filter((m,p)=>{let y=r.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function a2(e,t,{includeHydrateFallback:n}={}){return o2(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function o2(e){return[...new Set(e)]}function l2(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function u2(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let l=JSON.stringify(l2(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}function lS(){let e=U.useContext($o);return oy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function c2(){let e=U.useContext(Yf);return oy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ly=U.createContext(void 0);ly.displayName="FrameworkContext";function uS(){let e=U.useContext(ly);return oy(e,"You must render this element inside a <HydratedRouter> element"),e}function h2(e,t){let n=U.useContext(ly),[r,a]=U.useState(!1),[l,c]=U.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:T}=t,w=U.useRef(null);U.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let j=B=>{B.forEach(z=>{c(z.isIntersecting)})},k=new IntersectionObserver(j,{threshold:.5});return w.current&&k.observe(w.current),()=>{k.disconnect()}}},[e]),U.useEffect(()=>{if(r){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[r]);let R=()=>{a(!0)},I=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,w,{}]:[l,w,{onFocus:yu(d,R),onBlur:yu(m,I),onMouseEnter:yu(p,R),onMouseLeave:yu(y,I),onTouchStart:yu(T,R)}]:[!1,w,{}]}function yu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function f2({page:e,...t}){let{router:n}=lS(),r=U.useMemo(()=>Wb(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?U.createElement(m2,{page:e,matches:r,...t}):null}function d2(e){let{manifest:t,routeModules:n}=uS(),[r,a]=U.useState([]);return U.useEffect(()=>{let l=!1;return s2(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),r}function m2({page:e,matches:t,...n}){let r=Sa(),{manifest:a,routeModules:l}=uS(),{basename:c}=lS(),{loaderData:d,matches:m}=c2(),p=U.useMemo(()=>rE(e,t,m,a,r,"data"),[e,t,m,a,r]),y=U.useMemo(()=>rE(e,t,m,a,r,"assets"),[e,t,m,a,r]),T=U.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let I=new Set,j=!1;if(t.forEach(B=>{let z=a.routes[B.route.id];!z||!z.hasLoader||(!p.some(F=>F.route.id===B.route.id)&&B.route.id in d&&l[B.route.id]?.shouldRevalidate||z.hasClientLoader?j=!0:I.add(B.route.id))}),I.size===0)return[];let k=n2(e,c,"data");return j&&I.size>0&&k.searchParams.set("_routes",t.filter(B=>I.has(B.route.id)).map(B=>B.route.id).join(",")),[k.pathname+k.search]},[c,d,r,a,p,t,e,l]),w=U.useMemo(()=>a2(y,a),[y,a]),R=d2(y);return U.createElement(U.Fragment,null,T.map(I=>U.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),w.map(I=>U.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),R.map(({key:I,link:j})=>U.createElement("link",{key:I,nonce:n.nonce,...j})))}function p2(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var cS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cS&&(window.__reactRouterVersion="7.8.0")}catch{}function g2({basename:e,children:t,window:n}){let r=U.useRef();r.current==null&&(r.current=iI({window:n,v5Compat:!0}));let a=r.current,[l,c]=U.useState({action:a.action,location:a.location}),d=U.useCallback(m=>{U.startTransition(()=>c(m))},[c]);return U.useLayoutEffect(()=>a.listen(d),[a,d]),U.createElement(KI,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a})}var hS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zu=U.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:y,viewTransition:T,...w},R){let{basename:I}=U.useContext(Li),j=typeof p=="string"&&hS.test(p),k,B=!1;if(typeof p=="string"&&j&&(k=p,cS))try{let x=new URL(window.location.href),P=p.startsWith("//")?new URL(x.protocol+p):new URL(p),L=pr(P.pathname,I);P.origin===x.origin&&L!=null?p=L+P.search+P.hash:B=!0}catch{Mi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=DI(p,{relative:a}),[F,st,et]=h2(r,w),ot=T2(p,{replace:c,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:T});function C(x){t&&t(x),x.defaultPrevented||ot(x)}let A=U.createElement("a",{...w,...et,href:k||z,onClick:B||l?t:C,ref:p2(R,st),target:m,"data-discover":!j&&n==="render"?"true":void 0});return F&&!j?U.createElement(U.Fragment,null,A,U.createElement(f2,{page:z})):A});zu.displayName="Link";var y2=U.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},y){let T=ac(c,{relative:p.relative}),w=Sa(),R=U.useContext(Yf),{navigator:I,basename:j}=U.useContext(Li),k=R!=null&&A2(T)&&d===!0,B=I.encodeLocation?I.encodeLocation(T).pathname:T.pathname,z=w.pathname,F=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(z=z.toLowerCase(),F=F?F.toLowerCase():null,B=B.toLowerCase()),F&&j&&(F=pr(F,j)||F);const st=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let et=z===B||!a&&z.startsWith(B)&&z.charAt(st)==="/",ot=F!=null&&(F===B||!a&&F.startsWith(B)&&F.charAt(B.length)==="/"),C={isActive:et,isPending:ot,isTransitioning:k},A=et?t:void 0,x;typeof r=="function"?x=r(C):x=[r,et?"active":null,ot?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(C):l;return U.createElement(zu,{...p,"aria-current":A,className:x,ref:y,style:P,to:c,viewTransition:d},typeof m=="function"?m(C):m)});y2.displayName="NavLink";var v2=U.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:l,method:c=lf,action:d,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:T,...w},R)=>{let I=b2(),j=S2(d,{relative:p}),k=c.toLowerCase()==="get"?"get":"post",B=typeof d=="string"&&hS.test(d),z=F=>{if(m&&m(F),F.defaultPrevented)return;F.preventDefault();let st=F.nativeEvent.submitter,et=st?.getAttribute("formmethod")||c;I(st||F.currentTarget,{fetcherKey:t,method:et,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:T})};return U.createElement("form",{ref:R,method:k,action:j,onSubmit:r?m:z,...w,"data-discover":!B&&e==="render"?"true":void 0})});v2.displayName="Form";function _2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fS(e){let t=U.useContext($o);return ce(t,_2(e)),t}function T2(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=VI(),m=Sa(),p=ac(e,{relative:l});return U.useCallback(y=>{if(ZI(y,t)){y.preventDefault();let T=n!==void 0?n:Bu(m)===Bu(p);d(e,{replace:T,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,p,n,r,t,e,a,l,c])}var E2=0,w2=()=>`__${String(++E2)}__`;function b2(){let{router:e}=fS("useSubmit"),{basename:t}=U.useContext(Li),n=FI();return U.useCallback(async(r,a={})=>{let{action:l,method:c,encType:d,formData:m,body:p}=e2(r,t);if(a.navigate===!1){let y=a.fetcherKey||w2();await e.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await e.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function S2(e,{relative:t}={}){let{basename:n}=U.useContext(Li),r=U.useContext(wr);ce(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...ac(e||".",{relative:t})},c=Sa();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(T=>T).forEach(T=>d.append("index",T));let y=d.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:fr([n,l.pathname])),Bu(l)}function A2(e,{relative:t}={}){let n=U.useContext(iS);ce(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=fS("useViewTransitionState"),a=ac(e,{relative:t});if(!n.isTransitioning)return!1;let l=pr(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=pr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return bf(a.pathname,c)!=null||bf(a.pathname,l)!=null}const uy=U.createContext({});function cy(e){const t=U.useRef(null);return t.current===null&&(t.current=e()),t.current}const hy=typeof window<"u",dS=hy?U.useLayoutEffect:U.useEffect,Qf=U.createContext(null);function fy(e,t){e.indexOf(t)===-1&&e.push(t)}function dy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const gr=(e,t,n)=>n>t?t:n<e?e:n;let my=()=>{};const yr={},mS=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function pS(e){return typeof e=="object"&&e!==null}const gS=e=>/^0[^.\s]+$/u.test(e);function py(e){let t;return()=>(t===void 0&&(t=e()),t)}const Yn=e=>e,R2=(e,t)=>n=>t(e(n)),oc=(...e)=>e.reduce(R2),Fu=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class gy{constructor(){this.subscriptions=[]}add(t){return fy(this.subscriptions,t),()=>dy(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xi=e=>e*1e3,Ci=e=>e/1e3;function yS(e,t){return t?e*(1e3/t):0}const vS=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,x2=1e-7,C2=12;function I2(e,t,n,r,a){let l,c,d=0;do c=t+(n-t)/2,l=vS(c,r,a)-e,l>0?n=c:t=c;while(Math.abs(l)>x2&&++d<C2);return c}function lc(e,t,n,r){if(e===t&&n===r)return Yn;const a=l=>I2(l,0,1,e,n);return l=>l===0||l===1?l:vS(a(l),t,r)}const _S=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,TS=e=>t=>1-e(1-t),ES=lc(.33,1.53,.69,.99),yy=TS(ES),wS=_S(yy),bS=e=>(e*=2)<1?.5*yy(e):.5*(2-Math.pow(2,-10*(e-1))),vy=e=>1-Math.sin(Math.acos(e)),SS=TS(vy),AS=_S(vy),D2=lc(.42,0,1,1),V2=lc(0,0,.58,1),RS=lc(.42,0,.58,1),N2=e=>Array.isArray(e)&&typeof e[0]!="number",xS=e=>Array.isArray(e)&&typeof e[0]=="number",M2={linear:Yn,easeIn:D2,easeInOut:RS,easeOut:V2,circIn:vy,circInOut:AS,circOut:SS,backIn:yy,backInOut:wS,backOut:ES,anticipate:bS},P2=e=>typeof e=="string",sE=e=>{if(xS(e)){my(e.length===4);const[t,n,r,a]=e;return lc(t,n,r,a)}else if(P2(e))return M2[e];return e},Qh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function O2(e,t){let n=new Set,r=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(p.schedule(y),e()),y(d)}const p={schedule:(y,T=!1,w=!1)=>{const I=w&&a?n:r;return T&&c.add(y),I.has(y)||I.add(y),y},cancel:y=>{r.delete(y),c.delete(y)},process:y=>{if(d=y,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const k2=40;function CS(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Qh.reduce((F,st)=>(F[st]=O2(l),F),{}),{setup:d,read:m,resolveKeyframes:p,preUpdate:y,update:T,preRender:w,render:R,postRender:I}=c,j=()=>{const F=yr.useManualTiming?a.timestamp:performance.now();n=!1,yr.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(F-a.timestamp,k2),1)),a.timestamp=F,a.isProcessing=!0,d.process(a),m.process(a),p.process(a),y.process(a),T.process(a),w.process(a),R.process(a),I.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(j))},k=()=>{n=!0,r=!0,a.isProcessing||e(j)};return{schedule:Qh.reduce((F,st)=>{const et=c[st];return F[st]=(ot,C=!1,A=!1)=>(n||k(),et.schedule(ot,C,A)),F},{}),cancel:F=>{for(let st=0;st<Qh.length;st++)c[Qh[st]].cancel(F)},state:a,steps:c}}const{schedule:oe,cancel:ds,state:We,steps:Mp}=CS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yn,!0);let cf;function L2(){cf=void 0}const _n={now:()=>(cf===void 0&&_n.set(We.isProcessing||yr.useManualTiming?We.timestamp:performance.now()),cf),set:e=>{cf=e,queueMicrotask(L2)}},IS=e=>t=>typeof t=="string"&&t.startsWith(e),_y=IS("--"),U2=IS("var(--"),Ty=e=>U2(e)?j2.test(e.split("/*")[0].trim()):!1,j2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Qo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Hu={...Qo,transform:e=>gr(0,1,e)},Xh={...Qo,default:1},xu=e=>Math.round(e*1e5)/1e5,Ey=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function B2(e){return e==null}const z2=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wy=(e,t)=>n=>!!(typeof n=="string"&&z2.test(n)&&n.startsWith(e)||t&&!B2(n)&&Object.prototype.hasOwnProperty.call(n,t)),DS=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,l,c,d]=r.match(Ey);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},F2=e=>gr(0,255,e),Pp={...Qo,transform:e=>Math.round(F2(e))},ha={test:wy("rgb","red"),parse:DS("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Pp.transform(e)+", "+Pp.transform(t)+", "+Pp.transform(n)+", "+xu(Hu.transform(r))+")"};function H2(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const ug={test:wy("#"),parse:H2,transform:ha.transform},uc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ns=uc("deg"),Ii=uc("%"),bt=uc("px"),q2=uc("vh"),G2=uc("vw"),aE={...Ii,parse:e=>Ii.parse(e)/100,transform:e=>Ii.transform(e*100)},Ro={test:wy("hsl","hue"),parse:DS("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ii.transform(xu(t))+", "+Ii.transform(xu(n))+", "+xu(Hu.transform(r))+")"},Ce={test:e=>ha.test(e)||ug.test(e)||Ro.test(e),parse:e=>ha.test(e)?ha.parse(e):Ro.test(e)?Ro.parse(e):ug.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ha.transform(e):Ro.transform(e),getAnimatableNone:e=>{const t=Ce.parse(e);return t.alpha=0,Ce.transform(t)}},K2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Y2(e){return isNaN(e)&&typeof e=="string"&&(e.match(Ey)?.length||0)+(e.match(K2)?.length||0)>0}const VS="number",NS="color",$2="var",Q2="var(",oE="${}",X2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qu(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const d=t.replace(X2,m=>(Ce.test(m)?(r.color.push(l),a.push(NS),n.push(Ce.parse(m))):m.startsWith(Q2)?(r.var.push(l),a.push($2),n.push(m)):(r.number.push(l),a.push(VS),n.push(parseFloat(m))),++l,oE)).split(oE);return{values:n,split:d,indexes:r,types:a}}function MS(e){return qu(e).values}function PS(e){const{split:t,types:n}=qu(e),r=t.length;return a=>{let l="";for(let c=0;c<r;c++)if(l+=t[c],a[c]!==void 0){const d=n[c];d===VS?l+=xu(a[c]):d===NS?l+=Ce.transform(a[c]):l+=a[c]}return l}}const W2=e=>typeof e=="number"?0:Ce.test(e)?Ce.getAnimatableNone(e):e;function Z2(e){const t=MS(e);return PS(e)(t.map(W2))}const ms={test:Y2,parse:MS,createTransformer:PS,getAnimatableNone:Z2};function Op(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function J2({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,m=2*n-d;a=Op(m,d,e+1/3),l=Op(m,d,e),c=Op(m,d,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function Sf(e,t){return n=>n>0?t:e}const ue=(e,t,n)=>e+(t-e)*n,kp=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},tD=[ug,ha,Ro],eD=e=>tD.find(t=>t.test(e));function lE(e){const t=eD(e);if(!t)return!1;let n=t.parse(e);return t===Ro&&(n=J2(n)),n}const uE=(e,t)=>{const n=lE(e),r=lE(t);if(!n||!r)return Sf(e,t);const a={...n};return l=>(a.red=kp(n.red,r.red,l),a.green=kp(n.green,r.green,l),a.blue=kp(n.blue,r.blue,l),a.alpha=ue(n.alpha,r.alpha,l),ha.transform(a))},cg=new Set(["none","hidden"]);function nD(e,t){return cg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function iD(e,t){return n=>ue(e,t,n)}function by(e){return typeof e=="number"?iD:typeof e=="string"?Ty(e)?Sf:Ce.test(e)?uE:aD:Array.isArray(e)?OS:typeof e=="object"?Ce.test(e)?uE:rD:Sf}function OS(e,t){const n=[...e],r=n.length,a=e.map((l,c)=>by(l)(l,t[c]));return l=>{for(let c=0;c<r;c++)n[c]=a[c](l);return n}}function rD(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=by(e[a])(e[a],t[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function sD(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][r[l]],d=e.values[c]??0;n[a]=d,r[l]++}return n}const aD=(e,t)=>{const n=ms.createTransformer(t),r=qu(e),a=qu(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?cg.has(e)&&!a.values.length||cg.has(t)&&!r.values.length?nD(e,t):oc(OS(sD(r,a),a.values),n):Sf(e,t)};function kS(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ue(e,t,n):by(e)(e,t)}const oD=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>oe.update(t,n),stop:()=>ds(t),now:()=>We.isProcessing?We.timestamp:_n.now()}},LS=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)r+=Math.round(e(l/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Af=2e4;function Sy(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Af;)t+=n,r=e.next(t);return t>=Af?1/0:t}function lD(e,t=100,n){const r=n({...e,keyframes:[0,t]}),a=Math.min(Sy(r),Af);return{type:"keyframes",ease:l=>r.next(a*l).value/t,duration:Ci(a)}}const uD=5;function US(e,t,n){const r=Math.max(t-uD,0);return yS(n-e(r),t-r)}const pe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Lp=.001;function cD({duration:e=pe.duration,bounce:t=pe.bounce,velocity:n=pe.velocity,mass:r=pe.mass}){let a,l,c=1-t;c=gr(pe.minDamping,pe.maxDamping,c),e=gr(pe.minDuration,pe.maxDuration,Ci(e)),c<1?(a=p=>{const y=p*c,T=y*e,w=y-n,R=hg(p,c),I=Math.exp(-T);return Lp-w/R*I},l=p=>{const T=p*c*e,w=T*n+n,R=Math.pow(c,2)*Math.pow(p,2)*e,I=Math.exp(-T),j=hg(Math.pow(p,2),c);return(-a(p)+Lp>0?-1:1)*((w-R)*I)/j}):(a=p=>{const y=Math.exp(-p*e),T=(p-n)*e+1;return-Lp+y*T},l=p=>{const y=Math.exp(-p*e),T=(n-p)*(e*e);return y*T});const d=5/e,m=fD(a,l,d);if(e=xi(e),isNaN(m))return{stiffness:pe.stiffness,damping:pe.damping,duration:e};{const p=Math.pow(m,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:e}}}const hD=12;function fD(e,t,n){let r=n;for(let a=1;a<hD;a++)r=r-e(r)/t(r);return r}function hg(e,t){return e*Math.sqrt(1-t*t)}const dD=["duration","bounce"],mD=["stiffness","damping","mass"];function cE(e,t){return t.some(n=>e[n]!==void 0)}function pD(e){let t={velocity:pe.velocity,stiffness:pe.stiffness,damping:pe.damping,mass:pe.mass,isResolvedFromDuration:!1,...e};if(!cE(e,mD)&&cE(e,dD))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*gr(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:pe.mass,stiffness:a,damping:l}}else{const n=cD(e);t={...t,...n,mass:pe.mass},t.isResolvedFromDuration=!0}return t}function Rf(e=pe.visualDuration,t=pe.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:T,velocity:w,isResolvedFromDuration:R}=pD({...n,velocity:-Ci(n.velocity||0)}),I=w||0,j=p/(2*Math.sqrt(m*y)),k=c-l,B=Ci(Math.sqrt(m/y)),z=Math.abs(k)<5;r||(r=z?pe.restSpeed.granular:pe.restSpeed.default),a||(a=z?pe.restDelta.granular:pe.restDelta.default);let F;if(j<1){const et=hg(B,j);F=ot=>{const C=Math.exp(-j*B*ot);return c-C*((I+j*B*k)/et*Math.sin(et*ot)+k*Math.cos(et*ot))}}else if(j===1)F=et=>c-Math.exp(-B*et)*(k+(I+B*k)*et);else{const et=B*Math.sqrt(j*j-1);F=ot=>{const C=Math.exp(-j*B*ot),A=Math.min(et*ot,300);return c-C*((I+j*B*k)*Math.sinh(A)+et*k*Math.cosh(A))/et}}const st={calculatedDuration:R&&T||null,next:et=>{const ot=F(et);if(R)d.done=et>=T;else{let C=et===0?I:0;j<1&&(C=et===0?xi(I):US(F,et,ot));const A=Math.abs(C)<=r,x=Math.abs(c-ot)<=a;d.done=A&&x}return d.value=d.done?c:ot,d},toString:()=>{const et=Math.min(Sy(st),Af),ot=LS(C=>st.next(et*C).value,et,30);return et+"ms "+ot},toTransition:()=>{}};return st}Rf.applyToOptions=e=>{const t=lD(e,100,Rf);return e.ease=t.ease,e.duration=xi(t.duration),e.type="keyframes",e};function fg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:p=.5,restSpeed:y}){const T=e[0],w={done:!1,value:T},R=A=>d!==void 0&&A<d||m!==void 0&&A>m,I=A=>d===void 0?m:m===void 0||Math.abs(d-A)<Math.abs(m-A)?d:m;let j=n*t;const k=T+j,B=c===void 0?k:c(k);B!==k&&(j=B-T);const z=A=>-j*Math.exp(-A/r),F=A=>B+z(A),st=A=>{const x=z(A),P=F(A);w.done=Math.abs(x)<=p,w.value=w.done?B:P};let et,ot;const C=A=>{R(w.value)&&(et=A,ot=Rf({keyframes:[w.value,I(w.value)],velocity:US(F,A,w.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return C(0),{calculatedDuration:null,next:A=>{let x=!1;return!ot&&et===void 0&&(x=!0,st(A),C(A)),et!==void 0&&A>=et?ot.next(A-et):(!x&&st(A),w)}}}function gD(e,t,n){const r=[],a=n||yr.mix||kS,l=e.length-1;for(let c=0;c<l;c++){let d=a(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||Yn:t;d=oc(m,d)}r.push(d)}return r}function yD(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const l=e.length;if(my(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=gD(t,r,a),m=d.length,p=y=>{if(c&&y<e[0])return t[0];let T=0;if(m>1)for(;T<e.length-2&&!(y<e[T+1]);T++);const w=Fu(e[T],e[T+1],y);return d[T](w)};return n?y=>p(gr(e[0],e[l-1],y)):p}function vD(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=Fu(0,t,r);e.push(ue(n,1,a))}}function _D(e){const t=[0];return vD(t,e.length-1),t}function TD(e,t){return e.map(n=>n*t)}function ED(e,t){return e.map(()=>t||RS).splice(0,e.length-1)}function Cu({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=N2(r)?r.map(sE):sE(r),l={done:!1,value:t[0]},c=TD(n&&n.length===t.length?n:_D(t),e),d=yD(c,t,{ease:Array.isArray(a)?a:ED(t,a)});return{calculatedDuration:e,next:m=>(l.value=d(m),l.done=m>=e,l)}}const wD=e=>e!==null;function Ay(e,{repeat:t,repeatType:n="loop"},r,a=1){const l=e.filter(wD),d=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||r===void 0?l[d]:r}const bD={decay:fg,inertia:fg,tween:Cu,keyframes:Cu,spring:Rf};function jS(e){typeof e.type=="string"&&(e.type=bD[e.type])}class Ry{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const SD=e=>e/100;class xy extends Ry{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==_n.now()&&this.tick(_n.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;jS(t);const{type:n=Cu,repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const m=n||Cu;m!==Cu&&typeof d[0]!="number"&&(this.mixKeyframes=oc(SD,kS(d[0],d[1])),d=[0,100]);const p=m({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Sy(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=p}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:y,repeat:T,repeatType:w,repeatDelay:R,type:I,onUpdate:j,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const B=this.currentTime-p*(this.playbackSpeed>=0?1:-1),z=this.playbackSpeed>=0?B<0:B>a;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let F=this.currentTime,st=r;if(T){const A=Math.min(this.currentTime,a)/d;let x=Math.floor(A),P=A%1;!P&&A>=1&&(P=1),P===1&&x--,x=Math.min(x,T+1),!!(x%2)&&(w==="reverse"?(P=1-P,R&&(P-=R/d)):w==="mirror"&&(st=c)),F=gr(0,1,P)*d}const et=z?{done:!1,value:y[0]}:st.next(F);l&&(et.value=l(et.value));let{done:ot}=et;!z&&m!==null&&(ot=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ot);return C&&I!==fg&&(et.value=Ay(y,this.options,k,this.speed)),j&&j(et.value),C&&this.finish(),et}then(t,n){return this.finished.then(t,n)}get duration(){return Ci(this.calculatedDuration)}get time(){return Ci(this.currentTime)}set time(t){t=xi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(_n.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ci(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=oD,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(_n.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function AD(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const fa=e=>e*180/Math.PI,dg=e=>{const t=fa(Math.atan2(e[1],e[0]));return mg(t)},RD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:dg,rotateZ:dg,skewX:e=>fa(Math.atan(e[1])),skewY:e=>fa(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},mg=e=>(e=e%360,e<0&&(e+=360),e),hE=dg,fE=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),dE=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),xD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:fE,scaleY:dE,scale:e=>(fE(e)+dE(e))/2,rotateX:e=>mg(fa(Math.atan2(e[6],e[5]))),rotateY:e=>mg(fa(Math.atan2(-e[2],e[0]))),rotateZ:hE,rotate:hE,skewX:e=>fa(Math.atan(e[4])),skewY:e=>fa(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function pg(e){return e.includes("scale")?1:0}function gg(e,t){if(!e||e==="none")return pg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=xD,a=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=RD,a=d}if(!a)return pg(t);const l=r[t],c=a[1].split(",").map(ID);return typeof l=="function"?l(c):c[l]}const CD=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return gg(n,t)};function ID(e){return parseFloat(e.trim())}const Xo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wo=new Set(Xo),mE=e=>e===Qo||e===bt,DD=new Set(["x","y","z"]),VD=Xo.filter(e=>!DD.has(e));function ND(e){const t=[];return VD.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const pa={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>gg(t,"x"),y:(e,{transform:t})=>gg(t,"y")};pa.translateX=pa.x;pa.translateY=pa.y;const ga=new Set;let yg=!1,vg=!1,_g=!1;function BS(){if(vg){const e=Array.from(ga).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=ND(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,c])=>{r.getValue(l)?.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}vg=!1,yg=!1,ga.forEach(e=>e.complete(_g)),ga.clear()}function zS(){ga.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(vg=!0)})}function MD(){_g=!0,zS(),BS(),_g=!1}class Cy{constructor(t,n,r,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ga.add(this),yg||(yg=!0,oe.read(zS),oe.resolveKeyframes(BS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;if(t[0]===null){const l=a?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(r&&n){const d=r.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}AD(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ga.delete(this)}cancel(){this.state==="scheduled"&&(ga.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const PD=e=>e.startsWith("--");function OD(e,t,n){PD(t)?e.style.setProperty(t,n):e.style[t]=n}const kD=py(()=>window.ScrollTimeline!==void 0),LD={};function UD(e,t){const n=py(e);return()=>LD[t]??n()}const FS=UD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),_u=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,pE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_u([0,.65,.55,1]),circOut:_u([.55,0,1,.45]),backIn:_u([.31,.01,.66,-.59]),backOut:_u([.33,1.53,.69,.99])};function HS(e,t){if(e)return typeof e=="function"?FS()?LS(e,t):"ease-out":xS(e)?_u(e):Array.isArray(e)?e.map(n=>HS(n,t)||pE.easeOut):pE[e]}function jD(e,t,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:m}={},p=void 0){const y={[t]:n};m&&(y.offset=m);const T=HS(d,a);Array.isArray(T)&&(y.easing=T);const w={delay:r,duration:a,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),e.animate(y,w)}function qS(e){return typeof e=="function"&&"applyToOptions"in e}function BD({type:e,...t}){return qS(e)&&FS()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class zD extends Ry{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,my(typeof t.type!="string");const p=BD(t);this.animation=jD(n,r,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Ay(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):OD(n,r,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Ci(Number(t))}get time(){return Ci(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=xi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&kD()?(this.animation.timeline=t,Yn):n(this)}}const GS={anticipate:bS,backInOut:wS,circInOut:AS};function FD(e){return e in GS}function HD(e){typeof e.ease=="string"&&FD(e.ease)&&(e.ease=GS[e.ease])}const gE=10;class qD extends zD{constructor(t){HD(t),jS(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new xy({...c,autoplay:!1}),m=xi(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-gE).value,d.sample(m).value,gE),d.stop()}}const yE=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ms.test(e)||e==="0")&&!e.startsWith("url("));function GD(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function KD(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=yE(a,t),d=yE(l,t);return!c||!d?!1:GD(e)||(n==="spring"||qS(n))&&r}function Tg(e){e.duration=0,e.type}const YD=new Set(["opacity","clipPath","filter","transform"]),$D=py(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function QD(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:a,damping:l,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=t.owner.getProps();return $D()&&n&&YD.has(n)&&(n!=="transform"||!p)&&!m&&!r&&a!=="mirror"&&l!==0&&c!=="inertia"}const XD=40;class WD extends Ry{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:m,motionValue:p,element:y,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=_n.now();const w={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,...T},R=y?.KeyframeResolver||Cy;this.keyframeResolver=new R(d,(I,j,k)=>this.onKeyframesResolved(I,j,w,!k),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:m,isHandoff:p,onUpdate:y}=r;this.resolvedAt=_n.now(),KD(t,l,c,d)||((yr.instantAnimations||!m)&&y?.(Ay(t,r,n)),t[0]=t[t.length-1],Tg(r),r.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>XD?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},R=!p&&QD(w)?new qD({...w,element:w.motionValue.owner.current}):new xy(w);R.finished.then(()=>this.notifyFinished()).catch(Yn),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),MD()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const ZD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function JD(e){const t=ZD.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function KS(e,t,n=1){const[r,a]=JD(e);if(!r)return;const l=window.getComputedStyle(t).getPropertyValue(r);if(l){const c=l.trim();return mS(c)?parseFloat(c):c}return Ty(a)?KS(a,t,n+1):a}function Iy(e,t){return e?.[t]??e?.default??e}const YS=new Set(["width","height","top","left","right","bottom",...Xo]),tV={test:e=>e==="auto",parse:e=>e},$S=e=>t=>t.test(e),QS=[Qo,bt,Ii,ns,G2,q2,tV],vE=e=>QS.find($S(e));function eV(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||gS(e):!0}const nV=new Set(["brightness","contrast","saturate","opacity"]);function iV(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Ey)||[];if(!r)return e;const a=n.replace(r,"");let l=nV.has(t)?1:0;return r!==n&&(l*=100),t+"("+l+a+")"}const rV=/\b([a-z-]*)\(.*?\)/gu,Eg={...ms,getAnimatableNone:e=>{const t=e.match(rV);return t?t.map(iV).join(" "):e}},_E={...Qo,transform:Math.round},sV={rotate:ns,rotateX:ns,rotateY:ns,rotateZ:ns,scale:Xh,scaleX:Xh,scaleY:Xh,scaleZ:Xh,skew:ns,skewX:ns,skewY:ns,distance:bt,translateX:bt,translateY:bt,translateZ:bt,x:bt,y:bt,z:bt,perspective:bt,transformPerspective:bt,opacity:Hu,originX:aE,originY:aE,originZ:bt},Dy={borderWidth:bt,borderTopWidth:bt,borderRightWidth:bt,borderBottomWidth:bt,borderLeftWidth:bt,borderRadius:bt,radius:bt,borderTopLeftRadius:bt,borderTopRightRadius:bt,borderBottomRightRadius:bt,borderBottomLeftRadius:bt,width:bt,maxWidth:bt,height:bt,maxHeight:bt,top:bt,right:bt,bottom:bt,left:bt,padding:bt,paddingTop:bt,paddingRight:bt,paddingBottom:bt,paddingLeft:bt,margin:bt,marginTop:bt,marginRight:bt,marginBottom:bt,marginLeft:bt,backgroundPositionX:bt,backgroundPositionY:bt,...sV,zIndex:_E,fillOpacity:Hu,strokeOpacity:Hu,numOctaves:_E},aV={...Dy,color:Ce,backgroundColor:Ce,outlineColor:Ce,fill:Ce,stroke:Ce,borderColor:Ce,borderTopColor:Ce,borderRightColor:Ce,borderBottomColor:Ce,borderLeftColor:Ce,filter:Eg,WebkitFilter:Eg},XS=e=>aV[e];function WS(e,t){let n=XS(e);return n!==Eg&&(n=ms),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const oV=new Set(["auto","none","0"]);function lV(e,t,n){let r=0,a;for(;r<e.length&&!a;){const l=e[r];typeof l=="string"&&!oV.has(l)&&qu(l).values.length&&(a=e[r]),r++}if(a&&n)for(const l of t)e[l]=WS(n,a)}class uV extends Cy{constructor(t,n,r,a,l){super(t,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let p=t[m];if(typeof p=="string"&&(p=p.trim(),Ty(p))){const y=KS(p,n.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!YS.has(r)||t.length!==2)return;const[a,l]=t,c=vE(a),d=vE(l);if(c!==d)if(mE(c)&&mE(d))for(let m=0;m<t.length;m++){const p=t[m];typeof p=="string"&&(t[m]=parseFloat(p))}else pa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)(t[a]===null||eV(t[a]))&&r.push(a);r.length&&lV(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=pa[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=pa[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{t.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function cV(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const a=n?.[e]??r.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const ZS=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function JS(e){return pS(e)&&"offsetHeight"in e}const TE=30,hV=e=>!isNaN(parseFloat(e));class fV{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const a=_n.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=_n.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=hV(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new gy);const r=this.events[t].add(n);return t==="change"?()=>{r(),oe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=_n.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>TE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,TE);return yS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Lo(e,t){return new fV(e,t)}const{schedule:Vy}=CS(queueMicrotask,!1),ti={x:!1,y:!1};function tA(){return ti.x||ti.y}function dV(e){return e==="x"||e==="y"?ti[e]?null:(ti[e]=!0,()=>{ti[e]=!1}):ti.x||ti.y?null:(ti.x=ti.y=!0,()=>{ti.x=ti.y=!1})}function eA(e,t){const n=cV(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function EE(e){return!(e.pointerType==="touch"||tA())}function mV(e,t,n={}){const[r,a,l]=eA(e,n),c=d=>{if(!EE(d))return;const{target:m}=d,p=t(m,d);if(typeof p!="function"||!m)return;const y=T=>{EE(T)&&(p(T),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return r.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const nA=(e,t)=>t?e===t?!0:nA(e,t.parentElement):!1,Ny=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,pV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gV(e){return pV.has(e.tagName)||e.tabIndex!==-1}const hf=new WeakSet;function wE(e){return t=>{t.key==="Enter"&&e(t)}}function Up(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const yV=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=wE(()=>{if(hf.has(n))return;Up(n,"down");const a=wE(()=>{Up(n,"up")}),l=()=>Up(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function bE(e){return Ny(e)&&!tA()}function vV(e,t,n={}){const[r,a,l]=eA(e,n),c=d=>{const m=d.currentTarget;if(!bE(d))return;hf.add(m);const p=t(m,d),y=(R,I)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",w),hf.has(m)&&hf.delete(m),bE(R)&&typeof p=="function"&&p(R,{success:I})},T=R=>{y(R,m===window||m===document||n.useGlobalTarget||nA(m,R.target))},w=R=>{y(R,!1)};window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",w,a)};return r.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),JS(d)&&(d.addEventListener("focus",p=>yV(p,a)),!gV(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function iA(e){return pS(e)&&"ownerSVGElement"in e}function _V(e){return iA(e)&&e.tagName==="svg"}const on=e=>!!(e&&e.getVelocity),TV=[...QS,Ce,ms],EV=e=>TV.find($S(e)),My=U.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class wV extends U.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=JS(r)&&r.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function bV({children:e,isPresent:t,anchorX:n,root:r}){const a=U.useId(),l=U.useRef(null),c=U.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=U.useContext(My);return U.useInsertionEffect(()=>{const{width:m,height:p,top:y,left:T,right:w}=c.current;if(t||!l.current||!m||!p)return;const R=n==="left"?`left: ${T}`:`right: ${w}`;l.current.dataset.motionPopId=a;const I=document.createElement("style");d&&(I.nonce=d);const j=r??document.head;return j.appendChild(I),I.sheet&&I.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${p}px !important;
            ${R}px !important;
            top: ${y}px !important;
          }
        `),()=>{j.contains(I)&&j.removeChild(I)}},[t]),N.jsx(wV,{isPresent:t,childRef:l,sizeRef:c,children:U.cloneElement(e,{ref:l})})}const SV=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d,root:m})=>{const p=cy(AV),y=U.useId();let T=!0,w=U.useMemo(()=>(T=!1,{id:y,initial:t,isPresent:n,custom:a,onExitComplete:R=>{p.set(R,!0);for(const I of p.values())if(!I)return;r&&r()},register:R=>(p.set(R,!1),()=>p.delete(R))}),[n,p,r]);return l&&T&&(w={...w}),U.useMemo(()=>{p.forEach((R,I)=>p.set(I,!1))},[n]),U.useEffect(()=>{!n&&!p.size&&r&&r()},[n]),c==="popLayout"&&(e=N.jsx(bV,{isPresent:n,anchorX:d,root:m,children:e})),N.jsx(Qf.Provider,{value:w,children:e})};function AV(){return new Map}function rA(e=!0){const t=U.useContext(Qf);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,l=U.useId();U.useEffect(()=>{if(e)return a(l)},[e]);const c=U.useCallback(()=>e&&r&&r(l),[l,r,e]);return!n&&r?[!1,c]:[!0]}const Wh=e=>e.key||"";function SE(e){const t=[];return U.Children.forEach(e,n=>{U.isValidElement(n)&&t.push(n)}),t}const RV=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:m})=>{const[p,y]=rA(c),T=U.useMemo(()=>SE(e),[e]),w=c&&!p?[]:T.map(Wh),R=U.useRef(!0),I=U.useRef(T),j=cy(()=>new Map),[k,B]=U.useState(T),[z,F]=U.useState(T);dS(()=>{R.current=!1,I.current=T;for(let ot=0;ot<z.length;ot++){const C=Wh(z[ot]);w.includes(C)?j.delete(C):j.get(C)!==!0&&j.set(C,!1)}},[z,w.length,w.join("-")]);const st=[];if(T!==k){let ot=[...T];for(let C=0;C<z.length;C++){const A=z[C],x=Wh(A);w.includes(x)||(ot.splice(C,0,A),st.push(A))}return l==="wait"&&st.length&&(ot=st),F(SE(ot)),B(T),null}const{forceRender:et}=U.useContext(uy);return N.jsx(N.Fragment,{children:z.map(ot=>{const C=Wh(ot),A=c&&!p?!1:T===z||w.includes(C),x=()=>{if(j.has(C))j.set(C,!0);else return;let P=!0;j.forEach(L=>{L||(P=!1)}),P&&(et?.(),F(I.current),c&&y?.(),r&&r())};return N.jsx(SV,{isPresent:A,initial:!R.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:A?void 0:x,anchorX:d,children:ot},C)})})},sA=U.createContext({strict:!1}),AE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Uo={};for(const e in AE)Uo[e]={isEnabled:t=>AE[e].some(n=>!!t[n])};function xV(e){for(const t in e)Uo[t]={...Uo[t],...e[t]}}const CV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||CV.has(e)}let aA=e=>!xf(e);function IV(e){typeof e=="function"&&(aA=t=>t.startsWith("on")?!xf(t):e(t))}try{IV(require("@emotion/is-prop-valid").default)}catch{}function DV(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(aA(a)||n===!0&&xf(a)||!t&&!xf(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}const Xf=U.createContext({});function Wf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Gu(e){return typeof e=="string"||Array.isArray(e)}const Py=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Oy=["initial",...Py];function Zf(e){return Wf(e.animate)||Oy.some(t=>Gu(e[t]))}function oA(e){return!!(Zf(e)||e.variants)}function VV(e,t){if(Zf(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Gu(n)?n:void 0,animate:Gu(r)?r:void 0}}return e.inherit!==!1?t:{}}function NV(e){const{initial:t,animate:n}=VV(e,U.useContext(Xf));return U.useMemo(()=>({initial:t,animate:n}),[RE(t),RE(n)])}function RE(e){return Array.isArray(e)?e.join(" "):e}const Ku={};function MV(e){for(const t in e)Ku[t]=e[t],_y(t)&&(Ku[t].isCSSVariable=!0)}function lA(e,{layout:t,layoutId:n}){return Wo.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ku[e]||e==="opacity")}const PV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},OV=Xo.length;function kV(e,t,n){let r="",a=!0;for(let l=0;l<OV;l++){const c=Xo[l],d=e[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const p=ZS(d,Dy[c]);if(!m){a=!1;const y=PV[c]||c;r+=`${y}(${p}) `}n&&(t[c]=p)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function ky(e,t,n){const{style:r,vars:a,transformOrigin:l}=e;let c=!1,d=!1;for(const m in t){const p=t[m];if(Wo.has(m)){c=!0;continue}else if(_y(m)){a[m]=p;continue}else{const y=ZS(p,Dy[m]);m.startsWith("origin")?(d=!0,l[m]=y):r[m]=y}}if(t.transform||(c||n?r.transform=kV(t,e.transform,n):r.transform&&(r.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;r.transformOrigin=`${m} ${p} ${y}`}}const Ly=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function uA(e,t,n){for(const r in t)!on(t[r])&&!lA(r,n)&&(e[r]=t[r])}function LV({transformTemplate:e},t){return U.useMemo(()=>{const n=Ly();return ky(n,t,e),Object.assign({},n.vars,n.style)},[t])}function UV(e,t){const n=e.style||{},r={};return uA(r,n,e),Object.assign(r,LV(e,t)),r}function jV(e,t){const n={},r=UV(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const BV={offset:"stroke-dashoffset",array:"stroke-dasharray"},zV={offset:"strokeDashoffset",array:"strokeDasharray"};function FV(e,t,n=1,r=0,a=!0){e.pathLength=1;const l=a?BV:zV;e[l.offset]=bt.transform(-r);const c=bt.transform(t),d=bt.transform(n);e[l.array]=`${c} ${d}`}function cA(e,{attrX:t,attrY:n,attrScale:r,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},m,p,y){if(ky(e,d,p),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:T,style:w}=e;T.transform&&(w.transform=T.transform,delete T.transform),(w.transform||T.transformOrigin)&&(w.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),w.transform&&(w.transformBox=y?.transformBox??"fill-box",delete T.transformBox),t!==void 0&&(T.x=t),n!==void 0&&(T.y=n),r!==void 0&&(T.scale=r),a!==void 0&&FV(T,a,l,c,!1)}const hA=()=>({...Ly(),attrs:{}}),fA=e=>typeof e=="string"&&e.toLowerCase()==="svg";function HV(e,t,n,r){const a=U.useMemo(()=>{const l=hA();return cA(l,t,fA(r),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};uA(l,e.style,e),a.style={...l,...a.style}}return a}const qV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Uy(e){return typeof e!="string"||e.includes("-")?!1:!!(qV.indexOf(e)>-1||/[A-Z]/u.test(e))}function GV(e,t,n,{latestValues:r},a,l=!1){const d=(Uy(e)?HV:jV)(t,r,a,e),m=DV(t,typeof e=="string",l),p=e!==U.Fragment?{...m,...d,ref:n}:{},{children:y}=t,T=U.useMemo(()=>on(y)?y.get():y,[y]);return U.createElement(e,{...p,children:T})}function xE(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function jy(e,t,n,r){if(typeof t=="function"){const[a,l]=xE(r);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=xE(r);t=t(n!==void 0?n:e.custom,a,l)}return t}function ff(e){return on(e)?e.get():e}function KV({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,a){return{latestValues:YV(n,r,a,e),renderState:t()}}function YV(e,t,n,r){const a={},l=r(e,{});for(const w in l)a[w]=ff(l[w]);let{initial:c,animate:d}=e;const m=Zf(e),p=oA(e);t&&p&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const T=y?d:c;if(T&&typeof T!="boolean"&&!Wf(T)){const w=Array.isArray(T)?T:[T];for(let R=0;R<w.length;R++){const I=jy(e,w[R]);if(I){const{transitionEnd:j,transition:k,...B}=I;for(const z in B){let F=B[z];if(Array.isArray(F)){const st=y?F.length-1:0;F=F[st]}F!==null&&(a[z]=F)}for(const z in j)a[z]=j[z]}}}return a}const dA=e=>(t,n)=>{const r=U.useContext(Xf),a=U.useContext(Qf),l=()=>KV(e,t,r,a);return n?l():cy(l)};function By(e,t,n){const{style:r}=e,a={};for(const l in r)(on(r[l])||t.style&&on(t.style[l])||lA(l,e)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=r[l]);return a}const $V=dA({scrapeMotionValuesFromProps:By,createRenderState:Ly});function mA(e,t,n){const r=By(e,t,n);for(const a in e)if(on(e[a])||on(t[a])){const l=Xo.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=e[a]}return r}const QV=dA({scrapeMotionValuesFromProps:mA,createRenderState:hA}),XV=Symbol.for("motionComponentSymbol");function xo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function WV(e,t,n){return U.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):xo(n)&&(n.current=r))},[t])}const zy=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ZV="framerAppearId",pA="data-"+zy(ZV),gA=U.createContext({});function JV(e,t,n,r,a){const{visualElement:l}=U.useContext(Xf),c=U.useContext(sA),d=U.useContext(Qf),m=U.useContext(My).reducedMotion,p=U.useRef(null);r=r||c.renderer,!p.current&&r&&(p.current=r(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,T=U.useContext(gA);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&tN(p.current,n,a,T);const w=U.useRef(!1);U.useInsertionEffect(()=>{y&&w.current&&y.update(n,d)});const R=n[pA],I=U.useRef(!!R&&!window.MotionHandoffIsComplete?.(R)&&window.MotionHasOptimisedAnimation?.(R));return dS(()=>{y&&(w.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),I.current&&y.animationState&&y.animationState.animateChanges())}),U.useEffect(()=>{y&&(!I.current&&y.animationState&&y.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(R)}),I.current=!1),y.enteringChildren=void 0)}),y}function tN(e,t,n,r){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:yA(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&xo(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:m,layoutRoot:p})}function yA(e){if(e)return e.options.allowProjection!==!1?e.projection:yA(e.parent)}function jp(e,{forwardMotionProps:t=!1}={},n,r){n&&xV(n);const a=Uy(e)?QV:$V;function l(d,m){let p;const y={...U.useContext(My),...d,layoutId:eN(d)},{isStatic:T}=y,w=NV(d),R=a(d,T);if(!T&&hy){nN();const I=iN(y);p=I.MeasureLayout,w.visualElement=JV(e,R,y,r,I.ProjectionNode)}return N.jsxs(Xf.Provider,{value:w,children:[p&&w.visualElement?N.jsx(p,{visualElement:w.visualElement,...y}):null,GV(e,d,WV(R,w.visualElement,m),R,T,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=U.forwardRef(l);return c[XV]=e,c}function eN({layoutId:e}){const t=U.useContext(uy).id;return t&&e!==void 0?t+"-"+e:e}function nN(e,t){U.useContext(sA).strict}function iN(e){const{drag:t,layout:n}=Uo;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function rN(e,t){if(typeof Proxy>"u")return jp;const n=new Map,r=(l,c)=>jp(l,c,e,t),a=(l,c)=>r(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?r:(n.has(c)||n.set(c,jp(c,void 0,e,t)),n.get(c))})}function vA({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function sN({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function aN(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Bp(e){return e===void 0||e===1}function wg({scale:e,scaleX:t,scaleY:n}){return!Bp(e)||!Bp(t)||!Bp(n)}function ua(e){return wg(e)||_A(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function _A(e){return CE(e.x)||CE(e.y)}function CE(e){return e&&e!=="0%"}function Cf(e,t,n){const r=e-n,a=t*r;return n+a}function IE(e,t,n,r,a){return a!==void 0&&(e=Cf(e,a,r)),Cf(e,n,r)+t}function bg(e,t=0,n=1,r,a){e.min=IE(e.min,t,n,r,a),e.max=IE(e.max,t,n,r,a)}function TA(e,{x:t,y:n}){bg(e.x,t.translate,t.scale,t.originPoint),bg(e.y,n.translate,n.scale,n.originPoint)}const DE=.999999999999,VE=1.0000000000001;function oN(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Io(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,TA(e,c)),r&&ua(l.latestValues)&&Io(e,l.latestValues))}t.x<VE&&t.x>DE&&(t.x=1),t.y<VE&&t.y>DE&&(t.y=1)}function Co(e,t){e.min=e.min+t,e.max=e.max+t}function NE(e,t,n,r,a=.5){const l=ue(e.min,e.max,a);bg(e,t,n,l,r)}function Io(e,t){NE(e.x,t.x,t.scaleX,t.scale,t.originX),NE(e.y,t.y,t.scaleY,t.scale,t.originY)}function EA(e,t){return vA(aN(e.getBoundingClientRect(),t))}function lN(e,t,n){const r=EA(e,n),{scroll:a}=t;return a&&(Co(r.x,a.offset.x),Co(r.y,a.offset.y)),r}const ME=()=>({translate:0,scale:1,origin:0,originPoint:0}),Do=()=>({x:ME(),y:ME()}),PE=()=>({min:0,max:0}),_e=()=>({x:PE(),y:PE()}),Sg={current:null},wA={current:!1};function uN(){if(wA.current=!0,!!hy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Sg.current=e.matches;e.addEventListener("change",t),t()}else Sg.current=!1}const cN=new WeakMap;function hN(e,t,n){for(const r in t){const a=t[r],l=n[r];if(on(a))e.addValue(r,a);else if(on(l))e.addValue(r,Lo(a,{owner:e}));else if(l!==a)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(r);e.addValue(r,Lo(c!==void 0?c:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const OE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class fN{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Cy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=_n.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,oe.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Zf(n),this.isVariantNode=oA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in T){const R=T[w];m[w]!==void 0&&on(R)&&R.set(m[w])}}mount(t){this.current=t,cN.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),wA.current||uN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ds(this.notifyUpdate),ds(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Wo.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&oe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Uo){const n=Uo[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_e()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<OE.length;r++){const a=OE[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=hN(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Lo(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(mS(r)||gS(r))?r=parseFloat(r):!EV(r)&&ms.test(n)&&(r=WS(t,n)),this.setBaseTarget(t,on(r)?r.get():r)),on(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=jy(this.props,n,this.presenceContext?.custom);l&&(r=l[t])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!on(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new gy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Vy.render(this.render)}}class bA extends fN{constructor(){super(...arguments),this.KeyframeResolver=uV}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;on(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function SA(e,{style:t,vars:n},r,a){const l=e.style;let c;for(c in t)l[c]=t[c];a?.applyProjectionStyles(l,r);for(c in n)l.setProperty(c,n[c])}function dN(e){return window.getComputedStyle(e)}class mN extends bA{constructor(){super(...arguments),this.type="html",this.renderInstance=SA}readValueFromInstance(t,n){if(Wo.has(n))return this.projection?.isProjecting?pg(n):CD(t,n);{const r=dN(t),a=(_y(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return EA(t,n)}build(t,n,r){ky(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return By(t,n,r)}}const AA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function pN(e,t,n,r){SA(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(AA.has(a)?a:zy(a),t.attrs[a])}class gN extends bA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_e}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Wo.has(n)){const r=XS(n);return r&&r.default||0}return n=AA.has(n)?n:zy(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return mA(t,n,r)}build(t,n,r){cA(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,a){pN(t,n,r,a)}mount(t){this.isSVGTag=fA(t.tagName),super.mount(t)}}const yN=(e,t)=>Uy(e)?new gN(t):new mN(t,{allowProjection:e!==U.Fragment});function No(e,t,n){const r=e.getProps();return jy(r,t,n!==void 0?n:r.custom,e)}const Ag=e=>Array.isArray(e);function vN(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Lo(n))}function _N(e){return Ag(e)?e[e.length-1]||0:e}function TN(e,t){const n=No(e,t);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const c in l){const d=_N(l[c]);vN(e,c,d)}}function EN(e){return!!(on(e)&&e.add)}function Rg(e,t){const n=e.getValue("willChange");if(EN(n))return n.add(t);if(!n&&yr.WillChange){const r=new yr.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function RA(e){return e.props[pA]}const wN=e=>e!==null;function bN(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(wN),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}const SN={type:"spring",stiffness:500,damping:25,restSpeed:10},AN=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),RN={type:"keyframes",duration:.8},xN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},CN=(e,{keyframes:t})=>t.length>2?RN:Wo.has(e)?e.startsWith("scale")?AN(t[1]):SN:xN;function IN({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const Fy=(e,t,n,r={},a,l)=>c=>{const d=Iy(r,e)||{},m=d.delay||r.delay||0;let{elapsed:p=0}=r;p=p-xi(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-p,onUpdate:w=>{t.set(w),d.onUpdate&&d.onUpdate(w)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:a};IN(d)||Object.assign(y,CN(e,y)),y.duration&&(y.duration=xi(y.duration)),y.repeatDelay&&(y.repeatDelay=xi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let T=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(Tg(y),y.delay===0&&(T=!0)),(yr.instantAnimations||yr.skipAnimations)&&(T=!0,Tg(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,T&&!l&&t.get()!==void 0){const w=bN(y.keyframes,d);if(w!==void 0){oe.update(()=>{y.onUpdate(w),y.onComplete()});return}}return d.isSync?new xy(y):new WD(y)};function DN({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function xA(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;r&&(l=r);const m=[],p=a&&e.animationState&&e.animationState.getState()[a];for(const y in d){const T=e.getValue(y,e.latestValues[y]??null),w=d[y];if(w===void 0||p&&DN(p,y))continue;const R={delay:n,...Iy(l||{},y)},I=T.get();if(I!==void 0&&!T.isAnimating&&!Array.isArray(w)&&w===I&&!R.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const B=RA(e);if(B){const z=window.MotionHandoffAnimation(B,y,oe);z!==null&&(R.startTime=z,j=!0)}}Rg(e,y),T.start(Fy(y,T,w,e.shouldReduceMotion&&YS.has(y)?{type:!1}:R,e,j));const k=T.animation;k&&m.push(k)}return c&&Promise.all(m).then(()=>{oe.update(()=>{c&&TN(e,c)})}),m}function CA(e,t,n,r=0,a=1){const l=Array.from(e).sort((p,y)=>p.sortNodePosition(y)).indexOf(t),c=e.size,d=(c-1)*r;return typeof n=="function"?n(l,c):a===1?l*r:d-l*r}function xg(e,t,n={}){const r=No(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(xA(e,r,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:T}=a;return VN(e,t,m,p,y,T,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,p]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function VN(e,t,n=0,r=0,a=0,l=1,c){const d=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),d.push(xg(m,t,{...c,delay:n+(typeof r=="function"?0:r)+CA(e.variantChildren,m,r,a,l)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(d)}function NN(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(l=>xg(e,l,n));r=Promise.all(a)}else if(typeof t=="string")r=xg(e,t,n);else{const a=typeof t=="function"?No(e,t,n.custom):t;r=Promise.all(xA(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function IA(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const MN=Oy.length;function DA(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?DA(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<MN;n++){const r=Oy[n],a=e.props[r];(Gu(a)||a===!1)&&(t[r]=a)}return t}const PN=[...Py].reverse(),ON=Py.length;function kN(e){return t=>Promise.all(t.map(({animation:n,options:r})=>NN(e,n,r)))}function LN(e){let t=kN(e),n=kE(),r=!0;const a=m=>(p,y)=>{const T=No(e,y,m==="exit"?e.presenceContext?.custom:void 0);if(T){const{transition:w,transitionEnd:R,...I}=T;p={...p,...I,...R}}return p};function l(m){t=m(e)}function c(m){const{props:p}=e,y=DA(e.parent)||{},T=[],w=new Set;let R={},I=1/0;for(let k=0;k<ON;k++){const B=PN[k],z=n[B],F=p[B]!==void 0?p[B]:y[B],st=Gu(F),et=B===m?z.isActive:null;et===!1&&(I=k);let ot=F===y[B]&&F!==p[B]&&st;if(ot&&r&&e.manuallyAnimateOnMount&&(ot=!1),z.protectedKeys={...R},!z.isActive&&et===null||!F&&!z.prevProp||Wf(F)||typeof F=="boolean")continue;const C=UN(z.prevProp,F);let A=C||B===m&&z.isActive&&!ot&&st||k>I&&st,x=!1;const P=Array.isArray(F)?F:[F];let L=P.reduce(a(B),{});et===!1&&(L={});const{prevResolvedValues:q={}}=z,V={...q,...L},we=at=>{A=!0,w.has(at)&&(x=!0,w.delete(at)),z.needsAnimating[at]=!0;const ft=e.getValue(at);ft&&(ft.liveStyle=!1)};for(const at in V){const ft=L[at],It=q[at];if(R.hasOwnProperty(at))continue;let M=!1;Ag(ft)&&Ag(It)?M=!IA(ft,It):M=ft!==It,M?ft!=null?we(at):w.add(at):ft!==void 0&&w.has(at)?we(at):z.protectedKeys[at]=!0}z.prevProp=F,z.prevResolvedValues=L,z.isActive&&(R={...R,...L}),r&&e.blockInitialAnimation&&(A=!1);const re=ot&&C;A&&(!re||x)&&T.push(...P.map(at=>{const ft={type:B};if(typeof at=="string"&&r&&!re&&e.manuallyAnimateOnMount&&e.parent){const{parent:It}=e,M=No(It,at);if(It.enteringChildren&&M){const{delayChildren:rt}=M.transition||{};ft.delay=CA(It.enteringChildren,e,rt)}}return{animation:at,options:ft}}))}if(w.size){const k={};if(typeof p.initial!="boolean"){const B=No(e,Array.isArray(p.initial)?p.initial[0]:p.initial);B&&B.transition&&(k.transition=B.transition)}w.forEach(B=>{const z=e.getBaseTarget(B),F=e.getValue(B);F&&(F.liveStyle=!0),k[B]=z??null}),T.push({animation:k})}let j=!!T.length;return r&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(j=!1),r=!1,j?t(T):Promise.resolve()}function d(m,p){if(n[m].isActive===p)return Promise.resolve();e.variantChildren?.forEach(T=>T.animationState?.setActive(m,p)),n[m].isActive=p;const y=c(m);for(const T in n)n[T].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=kE(),r=!0}}}function UN(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!IA(t,e):!1}function oa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function kE(){return{animate:oa(!0),whileInView:oa(),whileHover:oa(),whileTap:oa(),whileDrag:oa(),whileFocus:oa(),exit:oa()}}class Es{constructor(t){this.isMounted=!1,this.node=t}update(){}}class jN extends Es{constructor(t){super(t),t.animationState||(t.animationState=LN(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Wf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let BN=0;class zN extends Es{constructor(){super(...arguments),this.id=BN++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const FN={animation:{Feature:jN},exit:{Feature:zN}};function Yu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function cc(e){return{point:{x:e.pageX,y:e.pageY}}}const HN=e=>t=>Ny(t)&&e(t,cc(t));function Iu(e,t,n,r){return Yu(e,t,HN(n),r)}const VA=1e-4,qN=1-VA,GN=1+VA,NA=.01,KN=0-NA,YN=0+NA;function dn(e){return e.max-e.min}function $N(e,t,n){return Math.abs(e-t)<=n}function LE(e,t,n,r=.5){e.origin=r,e.originPoint=ue(t.min,t.max,e.origin),e.scale=dn(n)/dn(t),e.translate=ue(n.min,n.max,e.origin)-e.originPoint,(e.scale>=qN&&e.scale<=GN||isNaN(e.scale))&&(e.scale=1),(e.translate>=KN&&e.translate<=YN||isNaN(e.translate))&&(e.translate=0)}function Du(e,t,n,r){LE(e.x,t.x,n.x,r?r.originX:void 0),LE(e.y,t.y,n.y,r?r.originY:void 0)}function UE(e,t,n){e.min=n.min+t.min,e.max=e.min+dn(t)}function QN(e,t,n){UE(e.x,t.x,n.x),UE(e.y,t.y,n.y)}function jE(e,t,n){e.min=t.min-n.min,e.max=e.min+dn(t)}function Vu(e,t,n){jE(e.x,t.x,n.x),jE(e.y,t.y,n.y)}function Gn(e){return[e("x"),e("y")]}const MA=({current:e})=>e?e.ownerDocument.defaultView:null,BE=(e,t)=>Math.abs(e-t);function XN(e,t){const n=BE(e.x,t.x),r=BE(e.y,t.y);return Math.sqrt(n**2+r**2)}class PA{constructor(t,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Fp(this.lastMoveEventInfo,this.history),R=this.startEvent!==null,I=XN(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!R&&!I)return;const{point:j}=w,{timestamp:k}=We;this.history.push({...j,timestamp:k});const{onStart:B,onMove:z}=this.handlers;R||(B&&B(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),z&&z(this.lastMoveEvent,w)},this.handlePointerMove=(w,R)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=zp(R,this.transformPagePoint),oe.update(this.updatePoint,!0)},this.handlePointerUp=(w,R)=>{this.end();const{onEnd:I,onSessionEnd:j,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const B=Fp(w.type==="pointercancel"?this.lastMoveEventInfo:zp(R,this.transformPagePoint),this.history);this.startEvent&&I&&I(w,B),j&&j(w,B)},!Ny(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=a||window;const d=cc(t),m=zp(d,this.transformPagePoint),{point:p}=m,{timestamp:y}=We;this.history=[{...p,timestamp:y}];const{onSessionStart:T}=n;T&&T(t,Fp(m,this.history)),this.removeListeners=oc(Iu(this.contextWindow,"pointermove",this.handlePointerMove),Iu(this.contextWindow,"pointerup",this.handlePointerUp),Iu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ds(this.updatePoint)}}function zp(e,t){return t?{point:t(e.point)}:e}function zE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Fp({point:e},t){return{point:e,delta:zE(e,OA(t)),offset:zE(e,WN(t)),velocity:ZN(t,.1)}}function WN(e){return e[0]}function OA(e){return e[e.length-1]}function ZN(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=OA(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>xi(t)));)n--;if(!r)return{x:0,y:0};const l=Ci(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function JN(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ue(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ue(n,e,r.max):Math.min(e,n)),e}function FE(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function tM(e,{top:t,left:n,bottom:r,right:a}){return{x:FE(e.x,n,a),y:FE(e.y,t,r)}}function HE(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function eM(e,t){return{x:HE(e.x,t.x),y:HE(e.y,t.y)}}function nM(e,t){let n=.5;const r=dn(e),a=dn(t);return a>r?n=Fu(t.min,t.max-r,e.min):r>a&&(n=Fu(e.min,e.max-a,t.min)),gr(0,1,n)}function iM(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Cg=.35;function rM(e=Cg){return e===!1?e=0:e===!0&&(e=Cg),{x:qE(e,"left","right"),y:qE(e,"top","bottom")}}function qE(e,t,n){return{min:GE(e,t),max:GE(e,n)}}function GE(e,t){return typeof e=="number"?e:e[t]||0}const sM=new WeakMap;class aM{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_e(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=T=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(cc(T).point)},c=(T,w)=>{const{drag:R,dragPropagation:I,onDragStart:j}=this.getProps();if(R&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=dV(R),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gn(B=>{let z=this.getAxisMotionValue(B).get()||0;if(Ii.test(z)){const{projection:F}=this.visualElement;if(F&&F.layout){const st=F.layout.layoutBox[B];st&&(z=dn(st)*(parseFloat(z)/100))}}this.originPoint[B]=z}),j&&oe.postRender(()=>j(T,w)),Rg(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},d=(T,w)=>{this.latestPointerEvent=T,this.latestPanInfo=w;const{dragPropagation:R,dragDirectionLock:I,onDirectionLock:j,onDrag:k}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:B}=w;if(I&&this.currentDirection===null){this.currentDirection=oM(B),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",w.point,B),this.updateAxis("y",w.point,B),this.visualElement.render(),k&&k(T,w)},m=(T,w)=>{this.latestPointerEvent=T,this.latestPanInfo=w,this.stop(T,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Gn(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new PA(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:MA(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!r)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&oe.postRender(()=>d(r,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!Zh(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=JN(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&xo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=tM(r.layoutBox,t):this.constraints=!1,this.elastic=rM(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Gn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=iM(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!xo(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=lN(r,a.root,this.visualElement.getTransformPagePoint());let c=eM(a.layout.layoutBox,l);if(n){const d=n(sN(c));this.hasMutatedConstraints=!!d,d&&(c=vA(d))}return c}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},p=Gn(y=>{if(!Zh(y,n,this.currentDirection))return;let T=m&&m[y]||{};c&&(T={min:0,max:0});const w=a?200:1e6,R=a?40:1e7,I={type:"inertia",velocity:r?t[y]:0,bounceStiffness:w,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,...T};return this.startAxisValueAnimation(y,I)});return Promise.all(p).then(d)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Rg(this.visualElement,t),r.start(Fy(t,r,0,n,this.visualElement,!1))}stopAnimation(){Gn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Gn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Gn(n=>{const{drag:r}=this.getProps();if(!Zh(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(t[n]-ue(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!xo(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Gn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=nM({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Gn(c=>{if(!Zh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];d.set(ue(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;sM.set(this.visualElement,this);const t=this.visualElement.current,n=Iu(t,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();xo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),oe.read(r);const c=Yu(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Gn(y=>{const T=this.getAxisMotionValue(y);T&&(this.originPoint[y]+=m[y].translate,T.set(T.get()+m[y].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Cg,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Zh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function oM(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class lM extends Es{constructor(t){super(t),this.removeGroupControls=Yn,this.removeListeners=Yn,this.controls=new aM(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yn}unmount(){this.removeGroupControls(),this.removeListeners()}}const KE=e=>(t,n)=>{e&&oe.postRender(()=>e(t,n))};class uM extends Es{constructor(){super(...arguments),this.removePointerDownListener=Yn}onPointerDown(t){this.session=new PA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:MA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:KE(t),onStart:KE(n),onMove:r,onEnd:(l,c)=>{delete this.session,a&&oe.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Iu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const df={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function YE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const vu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(bt.test(e))e=parseFloat(e);else return e;const n=YE(e,t.target.x),r=YE(e,t.target.y);return`${n}% ${r}%`}},cM={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=ms.parse(e);if(a.length>5)return r;const l=ms.createTransformer(e),c=typeof a[0]!="number"?1:0,d=n.x.scale*t.x,m=n.y.scale*t.y;a[0+c]/=d,a[1+c]/=m;const p=ue(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};let Hp=!1;class hM extends U.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=t;MV(fM),l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),Hp&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),df.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,{projection:c}=r;return c&&(c.isPresent=l,Hp=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||oe.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Vy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;Hp=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function kA(e){const[t,n]=rA(),r=U.useContext(uy);return N.jsx(hM,{...e,layoutGroup:r,switchLayoutGroup:U.useContext(gA),isPresent:t,safeToRemove:n})}const fM={borderRadius:{...vu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vu,borderTopRightRadius:vu,borderBottomLeftRadius:vu,borderBottomRightRadius:vu,boxShadow:cM};function dM(e,t,n){const r=on(e)?e:Lo(e);return r.start(Fy("",r,t,n)),r.animation}const mM=(e,t)=>e.depth-t.depth;class pM{constructor(){this.children=[],this.isDirty=!1}add(t){fy(this.children,t),this.isDirty=!0}remove(t){dy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(mM),this.isDirty=!1,this.children.forEach(t)}}function gM(e,t){const n=_n.now(),r=({timestamp:a})=>{const l=a-n;l>=t&&(ds(r),e(l-t))};return oe.setup(r,!0),()=>ds(r)}const LA=["TopLeft","TopRight","BottomLeft","BottomRight"],yM=LA.length,$E=e=>typeof e=="string"?parseFloat(e):e,QE=e=>typeof e=="number"||bt.test(e);function vM(e,t,n,r,a,l){a?(e.opacity=ue(0,n.opacity??1,_M(r)),e.opacityExit=ue(t.opacity??1,0,TM(r))):l&&(e.opacity=ue(t.opacity??1,n.opacity??1,r));for(let c=0;c<yM;c++){const d=`border${LA[c]}Radius`;let m=XE(t,d),p=XE(n,d);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||QE(m)===QE(p)?(e[d]=Math.max(ue($E(m),$E(p),r),0),(Ii.test(p)||Ii.test(m))&&(e[d]+="%")):e[d]=p}(t.rotate||n.rotate)&&(e.rotate=ue(t.rotate||0,n.rotate||0,r))}function XE(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const _M=UA(0,.5,SS),TM=UA(.5,.95,Yn);function UA(e,t,n){return r=>r<e?0:r>t?1:n(Fu(e,t,r))}function WE(e,t){e.min=t.min,e.max=t.max}function qn(e,t){WE(e.x,t.x),WE(e.y,t.y)}function ZE(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function JE(e,t,n,r,a){return e-=t,e=Cf(e,1/n,r),a!==void 0&&(e=Cf(e,1/a,r)),e}function EM(e,t=0,n=1,r=.5,a,l=e,c=e){if(Ii.test(t)&&(t=parseFloat(t),t=ue(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=ue(l.min,l.max,r);e===l&&(d-=t),e.min=JE(e.min,t,n,d,a),e.max=JE(e.max,t,n,d,a)}function tw(e,t,[n,r,a],l,c){EM(e,t[n],t[r],t[a],t.scale,l,c)}const wM=["x","scaleX","originX"],bM=["y","scaleY","originY"];function ew(e,t,n,r){tw(e.x,t,wM,n?n.x:void 0,r?r.x:void 0),tw(e.y,t,bM,n?n.y:void 0,r?r.y:void 0)}function nw(e){return e.translate===0&&e.scale===1}function jA(e){return nw(e.x)&&nw(e.y)}function iw(e,t){return e.min===t.min&&e.max===t.max}function SM(e,t){return iw(e.x,t.x)&&iw(e.y,t.y)}function rw(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function BA(e,t){return rw(e.x,t.x)&&rw(e.y,t.y)}function sw(e){return dn(e.x)/dn(e.y)}function aw(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class AM{constructor(){this.members=[]}add(t){fy(this.members,t),t.scheduleRender()}remove(t){if(dy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function RM(e,t,n){let r="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=n?.z||0;if((a||l||c)&&(r=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:T,rotateY:w,skewX:R,skewY:I}=n;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),T&&(r+=`rotateX(${T}deg) `),w&&(r+=`rotateY(${w}deg) `),R&&(r+=`skewX(${R}deg) `),I&&(r+=`skewY(${I}deg) `)}const d=e.x.scale*t.x,m=e.y.scale*t.y;return(d!==1||m!==1)&&(r+=`scale(${d}, ${m})`),r||"none"}const qp=["","X","Y","Z"],xM=1e3;let CM=0;function Gp(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function zA(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=RA(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",oe,!(a||l))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&zA(r)}function FA({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(c={},d=t?.()){this.id=CM++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(VM),this.nodes.forEach(OM),this.nodes.forEach(kM),this.nodes.forEach(NM)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new pM)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new gy),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=iA(c)&&!_V(c),this.instance=c;const{layoutId:d,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),e){let y,T=0;const w=()=>this.root.updateBlockedByResize=!1;oe.read(()=>{T=window.innerWidth}),e(c,()=>{const R=window.innerWidth;R!==T&&(T=R,this.root.updateBlockedByResize=!0,y&&y(),y=gM(w,250),df.hasAnimatedSinceResize&&(df.hasAnimatedSinceResize=!1,this.nodes.forEach(uw)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:T,hasRelativeLayoutChanged:w,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||p.getDefaultTransition()||zM,{onLayoutAnimationStart:j,onLayoutAnimationComplete:k}=p.getProps(),B=!this.targetLayout||!BA(this.targetLayout,R),z=!T&&w;if(this.options.layoutRoot||this.resumeFrom||z||T&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...Iy(I,"layout"),onPlay:j,onComplete:k};(p.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(y,z)}else T||uw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ds(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(LM),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const T=this.path[y];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ow);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(lw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(PM),this.nodes.forEach(IM),this.nodes.forEach(DM)):this.nodes.forEach(lw),this.clearAllSnapshots();const d=_n.now();We.delta=gr(0,1e3/60,d-We.timestamp),We.timestamp=d,We.isProcessing=!0,Mp.update.process(We),Mp.preRender.process(We),Mp.render.process(We),We.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Vy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(MM),this.sharedNodes.forEach(UM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,oe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){oe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!dn(this.snapshot.measuredBox.x)&&!dn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_e(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!jA(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||ua(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),FM(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return _e();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(HM))){const{scroll:p}=this.root;p&&(Co(d.x,p.offset.x),Co(d.y,p.offset.y))}return d}removeElementScroll(c){const d=_e();if(qn(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:T}=p;p!==this.root&&y&&T.layoutScroll&&(y.wasRoot&&qn(d,c),Co(d.x,y.offset.x),Co(d.y,y.offset.y))}return d}applyTransform(c,d=!1){const m=_e();qn(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Io(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ua(y.latestValues)&&Io(m,y.latestValues)}return ua(this.latestValues)&&Io(m,this.latestValues),m}removeTransform(c){const d=_e();qn(d,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!ua(p.latestValues))continue;wg(p.latestValues)&&p.updateSnapshot();const y=_e(),T=p.measurePageBox();qn(y,T),ew(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return ua(this.latestValues)&&ew(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==We.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:T}=this.options;if(!(!this.layout||!(y||T))){if(this.resolvedRelativeTargetAt=We.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_e(),this.relativeTargetOrigin=_e(),Vu(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=_e(),this.targetWithTransforms=_e()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),QN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qn(this.target,this.layout.layoutBox),TA(this.target,this.targetDelta)):qn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_e(),this.relativeTargetOrigin=_e(),Vu(this.relativeTargetOrigin,this.target,w.target),qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||wg(this.parent.latestValues)||_A(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===We.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;qn(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,w=this.treeScale.y;oN(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=_e());const{target:R}=c;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ZE(this.prevProjectionDelta.x,this.projectionDelta.x),ZE(this.prevProjectionDelta.y,this.projectionDelta.y)),Du(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==w||!aw(this.projectionDelta.x,this.prevProjectionDelta.x)||!aw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Do(),this.projectionDelta=Do(),this.projectionDeltaWithTransform=Do()}setAnimationOrigin(c,d=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},T=Do();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const w=_e(),R=m?m.source:void 0,I=this.layout?this.layout.source:void 0,j=R!==I,k=this.getStack(),B=!k||k.members.length<=1,z=!!(j&&!B&&this.options.crossfade===!0&&!this.path.some(BM));this.animationProgress=0;let F;this.mixTargetDelta=st=>{const et=st/1e3;cw(T.x,c.x,et),cw(T.y,c.y,et),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vu(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jM(this.relativeTarget,this.relativeTargetOrigin,w,et),F&&SM(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=_e()),qn(F,this.relativeTarget)),j&&(this.animationValues=y,vM(y,p,this.latestValues,et,z,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=et},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ds(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=oe.update(()=>{df.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Lo(0)),this.currentAnimation=dM(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(xM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:p,latestValues:y}=c;if(!(!d||!m||!p)){if(this!==c&&this.layout&&p&&HA(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||_e();const T=dn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+T;const w=dn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+w}qn(d,m),Io(d,y),Du(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new AM),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const p={};m.z&&Gp("z",c,p,this.animationValues);for(let y=0;y<qp.length;y++)Gp(`rotate${qp[y]}`,c,p,this.animationValues),Gp(`skew${qp[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=ff(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=ff(d?.pointerEvents)||""),this.hasProjected&&!ua(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let T=RM(this.projectionDeltaWithTransform,this.treeScale,y);m&&(T=m(y,T)),c.transform=T;const{x:w,y:R}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${R.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const I in Ku){if(y[I]===void 0)continue;const{correct:j,applyTo:k,isCSSVariable:B}=Ku[I],z=T==="none"?y[I]:j(y[I],p);if(k){const F=k.length;for(let st=0;st<F;st++)c[k[st]]=z}else B?this.options.visualElement.renderState.vars[I]=z:c[I]=z}this.options.layoutId&&(c.pointerEvents=p===this?ff(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(ow),this.root.sharedNodes.clear()}}}function IM(e){e.updateLayout()}function DM(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?Gn(y=>{const T=l?t.measuredBox[y]:t.layoutBox[y],w=dn(T);T.min=n[y].min,T.max=T.min+w}):HA(a,t.layoutBox,n)&&Gn(y=>{const T=l?t.measuredBox[y]:t.layoutBox[y],w=dn(n[y]);T.max=T.min+w,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+w)});const c=Do();Du(c,n,t.layoutBox);const d=Do();l?Du(d,e.applyTransform(r,!0),t.measuredBox):Du(d,n,t.layoutBox);const m=!jA(c);let p=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:T,layout:w}=y;if(T&&w){const R=_e();Vu(R,t.layoutBox,T.layoutBox);const I=_e();Vu(I,n,w.layoutBox),BA(R,I)||(p=!0),y.options.layoutRoot&&(e.relativeTarget=I,e.relativeTargetOrigin=R,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function VM(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function NM(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function MM(e){e.clearSnapshot()}function ow(e){e.clearMeasurements()}function lw(e){e.isLayoutDirty=!1}function PM(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function uw(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function OM(e){e.resolveTargetDelta()}function kM(e){e.calcProjection()}function LM(e){e.resetSkewAndRotation()}function UM(e){e.removeLeadSnapshot()}function cw(e,t,n){e.translate=ue(t.translate,0,n),e.scale=ue(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function hw(e,t,n,r){e.min=ue(t.min,n.min,r),e.max=ue(t.max,n.max,r)}function jM(e,t,n,r){hw(e.x,t.x,n.x,r),hw(e.y,t.y,n.y,r)}function BM(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const zM={duration:.45,ease:[.4,0,.1,1]},fw=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),dw=fw("applewebkit/")&&!fw("chrome/")?Math.round:Yn;function mw(e){e.min=dw(e.min),e.max=dw(e.max)}function FM(e){mw(e.x),mw(e.y)}function HA(e,t,n){return e==="position"||e==="preserve-aspect"&&!$N(sw(t),sw(n),.2)}function HM(e){return e!==e.root&&e.scroll?.wasRoot}const qM=FA({attachResizeListener:(e,t)=>Yu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kp={current:void 0},qA=FA({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Kp.current){const e=new qM({});e.mount(window),e.setOptions({layoutScroll:!0}),Kp.current=e}return Kp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),GM={pan:{Feature:uM},drag:{Feature:lM,ProjectionNode:qA,MeasureLayout:kA}};function pw(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&oe.postRender(()=>l(t,cc(t)))}class KM extends Es{mount(){const{current:t}=this.node;t&&(this.unmount=mV(t,(n,r)=>(pw(this.node,r,"Start"),a=>pw(this.node,a,"End"))))}unmount(){}}class YM extends Es{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=oc(Yu(this.node.current,"focus",()=>this.onFocus()),Yu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function gw(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&oe.postRender(()=>l(t,cc(t)))}class $M extends Es{mount(){const{current:t}=this.node;t&&(this.unmount=vV(t,(n,r)=>(gw(this.node,r,"Start"),(a,{success:l})=>gw(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ig=new WeakMap,Yp=new WeakMap,QM=e=>{const t=Ig.get(e.target);t&&t(e)},XM=e=>{e.forEach(QM)};function WM({root:e,...t}){const n=e||document;Yp.has(n)||Yp.set(n,{});const r=Yp.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(XM,{root:e,...t})),r[a]}function ZM(e,t,n){const r=WM(t);return Ig.set(e,n),r.observe(e),()=>{Ig.delete(e),r.unobserve(e)}}const JM={some:0,all:1};class tP extends Es{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:JM[a]},d=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:T}=this.node.getProps(),w=p?y:T;w&&w(m)};return ZM(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(eP(t,n))&&this.startObserver()}unmount(){}}function eP({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const nP={inView:{Feature:tP},tap:{Feature:$M},focus:{Feature:YM},hover:{Feature:KM}},iP={layout:{ProjectionNode:qA,MeasureLayout:kA}},rP={...FN,...nP,...GM,...iP},pt=rN(rP,yN);var Dg=new Map,Jh=new WeakMap,yw=0,sP=void 0;function aP(e){return e?(Jh.has(e)||(yw+=1,Jh.set(e,yw.toString())),Jh.get(e)):"0"}function oP(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?aP(e.root):e[t]}`).toString()}function lP(e){const t=oP(e);let n=Dg.get(t);if(!n){const r=new Map;let a;const l=new IntersectionObserver(c=>{c.forEach(d=>{var m;const p=d.isIntersecting&&a.some(y=>d.intersectionRatio>=y);e.trackVisibility&&typeof d.isVisible>"u"&&(d.isVisible=p),(m=r.get(d.target))==null||m.forEach(y=>{y(p,d)})})},e);a=l.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:l,elements:r},Dg.set(t,n)}return n}function uP(e,t,n={},r=sP){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const m=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:m,intersectionRect:m,rootBounds:m}),()=>{}}const{id:a,observer:l,elements:c}=lP(n),d=c.get(e)||[];return c.has(e)||c.set(e,d),d.push(t),l.observe(e),function(){d.splice(d.indexOf(t),1),d.length===0&&(c.delete(e),l.unobserve(e)),c.size===0&&(l.disconnect(),Dg.delete(a))}}function cP({threshold:e,delay:t,trackVisibility:n,rootMargin:r,root:a,triggerOnce:l,skip:c,initialInView:d,fallbackInView:m,onChange:p}={}){var y;const[T,w]=U.useState(null),R=U.useRef(p),[I,j]=U.useState({inView:!!d,entry:void 0});R.current=p,U.useEffect(()=>{if(c||!T)return;let F;return F=uP(T,(st,et)=>{j({inView:st,entry:et}),R.current&&R.current(st,et),et.isIntersecting&&l&&F&&(F(),F=void 0)},{root:a,rootMargin:r,threshold:e,trackVisibility:n,delay:t},m),()=>{F&&F()}},[Array.isArray(e)?e.toString():e,T,a,r,l,c,n,m,t]);const k=(y=I.entry)==null?void 0:y.target,B=U.useRef(void 0);!T&&k&&!l&&!c&&B.current!==k&&(B.current=k,j({inView:!!d,entry:void 0}));const z=[w,I.inView,I.entry];return z.ref=z[0],z.inView=z[1],z.entry=z[2],z}const hP=(e,t=100)=>{const[n,r]=U.useState(""),[a,l]=U.useState(0);return U.useEffect(()=>{if(a<e.length){const c=setTimeout(()=>{r(d=>d+e[a]),l(d=>d+1)},t);return()=>clearTimeout(c)}},[a,e,t]),n},Ai=e=>{const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})},tf=({children:e,className:t,id:n})=>{const[r,a]=cP({threshold:.1,triggerOnce:!0});return N.jsx(pt.section,{ref:r,id:n,className:t,initial:{opacity:0,y:50},animate:a?{opacity:1,y:0}:{opacity:0,y:50},transition:{duration:.8},children:e})};function fP(){const[e,t]=U.useState(!1),n=hP("Uğur",150),r=[{label:"React",level:70},{label:"TypeScript",level:70},{label:"Tailwind CSS",level:70},{label:"Java",level:50},{label:"Python",level:70},{label:"Git",level:80}],a=[{title:"restoran-App",description:"Açıklama eklenmemiş.",tags:["TypeScript"],stars:0,code:"https://github.com/UgurOz1/restoran-App"},{title:"To-Do-List",description:"Açıklama eklenmemiş.",tags:["TypeScript"],stars:0,code:"https://github.com/UgurOz1/To-Do-List"},{title:"TechBlog",description:"Açıklama eklenmemiş.",tags:["Python"],stars:0,code:"https://github.com/UgurOz1/TechBlog"},{title:"mucize_komur_evi",description:"Açıklama eklenmemiş.",tags:["CSS"],stars:0,demo:"https://uguroz1.github.io/mucize_komur_evi/",code:"https://github.com/UgurOz1/mucize_komur_evi"},{title:"TicTacToe",description:"A simple TicTacToe game developed with Java",tags:["Java"],stars:0,code:"https://github.com/UgurOz1/TicTacToe"},{title:"StudentDatabaseApplication",description:"It is a simple project that was developed with Java",tags:["Java"],stars:0,code:"https://github.com/UgurOz1/StudentDatabaseApplication"}];return N.jsxs("div",{className:"relative min-h-screen bg-slate-950 text-slate-100 antialiased selection:bg-sky-400/20",children:[N.jsx("div",{className:"pointer-events-none fixed inset-0 -z-20 [mask-image:radial-gradient(ellipse_65%_65%_at_50%_-10%,black,transparent)]",children:N.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(75%_55%_at_80%_-10%,rgba(56,189,248,0.18),transparent),radial-gradient(60%_60%_at_0%_10%,rgba(99,102,241,0.18),transparent)]"})}),N.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10 opacity-40 [mask-image:radial-gradient(ellipse_60%_60%_at_50%_0%,black,transparent)] bg-[linear-gradient(to_right,rgba(255,255,255,0.06)_1px,transparent_1px),linear-gradient(to_bottom,rgba(255,255,255,0.06)_1px,transparent_1px)] bg-[size:28px_28px]"}),N.jsxs(pt.header,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6},className:"sticky top-0 z-50 border-b border-white/5 bg-slate-950/60 backdrop-blur supports-[backdrop-filter]:bg-slate-950/50",children:[N.jsxs("nav",{className:"mx-auto max-w-7xl px-6 sm:px-8 flex items-center justify-between h-20",children:[N.jsxs(pt.a,{href:"#",className:"font-semibold tracking-tight text-white text-lg sm:text-xl",whileHover:{scale:1.05},whileTap:{scale:.95},children:[n,N.jsx(pt.span,{animate:{opacity:[1,0]},transition:{duration:.8,repeat:1/0,repeatType:"reverse"},className:"inline-block w-0.5 h-6 bg-sky-400 ml-1"})]}),N.jsxs("div",{className:"hidden md:flex items-center gap-3 text-base",children:[N.jsx(pt.button,{onClick:()=>Ai("about"),className:"rounded-full px-4 py-2 text-slate-200 hover:text-white ring-1 ring-inset ring-white/10 hover:bg-white/10 bg-white/10 text-white",whileHover:{scale:1.05,backgroundColor:"rgba(255,255,255,0.15)"},whileTap:{scale:.95},children:"Hakkımda"}),N.jsx(pt.button,{onClick:()=>Ai("skills"),className:"rounded-full px-4 py-2 text-slate-200 hover:text-white ring-1 ring-inset ring-white/10 hover:bg-white/10",whileHover:{scale:1.05,backgroundColor:"rgba(255,255,255,0.15)"},whileTap:{scale:.95},children:"Yetenekler"}),N.jsx(pt.button,{onClick:()=>Ai("projects"),className:"rounded-full px-4 py-2 text-slate-200 hover:text-white ring-1 ring-inset ring-white/10 hover:bg-white/10",whileHover:{scale:1.05,backgroundColor:"rgba(255,255,255,0.15)"},whileTap:{scale:.95},children:"Projeler"}),N.jsx(pt.button,{onClick:()=>Ai("contact"),className:"rounded-full px-4 py-2 text-slate-200 hover:text-white ring-1 ring-inset ring-white/10 hover:bg-white/10",whileHover:{scale:1.05,backgroundColor:"rgba(255,255,255,0.15)"},whileTap:{scale:.95},children:"İletişim"}),N.jsx(pt.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:N.jsx(zu,{to:"/blog",className:"rounded-full px-4 py-2 text-slate-200 hover:text-white ring-1 ring-inset ring-white/10 hover:bg-white/10",children:"Blog"})})]}),N.jsx("div",{className:"md:hidden",children:N.jsx(pt.button,{type:"button","aria-label":"Menüyü aç/kapat",onClick:()=>t(l=>!l),className:"inline-flex items-center justify-center rounded-full p-2 text-slate-200 ring-1 ring-inset ring-white/10 hover:bg-white/10 focus:outline-none",whileHover:{scale:1.1},whileTap:{scale:.9},children:N.jsx(pt.svg,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-6 w-6",animate:{rotate:e?90:0},transition:{duration:.3},children:N.jsx("path",{d:"M4 6h16M4 12h16M4 18h16",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})})})})]}),N.jsx(RV,{children:e&&N.jsx(pt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"md:hidden border-t border-white/5 bg-slate-950/90 backdrop-blur overflow-hidden",children:N.jsxs("div",{className:"mx-auto max-w-7xl px-6 sm:px-8 py-3 flex flex-col gap-1",children:[N.jsx(pt.button,{onClick:()=>{Ai("about"),t(!1)},className:"rounded-lg px-3 py-2 text-slate-200 hover:text-white hover:bg-white/10 text-left",whileHover:{x:10,backgroundColor:"rgba(255,255,255,0.1)"},children:"Hakkımda"}),N.jsx(pt.button,{onClick:()=>{Ai("skills"),t(!1)},className:"rounded-lg px-3 py-2 text-slate-200 hover:text-white hover:bg-white/10 text-left",whileHover:{x:10,backgroundColor:"rgba(255,255,255,0.1)"},children:"Yetenekler"}),N.jsx(pt.button,{onClick:()=>{Ai("projects"),t(!1)},className:"rounded-lg px-3 py-2 text-slate-200 hover:text-white hover:bg-white/10 text-left",whileHover:{x:10,backgroundColor:"rgba(255,255,255,0.1)"},children:"Projeler"}),N.jsx(pt.button,{onClick:()=>{Ai("contact"),t(!1)},className:"rounded-lg px-3 py-2 text-slate-200 hover:text-white hover:bg-white/10 text-left",whileHover:{x:10,backgroundColor:"rgba(255,255,255,0.1)"},children:"İletişim"}),N.jsx(pt.div,{whileHover:{x:10,backgroundColor:"rgba(255,255,255,0.1)"},children:N.jsx(zu,{to:"/blog",onClick:()=>t(!1),className:"block rounded-lg px-3 py-2 text-slate-200 hover:text-white hover:bg-white/10",children:"Blog"})})]})})})]}),N.jsxs("main",{className:"mx-auto max-w-7xl px-6 sm:px-8",children:[N.jsx("section",{className:"relative py-20 sm:py-28 lg:py-32","aria-label":"Giriş",children:N.jsxs("div",{className:"grid items-center gap-12 lg:grid-cols-2",children:[N.jsxs(pt.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},children:[N.jsxs(pt.h1,{className:"text-4xl sm:text-5xl lg:text-6xl font-semibold tracking-tight leading-tight",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},children:["Merhaba, ben"," ",N.jsx(pt.span,{className:"bg-gradient-to-r from-sky-400 via-cyan-300 to-indigo-400 bg-clip-text text-transparent",animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:3,repeat:1/0,ease:"linear"},style:{backgroundSize:"200% 200%"},children:"Uğur"})]}),N.jsx(pt.p,{className:"mt-5 max-w-2xl text-slate-300",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},children:"Web arayüzleri ve etkileşimli deneyimler tasarlayan bir geliştiriciyim. Modern, performanslı ve kullanıcı odaklı ürünler geliştiriyorum."}),N.jsxs(pt.div,{className:"mt-8 flex flex-wrap items-center gap-3",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},children:[N.jsx(pt.button,{onClick:()=>Ai("contact"),className:"inline-flex items-center justify-center rounded-full bg-gradient-to-r from-sky-400 to-indigo-500 px-5 py-2.5 text-sm font-medium text-slate-950 shadow-sm",whileHover:{scale:1.05,boxShadow:"0 0 25px rgba(56, 189, 248, 0.5)"},whileTap:{scale:.95},children:"İletişime Geç"}),N.jsx(pt.button,{onClick:()=>Ai("projects"),className:"inline-flex items-center justify-center rounded-full bg-slate-900/60 px-5 py-2.5 text-sm font-medium text-white ring-1 ring-inset ring-white/15 backdrop-blur transition",whileHover:{scale:1.05,backgroundColor:"rgba(15, 23, 42, 0.8)"},whileTap:{scale:.95},children:"Projeleri Gör"})]})]}),N.jsxs(pt.div,{className:"relative mx-auto w-full max-w-md",initial:{opacity:0,scale:.8,rotate:-10},animate:{opacity:1,scale:1,rotate:0},transition:{duration:1,delay:.5},children:[N.jsx(pt.div,{className:"mx-auto aspect-square w-72 rounded-full border border-white/10 bg-[conic-gradient(from_0deg,rgba(99,102,241,0.6),rgba(56,189,248,0.75),rgba(34,211,238,0.7),rgba(99,102,241,0.6))] ring-1 ring-inset ring-white/10 shadow-2xl",animate:{rotate:360,scale:[1,1.05,1]},transition:{rotate:{duration:20,repeat:1/0,ease:"linear"},scale:{duration:2,repeat:1/0,ease:"easeInOut"}},whileHover:{scale:1.1}}),[...Array(6)].map((l,c)=>N.jsx(pt.div,{className:"absolute w-2 h-2 bg-sky-400/60 rounded-full",style:{top:`${20+c*10}%`,left:`${10+c*15}%`},animate:{y:[-10,10,-10],opacity:[.3,1,.3]},transition:{duration:2+c*.5,repeat:1/0,ease:"easeInOut",delay:c*.2}},c))]})]})}),N.jsxs(tf,{id:"about",className:"scroll-mt-24 border-t border-white/5 py-20",children:[N.jsxs(pt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[N.jsx("h2",{className:"text-2xl font-semibold tracking-tight",children:"Hakkımda"}),N.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"Kısa özet ve geçmiş"})]}),N.jsxs("div",{className:"mt-6 grid gap-6 lg:grid-cols-2",children:[N.jsxs(pt.div,{className:"space-y-6",initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:.2},viewport:{once:!0},children:[N.jsxs(pt.div,{className:"rounded-2xl border border-white/10 bg-white/5 p-6 ring-1 ring-inset ring-white/10",whileHover:{scale:1.02,boxShadow:"0 10px 30px rgba(56, 189, 248, 0.1)"},transition:{duration:.3},children:[N.jsxs("p",{className:"leading-relaxed text-slate-300",children:["Frontend odaklı bir geliştiriciyim. Tasarım sistemleri kurar, performans ve erişilebilirliği önceleyerek modern arayüzler geliştiririm. Temiz kod, yeniden kullanılabilir bileşenler ve yalın mimari benim için temel prensiplerdir. Şu anda"," ",N.jsx("a",{href:"https://www.rise-consulting.net/",target:"_blank",rel:"noreferrer",className:"underline decoration-sky-500/50 hover:text-sky-300",children:"Rise Technology, Consulting & Academy"}),"'de staj yapıyorum ve React + TypeScript ile projeler geliştiriyorum. Giresun Üniversitesi Bilgisayar Mühendisliği 3. sınıf öğrencisiyim."]}),N.jsxs("ul",{className:"mt-5 space-y-2 text-slate-300",children:[N.jsxs("li",{className:"flex items-start gap-3",children:[N.jsx("span",{className:"mt-1 inline-block h-2 w-2 rounded-full bg-sky-400"})," Tasarım sistemi oluşturma ve komponent mimarisi"]}),N.jsxs("li",{className:"flex items-start gap-3",children:[N.jsx("span",{className:"mt-1 inline-block h-2 w-2 rounded-full bg-indigo-400"})," Performans optimizasyonu (bundle, lazy, memoization)"]}),N.jsxs("li",{className:"flex items-start gap-3",children:[N.jsx("span",{className:"mt-1 inline-block h-2 w-2 rounded-full bg-cyan-400"})," Erişilebilirlik ve test odaklı geliştirme"]})]}),N.jsxs("div",{className:"mt-5",children:[N.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Şu an"}),N.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:["React","TypeScript","Tailwind CSS","Vite"].map(l=>N.jsx("span",{className:"rounded-full bg-slate-900/60 px-3 py-1 text-xs text-slate-300 ring-1 ring-inset ring-white/10",children:l},l))})]}),N.jsxs("div",{className:"mt-6 flex flex-wrap gap-3",children:[N.jsx("a",{href:"uguro9319@gmail.com",className:"inline-flex items-center rounded-full bg-sky-500/10 px-4 py-2 text-sm text-sky-300 ring-1 ring-inset ring-sky-500/30 hover:bg-sky-500/20",children:"E‑posta"}),N.jsx("a",{href:"https://github.com/UgurOz1",target:"_blank",rel:"noreferrer",className:"inline-flex items-center rounded-full bg-white px-4 py-2 text-sm text-slate-900 hover:bg-slate-100",children:"CV / GitHub"})]})]}),N.jsx("div",{className:"grid gap-3 sm:grid-cols-3",children:[{label:"Odak",value:"UI/UX, Performans"},{label:"Araçlar",value:"React, TS, Tailwind"},{label:"Yaklaşım",value:"Basitlik, kalite"}].map((l,c)=>N.jsxs(pt.div,{className:"rounded-lg bg-slate-900/60 p-4 ring-1 ring-inset ring-white/10",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.4+c*.1},viewport:{once:!0},whileHover:{scale:1.05,backgroundColor:"rgba(56, 189, 248, 0.1)"},children:[N.jsx("div",{className:"text-sm text-slate-400",children:l.label}),N.jsx("div",{className:"text-white",children:l.value})]},l.label))})]}),N.jsxs(pt.div,{className:"rounded-2xl border border-white/10 bg-white/5 p-6 ring-1 ring-inset ring-white/10",initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:.4},viewport:{once:!0},whileHover:{scale:1.02,boxShadow:"0 10px 30px rgba(56, 189, 248, 0.1)"},children:[N.jsx("h3",{className:"text-sm text-slate-300",children:"Deneyim Zaman Çizelgesi"}),N.jsx("ol",{className:"relative mt-4 space-y-5 before:absolute before:left-2 before:top-0 before:h-full before:w-px before:bg-white/10",children:[{title:"Frontend Intern",company:"Rise Technology, Consulting & Academy",url:"https://www.rise-consulting.net/",period:"2025 – Güncel",description:"React + TypeScript ile ürün/iç araç projeleri geliştirme, bileşen kütüphaneleri ve UI entegrasyonları.",color:"bg-sky-400"},{title:"Giresun Üniversitesi — Bilgisayar Mühendisliği (3. Sınıf)",company:"",url:"",period:"—",description:"Algoritmalar, veri yapıları ve yazılım mühendisliği temelleri.",color:"bg-cyan-400"}].map((l,c)=>N.jsxs(pt.li,{className:"relative pl-8",initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},transition:{duration:.6,delay:.6+c*.2},viewport:{once:!0},children:[N.jsx(pt.span,{className:`absolute left-0 top-2 h-2 w-2 rounded-full ${l.color}`,initial:{scale:0},whileInView:{scale:1},viewport:{once:!0},animate:{scale:1,boxShadow:["0 0 0 0 rgba(56, 189, 248, 0.7)","0 0 0 10px rgba(56, 189, 248, 0)"]},transition:{scale:{duration:.4,delay:.8+c*.2},boxShadow:{duration:2,repeat:1/0,delay:1+c*.5}}}),N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("span",{className:"font-medium text-white",children:[l.title,l.company&&N.jsxs(N.Fragment,{children:[" — ",l.url?N.jsx(pt.a,{href:l.url,target:"_blank",rel:"noreferrer",className:"underline decoration-sky-500/50 hover:text-sky-300",whileHover:{color:"#38bdf8"},children:l.company}):l.company]})]}),N.jsx("span",{className:"text-xs text-slate-400",children:l.period})]}),N.jsx("p",{className:"text-sm text-slate-400",children:l.description})]},c))})]})]})]}),N.jsxs(tf,{id:"skills",className:"scroll-mt-24 border-t border-white/5 py-20",children:[N.jsxs(pt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[N.jsx("h2",{className:"text-2xl font-semibold tracking-tight",children:"Yetenekler"}),N.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"Teknik yetkinlikler"})]}),N.jsx("div",{className:"mt-6 grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:r.map((l,c)=>N.jsxs(pt.div,{className:"relative overflow-hidden rounded-2xl border border-white/10 bg-white/5 p-5 ring-1 ring-inset ring-white/10 group",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:c*.1},viewport:{once:!0},whileHover:{scale:1.05,boxShadow:"0 10px 30px rgba(56, 189, 248, 0.2)"},children:[N.jsx(pt.div,{className:"pointer-events-none absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-sky-500/60 to-transparent",initial:{scaleX:0},whileInView:{scaleX:1},transition:{duration:1,delay:c*.1+.3},viewport:{once:!0}}),N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx(pt.span,{className:"inline-block h-8 w-8 rounded-full bg-gradient-to-tr from-sky-400 to-indigo-500",whileHover:{rotate:360},transition:{duration:.6}}),N.jsx("span",{className:"font-medium text-white",children:l.label})]}),N.jsxs(pt.span,{className:"text-sm text-slate-400",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.6,delay:c*.1+.5},viewport:{once:!0},children:[l.level,"%"]})]}),N.jsx("div",{className:"mt-3 h-2 w-full rounded-full bg-slate-800 overflow-hidden",children:N.jsx(pt.div,{className:"h-2 rounded-full bg-gradient-to-r from-sky-400 to-indigo-500 shadow-[0_0_20px_#38bdf877]",initial:{width:0},whileInView:{width:`${l.level}%`},transition:{duration:1.5,delay:c*.1+.3,ease:"easeOut"},viewport:{once:!0}})})]},l.label))})]}),N.jsxs(tf,{id:"projects",className:"scroll-mt-24 border-t border-white/5 py-20",children:[N.jsxs(pt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[N.jsx("h2",{className:"text-3xl font-semibold tracking-tight",children:"Projeler"}),N.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"Seçili çalışmalarım. Kartların üzerine gelerek etkileşimi deneyimleyin."})]}),N.jsx("div",{className:"mt-6 grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:a.map((l,c)=>N.jsxs(pt.div,{className:"group overflow-hidden rounded-2xl border border-white/10 bg-slate-900/40 ring-1 ring-inset ring-white/10 backdrop-blur",initial:{opacity:0,y:30,rotateY:-15},whileInView:{opacity:1,y:0,rotateY:0},transition:{duration:.6,delay:c*.1},viewport:{once:!0},whileHover:{scale:1.05,rotateY:5,boxShadow:"0 20px 40px rgba(56, 189, 248, 0.2)",transition:{duration:.3}},style:{transformStyle:"preserve-3d"},children:[N.jsxs(pt.div,{className:"relative h-40 w-full bg-gradient-to-br from-sky-500/40 via-indigo-500/40 to-cyan-500/40 overflow-hidden",whileHover:{scale:1.1},transition:{duration:.3},children:[N.jsx(pt.div,{className:"absolute inset-0 bg-[repeating-linear-gradient(45deg,rgba(255,255,255,0.08)_0px,rgba(255,255,255,0.08)_2px,transparent_2px,transparent_8px)]",animate:{backgroundPosition:["0px 0px","20px 20px"]},transition:{duration:10,repeat:1/0,ease:"linear"}}),[...Array(3)].map((d,m)=>N.jsx(pt.div,{className:"absolute w-1 h-1 bg-white/40 rounded-full",style:{top:`${20+m*20}%`,left:`${10+m*30}%`},animate:{y:[-5,5,-5],opacity:[.2,.8,.2]},transition:{duration:2+m*.5,repeat:1/0,ease:"easeInOut",delay:m*.3}},m))]}),N.jsxs("div",{className:"p-4",children:[N.jsx(pt.h3,{className:"text-lg font-medium text-white",whileHover:{color:"#38bdf8"},transition:{duration:.2},children:l.title}),N.jsx("p",{className:"mt-1 text-sm text-slate-400",children:l.description}),N.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[l.tags.map((d,m)=>N.jsx(pt.span,{className:"rounded-md bg-slate-800 px-2 py-0.5 text-xs text-slate-300 ring-1 ring-inset ring-white/10",initial:{opacity:0,scale:0},whileInView:{opacity:1,scale:1},transition:{duration:.3,delay:c*.1+m*.05},viewport:{once:!0},whileHover:{scale:1.1,backgroundColor:"rgba(56, 189, 248, 0.2)"},children:d},d)),typeof l.stars=="number"&&N.jsxs(pt.span,{className:"ml-1 inline-flex items-center gap-1 rounded-md bg-slate-800 px-2 py-0.5 text-xs text-slate-300 ring-1 ring-inset ring-white/10",whileHover:{scale:1.1},children:["★ ",l.stars]})]}),N.jsxs("div",{className:"mt-4 flex gap-2",children:[l.demo&&N.jsx(pt.a,{href:l.demo,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center rounded-md bg-sky-500/20 px-3 py-1.5 text-xs text-sky-300 ring-1 ring-inset ring-sky-500/30",whileHover:{scale:1.05,backgroundColor:"rgba(56, 189, 248, 0.3)",boxShadow:"0 0 15px rgba(56, 189, 248, 0.4)"},whileTap:{scale:.95},children:"Demo"}),l.code&&N.jsx(pt.a,{href:l.code,className:"inline-flex items-center rounded-md bg-white/10 px-3 py-1.5 text-xs text-white ring-1 ring-inset ring-white/15",whileHover:{scale:1.05,backgroundColor:"rgba(255, 255, 255, 0.2)"},whileTap:{scale:.95},children:"Kod"})]})]})]},l.title))})]}),N.jsxs(tf,{id:"contact",className:"scroll-mt-24 border-t border-white/5 py-20",children:[N.jsxs(pt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[N.jsx("h2",{className:"text-2xl font-semibold tracking-tight",children:"İletişim"}),N.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"Birlikte bir şeyler yapmak isterseniz formu doldurabilirsiniz."})]}),N.jsxs(pt.form,{onSubmit:l=>l.preventDefault(),className:"mt-6 max-w-3xl rounded-3xl border border-white/10 bg-gradient-to-br from-slate-900/60 to-slate-900/30 p-6 ring-1 ring-inset ring-white/10 backdrop-blur",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:.2},viewport:{once:!0},whileHover:{boxShadow:"0 20px 40px rgba(56, 189, 248, 0.1)"},children:[N.jsxs(pt.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.6,delay:.3},viewport:{once:!0},children:[N.jsx("label",{className:"text-sm text-slate-300",children:"Ad Soyad"}),N.jsx(pt.input,{type:"text",placeholder:"Adınız",className:"mt-2 w-full rounded-xl bg-slate-900/60 px-4 py-3 text-sm text-white placeholder:text-slate-500 ring-1 ring-inset ring-white/10 focus:outline-none focus:ring-2 focus:ring-sky-500/60 transition-all duration-300",whileFocus:{scale:1.02,boxShadow:"0 0 20px rgba(56, 189, 248, 0.3)"}})]}),N.jsxs(pt.div,{className:"mt-4",initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.6,delay:.4},viewport:{once:!0},children:[N.jsx("label",{className:"text-sm text-slate-300",children:"E‑posta"}),N.jsx(pt.input,{type:"email",placeholder:"ornek@mail.com",className:"mt-2 w-full rounded-xl bg-slate-900/60 px-4 py-3 text-sm text-white placeholder:text-slate-500 ring-1 ring-inset ring-white/10 focus:outline-none focus:ring-2 focus:ring-sky-500/60 transition-all duration-300",whileFocus:{scale:1.02,boxShadow:"0 0 20px rgba(56, 189, 248, 0.3)"}})]}),N.jsxs(pt.div,{className:"mt-4",initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{duration:.6,delay:.5},viewport:{once:!0},children:[N.jsx("label",{className:"text-sm text-slate-300",children:"Mesaj"}),N.jsx(pt.textarea,{rows:6,placeholder:"Kısaca bahsedin...",className:"mt-2 w-full resize-y rounded-xl bg-slate-900/60 px-4 py-3 text-sm text-white placeholder:text-slate-500 ring-1 ring-inset ring-white/10 focus:outline-none focus:ring-2 focus:ring-sky-500/60 transition-all duration-300",whileFocus:{scale:1.02,boxShadow:"0 0 20px rgba(56, 189, 248, 0.3)"}})]}),N.jsx(pt.div,{className:"mt-6",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.6},viewport:{once:!0},children:N.jsx(pt.button,{type:"submit",className:"rounded-full bg-gradient-to-r from-sky-400 to-indigo-500 px-5 py-2.5 text-sm font-medium text-slate-950 shadow-sm",whileHover:{scale:1.05,boxShadow:"0 0 25px rgba(56, 189, 248, 0.5)"},whileTap:{scale:.95},children:"Gönder"})})]})]})]}),N.jsx(pt.footer,{className:"border-t border-white/5 py-10",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.6},viewport:{once:!0},children:N.jsxs(pt.div,{className:"mx-auto max-w-7xl px-6 sm:px-8 text-sm text-slate-400",whileHover:{color:"#38bdf8"},transition:{duration:.3},children:["© ",new Date().getFullYear()," — ugur.dev"]})})]})}const dP="modulepreload",mP=function(e){return"/portfolyo/"+e},vw={},_w=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let p=function(y){return Promise.all(y.map(T=>Promise.resolve(T).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};var c=p;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=d?.nonce||d?.getAttribute("nonce");a=p(n.map(y=>{if(y=mP(y),y in vw)return;vw[y]=!0;const T=y.endsWith(".css"),w=T?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${w}`))return;const R=document.createElement("link");if(R.rel=T?"stylesheet":dP,T||(R.as="script"),R.crossOrigin="",R.href=y,m&&R.setAttribute("nonce",m),document.head.appendChild(R),T)return new Promise((I,j)=>{R.addEventListener("load",I),R.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return a.then(d=>{for(const m of d||[])m.status==="rejected"&&l(m.reason);return t().catch(l)})};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=()=>{};var Tw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},gP=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],d=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},KA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,d=c?e[a+1]:0,m=a+2<e.length,p=m?e[a+2]:0,y=l>>2,T=(l&3)<<4|d>>4;let w=(d&15)<<2|p>>6,R=p&63;m||(R=64,c||(w=64)),r.push(n[y],n[T],n[w],n[R])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(GA(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):gP(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],d=a<e.length?n[e.charAt(a)]:0;++a;const p=a<e.length?n[e.charAt(a)]:64;++a;const T=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||d==null||p==null||T==null)throw new yP;const w=l<<2|d>>4;if(r.push(w),p!==64){const R=d<<4&240|p>>2;if(r.push(R),T!==64){const I=p<<6&192|T;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class yP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vP=function(e){const t=GA(e);return KA.encodeByteArray(t,!0)},If=function(e){return vP(e).replace(/\./g,"")},YA=function(e){try{return KA.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=()=>_P().__FIREBASE_DEFAULTS__,EP=()=>{if(typeof process>"u"||typeof Tw>"u")return;const e=Tw.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},wP=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&YA(e[1]);return t&&JSON.parse(t)},Jf=()=>{try{return pP()||TP()||EP()||wP()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},$A=e=>Jf()?.emulatorHosts?.[e],bP=e=>{const t=$A(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},QA=()=>Jf()?.config,XA=e=>Jf()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function WA(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...e};return[If(JSON.stringify(n)),If(JSON.stringify(c)),""].join(".")}const Nu={};function RP(){const e={prod:[],emulator:[]};for(const t of Object.keys(Nu))Nu[t]?e.emulator.push(t):e.prod.push(t);return e}function xP(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Ew=!1;function ZA(e,t){if(typeof window>"u"||typeof document>"u"||!Zo(window.location.host)||Nu[e]===t||Nu[e]||Ew)return;Nu[e]=t;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",l=RP().prod.length>0;function c(){const w=document.getElementById(r);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,R){w.setAttribute("width","24"),w.setAttribute("id",R),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Ew=!0,c()},w}function y(w,R){w.setAttribute("id",R),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=xP(r),R=n("text"),I=document.getElementById(R)||document.createElement("span"),j=n("learnmore"),k=document.getElementById(j)||document.createElement("a"),B=n("preprendIcon"),z=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const F=w.element;d(F),y(k,j);const st=p();m(z,B),F.append(z,I,k,st),document.body.appendChild(F)}l?(I.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function IP(){const e=Jf()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VP(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function NP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MP(){const e=ln();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function PP(){return!IP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OP(){try{return typeof indexedDB=="object"}catch{return!1}}function kP(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP="FirebaseError";class br extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=LP,Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hc.prototype.create)}}class hc{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?UP(l,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new br(a,d,r)}}function UP(e,t){return e.replace(jP,(n,r)=>{const a=t[r];return a!=null?String(a):`<${r}?>`})}const jP=/\{\$([^}]+)}/g;function BP(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function va(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const l=e[a],c=t[a];if(ww(l)&&ww(c)){if(!va(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function ww(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function zP(e,t){const n=new FP(e,t);return n.subscribe.bind(n)}class FP{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let a;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");HP(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:r},a.next===void 0&&(a.next=$p),a.error===void 0&&(a.error=$p),a.complete===void 0&&(a.complete=$p);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HP(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function $p(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(e){return e&&e._delegate?e._delegate:e}class _a{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new SP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(KP(t))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(t=ca){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ca){return this.instances.has(t)}getOptions(t=ca){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(a)}return a}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(t),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&t(l,r),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GP(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ca){return this.component?this.component.multipleInstances?t:ca:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GP(e){return e===ca?void 0:e}function KP(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new qP(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ot||(Ot={}));const $P={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},QP=Ot.INFO,XP={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},WP=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),a=XP[t];if(a)console[a](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Hy{constructor(t){this.name=t,this._logLevel=QP,this._logHandler=WP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?$P[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const ZP=(e,t)=>t.some(n=>e instanceof n);let bw,Sw;function JP(){return bw||(bw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tO(){return Sw||(Sw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JA=new WeakMap,Vg=new WeakMap,t1=new WeakMap,Qp=new WeakMap,qy=new WeakMap;function eO(e){const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(os(e.result)),a()},c=()=>{r(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&JA.set(n,e)}).catch(()=>{}),qy.set(t,e),t}function nO(e){if(Vg.has(e))return;const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{r(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});Vg.set(e,t)}let Ng={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Vg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||t1.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return os(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function iO(e){Ng=e(Ng)}function rO(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Xp(this),t,...n);return t1.set(r,t.sort?t.sort():[t]),os(r)}:tO().includes(e)?function(...t){return e.apply(Xp(this),t),os(JA.get(this))}:function(...t){return os(e.apply(Xp(this),t))}}function sO(e){return typeof e=="function"?rO(e):(e instanceof IDBTransaction&&nO(e),ZP(e,JP())?new Proxy(e,Ng):e)}function os(e){if(e instanceof IDBRequest)return eO(e);if(Qp.has(e))return Qp.get(e);const t=sO(e);return t!==e&&(Qp.set(e,t),qy.set(t,e)),t}const Xp=e=>qy.get(e);function aO(e,t,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),d=os(c);return r&&c.addEventListener("upgradeneeded",m=>{r(os(c.result),m.oldVersion,m.newVersion,os(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const oO=["get","getKey","getAll","getAllKeys","count"],lO=["put","add","delete","clear"],Wp=new Map;function Aw(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Wp.get(t))return Wp.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=lO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||oO.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&m.done]))[0]};return Wp.set(t,l),l}iO(e=>({...e,get:(t,n,r)=>Aw(t,n)||e.get(t,n,r),has:(t,n)=>!!Aw(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function cO(e){return e.getComponent()?.type==="VERSION"}const Mg="@firebase/app",Rw="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=new Hy("@firebase/app"),hO="@firebase/app-compat",fO="@firebase/analytics-compat",dO="@firebase/analytics",mO="@firebase/app-check-compat",pO="@firebase/app-check",gO="@firebase/auth",yO="@firebase/auth-compat",vO="@firebase/database",_O="@firebase/data-connect",TO="@firebase/database-compat",EO="@firebase/functions",wO="@firebase/functions-compat",bO="@firebase/installations",SO="@firebase/installations-compat",AO="@firebase/messaging",RO="@firebase/messaging-compat",xO="@firebase/performance",CO="@firebase/performance-compat",IO="@firebase/remote-config",DO="@firebase/remote-config-compat",VO="@firebase/storage",NO="@firebase/storage-compat",MO="@firebase/firestore",PO="@firebase/ai",OO="@firebase/firestore-compat",kO="firebase",LO="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="[DEFAULT]",UO={[Mg]:"fire-core",[hO]:"fire-core-compat",[dO]:"fire-analytics",[fO]:"fire-analytics-compat",[pO]:"fire-app-check",[mO]:"fire-app-check-compat",[gO]:"fire-auth",[yO]:"fire-auth-compat",[vO]:"fire-rtdb",[_O]:"fire-data-connect",[TO]:"fire-rtdb-compat",[EO]:"fire-fn",[wO]:"fire-fn-compat",[bO]:"fire-iid",[SO]:"fire-iid-compat",[AO]:"fire-fcm",[RO]:"fire-fcm-compat",[xO]:"fire-perf",[CO]:"fire-perf-compat",[IO]:"fire-rc",[DO]:"fire-rc-compat",[VO]:"fire-gcs",[NO]:"fire-gcs-compat",[MO]:"fire-fst",[OO]:"fire-fst-compat",[PO]:"fire-vertex","fire-js":"fire-js",[kO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=new Map,jO=new Map,Og=new Map;function xw(e,t){try{e.container.addComponent(t)}catch(n){vr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function jo(e){const t=e.name;if(Og.has(t))return vr.debug(`There were multiple attempts to register component ${t}.`),!1;Og.set(t,e);for(const n of $u.values())xw(n,e);for(const n of jO.values())xw(n,e);return!0}function Gy(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Kn(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new hc("app","Firebase",BO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=LO;function e1(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:Pg,automaticDataCollectionEnabled:!0,...t},a=r.name;if(typeof a!="string"||!a)throw ls.create("bad-app-name",{appName:String(a)});if(n||(n=QA()),!n)throw ls.create("no-options");const l=$u.get(a);if(l){if(va(n,l.options)&&va(r,l.config))return l;throw ls.create("duplicate-app",{appName:a})}const c=new YP(a);for(const m of Og.values())c.addComponent(m);const d=new zO(n,r,c);return $u.set(a,d),d}function n1(e=Pg){const t=$u.get(e);if(!t&&e===Pg&&QA())return e1();if(!t)throw ls.create("no-app",{appName:e});return t}function Cw(){return Array.from($u.values())}function us(e,t,n){let r=UO[e]??e;n&&(r+=`-${n}`);const a=r.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const c=[`Unable to register library "${r}" with version "${t}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),vr.warn(c.join(" "));return}jo(new _a(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO="firebase-heartbeat-database",HO=1,Qu="firebase-heartbeat-store";let Zp=null;function i1(){return Zp||(Zp=aO(FO,HO,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Qu)}catch(n){console.warn(n)}}}}).catch(e=>{throw ls.create("idb-open",{originalErrorMessage:e.message})})),Zp}async function qO(e){try{const n=(await i1()).transaction(Qu),r=await n.objectStore(Qu).get(r1(e));return await n.done,r}catch(t){if(t instanceof br)vr.warn(t.message);else{const n=ls.create("idb-get",{originalErrorMessage:t?.message});vr.warn(n.message)}}}async function Iw(e,t){try{const r=(await i1()).transaction(Qu,"readwrite");await r.objectStore(Qu).put(t,r1(e)),await r.done}catch(n){if(n instanceof br)vr.warn(n.message);else{const r=ls.create("idb-set",{originalErrorMessage:n?.message});vr.warn(r.message)}}}function r1(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=1024,KO=30;class YO{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Dw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>KO){const a=XO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){vr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Dw(),{heartbeatsToSend:n,unsentEntries:r}=$O(this._heartbeatsCache.heartbeats),a=If(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return vr.warn(t),""}}}function Dw(){return new Date().toISOString().substring(0,10)}function $O(e,t=GO){const n=[];let r=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Vw(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Vw(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class QO{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OP()?kP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Iw(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Iw(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Vw(e){return If(JSON.stringify({version:2,heartbeats:e})).length}function XO(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(e){jo(new _a("platform-logger",t=>new uO(t),"PRIVATE")),jo(new _a("heartbeat",t=>new YO(t),"PRIVATE")),us(Mg,Rw,e),us(Mg,Rw,"esm2020"),us("fire-js","")}WO("");var ZO="firebase",JO="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */us(ZO,JO,"app");function s1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tk=s1,a1=new hc("auth","Firebase",s1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=new Hy("@firebase/auth");function ek(e,...t){Df.logLevel<=Ot.WARN&&Df.warn(`Auth (${Jo}): ${e}`,...t)}function mf(e,...t){Df.logLevel<=Ot.ERROR&&Df.error(`Auth (${Jo}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(e,...t){throw Yy(e,...t)}function ii(e,...t){return Yy(e,...t)}function Ky(e,t,n){const r={...tk(),[t]:n};return new hc("auth","Firebase",r).create(t,{appName:e.name})}function cs(e){return Ky(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function o1(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&Pi(e,"argument-error"),Ky(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Yy(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return a1.create(e,...t)}function St(e,t,...n){if(!e)throw Yy(t,...n)}function cr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw mf(t),new Error(t)}function _r(e,t){e||cr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(){return typeof self<"u"&&self.location?.href||""}function nk(){return Nw()==="http:"||Nw()==="https:"}function Nw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nk()||VP()||"connection"in navigator)?navigator.onLine:!0}function rk(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(t,n){this.shortDelay=t,this.longDelay=n,_r(n>t,"Short delay should be less than long delay!"),this.isMobile=CP()||NP()}get(){return ik()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(e,t){_r(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ok=new dc(3e4,6e4);function Qy(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function tl(e,t,n,r,a={}){return u1(e,a,async()=>{let l={},c={};r&&(t==="GET"?c=r:l={body:JSON.stringify(r)});const d=fc({key:e.config.apiKey,...c}).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const p={method:t,headers:m,...l};return DP()||(p.referrerPolicy="no-referrer"),e.emulatorConfig&&Zo(e.emulatorConfig.host)&&(p.credentials="include"),l1.fetch()(await c1(e,e.config.apiHost,n,d),p)})}async function u1(e,t,n){e._canInitEmulator=!1;const r={...sk,...t};try{const a=new uk(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw ef(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw ef(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw ef(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw ef(e,"user-disabled",c);const y=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Ky(e,y,p);Pi(e,y)}}catch(a){if(a instanceof br)throw a;Pi(e,"network-request-failed",{message:String(a)})}}async function lk(e,t,n,r,a={}){const l=await tl(e,t,n,r,a);return"mfaPendingCredential"in l&&Pi(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function c1(e,t,n,r){const a=`${t}${n}?${r}`,l=e,c=l.config.emulator?$y(e.config,a):`${e.config.apiScheme}://${a}`;return ak.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class uk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ii(this.auth,"network-request-failed")),ok.get())})}}function ef(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=ii(e,t,r);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ck(e,t){return tl(e,"POST","/v1/accounts:delete",t)}async function Vf(e,t){return tl(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function hk(e,t=!1){const n=Je(e),r=await n.getIdToken(t),a=Xy(r);St(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:r,authTime:Mu(Jp(a.auth_time)),issuedAtTime:Mu(Jp(a.iat)),expirationTime:Mu(Jp(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Jp(e){return Number(e)*1e3}function Xy(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return mf("JWT malformed, contained fewer than 3 sections"),null;try{const a=YA(n);return a?JSON.parse(a):(mf("Failed to decode base64 JWT payload"),null)}catch(a){return mf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Mw(e){const t=Xy(e);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xu(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof br&&fk(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function fk({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mu(this.lastLoginAt),this.creationTime=Mu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nf(e){const t=e.auth,n=await e.getIdToken(),r=await Xu(e,Vf(t,{idToken:n}));St(r?.users.length,t,"internal-error");const a=r.users[0];e._notifyReloadListener(a);const l=a.providerUserInfo?.length?h1(a.providerUserInfo):[],c=pk(e.providerData,l),d=e.isAnonymous,m=!(e.email&&a.passwordHash)&&!c?.length,p=d?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Lg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(e,y)}async function mk(e){const t=Je(e);await Nf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function pk(e,t){return[...e.filter(r=>!t.some(a=>a.providerId===r.providerId)),...t]}function h1(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gk(e,t){const n=await u1(e,{},async()=>{const r=fc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await c1(e,a,"/v1/token",`key=${l}`),d=await e._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:r};return e.emulatorConfig&&Zo(e.emulatorConfig.host)&&(m.credentials="include"),l1.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yk(e,t){return tl(e,"POST","/v2/accounts:revokeToken",Qy(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Mw(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){St(t.length!==0,"internal-error");const n=Mw(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await gk(t,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,c=new Mo;return r&&(St(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),a&&(St(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(St(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Mo,this.toJSON())}_performRefresh(){return cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(e,t){St(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ni{constructor({uid:t,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new dk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Lg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await Xu(this,this.stsTokenManager.getToken(this.auth,t));return St(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return hk(this,t)}reload(){return mk(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ni({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Nf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(cs(this.auth));const t=await this.getIdToken();return await Xu(this,ck(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:R,providerData:I,stsTokenManager:j}=n;St(T&&j,t,"internal-error");const k=Mo.fromJSON(this.name,j);St(typeof T=="string",t,"internal-error"),ts(r,t.name),ts(a,t.name),St(typeof w=="boolean",t,"internal-error"),St(typeof R=="boolean",t,"internal-error"),ts(l,t.name),ts(c,t.name),ts(d,t.name),ts(m,t.name),ts(p,t.name),ts(y,t.name);const B=new ni({uid:T,auth:t,email:a,emailVerified:w,displayName:r,isAnonymous:R,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:k,createdAt:p,lastLoginAt:y});return I&&Array.isArray(I)&&(B.providerData=I.map(z=>({...z}))),m&&(B._redirectEventId=m),B}static async _fromIdTokenResponse(t,n,r=!1){const a=new Mo;a.updateFromServerResponse(n);const l=new ni({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:r});return await Nf(l),l}static async _fromGetAccountInfoResponse(t,n,r){const a=n.users[0];St(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?h1(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Mo;d.updateFromIdToken(r);const m=new ni({uid:a.localId,auth:t,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Lg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=new Map;function hr(e){_r(e instanceof Function,"Expected a class definition");let t=Pw.get(e);return t?(_r(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Pw.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}f1.type="NONE";const Ow=f1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(e,t,n){return`firebase:${e}:${t}:${n}`}class Po{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=pf(this.userKey,a.apiKey,l),this.fullPersistenceKey=pf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Vf(this.auth,{idToken:t}).catch(()=>{});return n?ni._fromGetAccountInfoResponse(this.auth,n,t):null}return ni._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Po(hr(Ow),t,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||hr(Ow);const c=pf(r,t.config.apiKey,t.name);let d=null;for(const p of n)try{const y=await p._get(c);if(y){let T;if(typeof y=="string"){const w=await Vf(t,{idToken:y}).catch(()=>{});if(!w)break;T=await ni._fromGetAccountInfoResponse(t,w,y)}else T=ni._fromJSON(t,y);p!==l&&(d=T),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Po(l,t,r):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Po(l,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(g1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(d1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(v1(t))return"Blackberry";if(_1(t))return"Webos";if(m1(t))return"Safari";if((t.includes("chrome/")||p1(t))&&!t.includes("edge/"))return"Chrome";if(y1(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function d1(e=ln()){return/firefox\//i.test(e)}function m1(e=ln()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function p1(e=ln()){return/crios\//i.test(e)}function g1(e=ln()){return/iemobile/i.test(e)}function y1(e=ln()){return/android/i.test(e)}function v1(e=ln()){return/blackberry/i.test(e)}function _1(e=ln()){return/webos/i.test(e)}function Wy(e=ln()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function vk(e=ln()){return Wy(e)&&!!window.navigator?.standalone}function _k(){return MP()&&document.documentMode===10}function T1(e=ln()){return Wy(e)||y1(e)||_1(e)||v1(e)||/windows phone/i.test(e)||g1(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(e,t=[]){let n;switch(e){case"Browser":n=kw(ln());break;case"Worker":n=`${kw(ln())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Jo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=l=>new Promise((c,d)=>{try{const m=t(l);c(m)}catch(m){d(m)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ek(e,t={}){return tl(e,"GET","/v2/passwordPolicy",Qy(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=6;class bk{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??wk,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<t.length;a++)r=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(t,n,r,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lw(this),this.idTokenSubscription=new Lw(this),this.beforeStateQueue=new Tk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=a1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=hr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Po.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Vf(this,{idToken:t}),r=await ni._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Kn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=r?._redirectEventId,d=await this.tryRedirectSignIn(t);(!l||l===c)&&d?.user&&(r=d.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Nf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=rk()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Kn(this.app))return Promise.reject(cs(this));const n=t?Je(t):null;return n&&St(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Kn(this.app)?Promise.reject(cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Ek(this),n=new bk(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new hc("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await yk(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&hr(t)||this._popupRedirectResolver;St(n,this,"argument-error"),this.redirectPersistenceManager=await Po.create(this,[hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,r,a);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=E1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&ek(`Error while retrieving App Check token: ${t.error}`),t?.token}}function el(e){return Je(e)}class Lw{constructor(t){this.auth=t,this.observer=null,this.addObserver=zP(n=>this.observer=n)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ak(e){Zy=e}function Rk(e){return Zy.loadJS(e)}function xk(){return Zy.gapiScript}function Ck(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(e,t){const n=Gy(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(va(l,t??{}))return a;Pi(a,"already-initialized")}return n.initialize({options:t})}function Dk(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(hr);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function Vk(e,t,n){const r=el(e);St(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!1,l=w1(t),{host:c,port:d}=Nk(t),m=d===null?"":`:${d}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){St(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),St(va(p,r.config.emulator)&&va(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Zo(c)?(WA(`${l}//${c}${m}`),ZA("Auth",!0)):Mk()}function w1(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Nk(e){const t=w1(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:Uw(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:Uw(c)}}}function Uw(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Mk(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return cr("not implemented")}_getIdTokenResponse(t){return cr("not implemented")}_linkToIdToken(t,n){return cr("not implemented")}_getReauthenticationResolver(t){return cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(e,t){return lk(e,"POST","/v1/accounts:signInWithIdp",Qy(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk="http://localhost";class Ta extends b1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ta(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Pi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:a,...l}=n;if(!r||!a)return null;const c=new Ta(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Oo(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Oo(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Oo(t,n)}buildRequest(){const t={requestUri:Pk,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=fc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc extends td{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends mc{constructor(){super("facebook.com")}static credential(t){return Ta._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return is.credentialFromTaggedObject(t)}static credentialFromError(t){return is.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return is.credential(t.oauthAccessToken)}catch{return null}}}is.FACEBOOK_SIGN_IN_METHOD="facebook.com";is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends mc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ta._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ei.credentialFromTaggedObject(t)}static credentialFromError(t){return ei.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ei.credential(n,r)}catch{return null}}}ei.GOOGLE_SIGN_IN_METHOD="google.com";ei.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends mc{constructor(){super("github.com")}static credential(t){return Ta._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return rs.credentialFromTaggedObject(t)}static credentialFromError(t){return rs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return rs.credential(t.oauthAccessToken)}catch{return null}}}rs.GITHUB_SIGN_IN_METHOD="github.com";rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends mc{constructor(){super("twitter.com")}static credential(t,n){return Ta._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ss.credentialFromTaggedObject(t)}static credentialFromError(t){return ss.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ss.credential(n,r)}catch{return null}}}ss.TWITTER_SIGN_IN_METHOD="twitter.com";ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,a=!1){const l=await ni._fromIdTokenResponse(t,r,a),c=jw(r);return new Bo({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const a=jw(r);return new Bo({user:t,providerId:a,_tokenResponse:r,operationType:n})}}function jw(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf extends br{constructor(t,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Mf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,a){return new Mf(t,n,r,a)}}function S1(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Mf._fromErrorAndOperation(e,l,t,r):l})}async function Ok(e,t,n=!1){const r=await Xu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Bo._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kk(e,t,n=!1){const{auth:r}=e;if(Kn(r.app))return Promise.reject(cs(r));const a="reauthenticate";try{const l=await Xu(e,S1(r,a,t,e),n);St(l.idToken,r,"internal-error");const c=Xy(l.idToken);St(c,r,"internal-error");const{sub:d}=c;return St(e.uid===d,r,"user-mismatch"),Bo._forOperation(e,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Pi(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lk(e,t,n=!1){if(Kn(e.app))return Promise.reject(cs(e));const r="signIn",a=await S1(e,r,t),l=await Bo._fromIdTokenResponse(e,r,a);return n||await e._updateCurrentUser(l.user),l}function Uk(e,t,n,r){return Je(e).onIdTokenChanged(t,n,r)}function jk(e,t,n){return Je(e).beforeAuthStateChanged(t,n)}function Bk(e,t,n,r){return Je(e).onAuthStateChanged(t,n,r)}function Bw(e){return Je(e).signOut()}const Pf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Pf,"1"),this.storage.removeItem(Pf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=1e3,Fk=10;class R1 extends A1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=T1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&t(n,a,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const r=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);_k()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,Fk):a()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},zk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}R1.type="LOCAL";const Hk=R1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1 extends A1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}x1.type="SESSION";const C1=x1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const r=new ed(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(c).map(async p=>p(n.origin,l)),m=await qk(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ed.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const p=Jy("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(T){const w=T;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(){return window}function Kk(e){Di().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function Yk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $k(){return navigator?.serviceWorker?.controller||null}function Qk(){return I1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="firebaseLocalStorageDb",Xk=1,Of="firebaseLocalStorage",V1="fbase_key";class pc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nd(e,t){return e.transaction([Of],t?"readwrite":"readonly").objectStore(Of)}function Wk(){const e=indexedDB.deleteDatabase(D1);return new pc(e).toPromise()}function Ug(){const e=indexedDB.open(D1,Xk);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Of,{keyPath:V1})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Of)?t(r):(r.close(),await Wk(),t(await Ug()))})})}async function zw(e,t,n){const r=nd(e,!0).put({[V1]:t,value:n});return new pc(r).toPromise()}async function Zk(e,t){const n=nd(e,!1).get(t),r=await new pc(n).toPromise();return r===void 0?null:r.value}function Fw(e,t){const n=nd(e,!0).delete(t);return new pc(n).toPromise()}const Jk=800,t4=3;class N1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ug(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>t4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return I1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ed._getInstance(Qk()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Yk(),!this.activeServiceWorker)return;this.sender=new Gk(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||$k()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Ug();return await zw(t,Pf,"1"),await Fw(t,Pf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>zw(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>Zk(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fw(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=nd(a,!1).getAll();return new pc(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Jk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}N1.type="LOCAL";const e4=N1;new dc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(e,t){return t?hr(t):(St(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev extends b1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Oo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Oo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Oo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function n4(e){return Lk(e.auth,new ev(e),e.bypassAuthState)}function i4(e){const{auth:t,user:n}=e;return St(n,t,"internal-error"),kk(n,new ev(e),e.bypassAuthState)}async function r4(e){const{auth:t,user:n}=e;return St(n,t,"internal-error"),Ok(n,new ev(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(t,n,r,a,l=!1){this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:c,type:d}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return n4;case"linkViaPopup":case"linkViaRedirect":return r4;case"reauthViaPopup":case"reauthViaRedirect":return i4;default:Pi(this.auth,"internal-error")}}resolve(t){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=new dc(2e3,1e4);async function Hw(e,t,n){if(Kn(e.app))return Promise.reject(ii(e,"operation-not-supported-in-this-environment"));const r=el(e);o1(e,t,td);const a=tv(r,n);return new da(r,"signInViaPopup",t,a).executeNotNull()}class da extends M1{constructor(t,n,r,a,l){super(t,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,da.currentPopupAction&&da.currentPopupAction.cancel(),da.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){_r(this.filter.length===1,"Popup operations only handle one event");const t=Jy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,da.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,s4.get())};t()}}da.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="pendingRedirect",gf=new Map;class o4 extends M1{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=gf.get(this.auth._key());if(!t){try{const r=await l4(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}gf.set(this.auth._key(),t)}return this.bypassAuthState||gf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function l4(e,t){const n=O1(t),r=P1(e);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}async function u4(e,t){return P1(e)._set(O1(t),"true")}function c4(e,t){gf.set(e._key(),t)}function P1(e){return hr(e._redirectPersistence)}function O1(e){return pf(a4,e.config.apiKey,e.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(e,t,n){return f4(e,t,n)}async function f4(e,t,n){if(Kn(e.app))return Promise.reject(cs(e));const r=el(e);o1(e,t,td),await r._initializationPromise;const a=tv(r,n);return await u4(a,r),a._openRedirect(r,t,"signInViaRedirect")}async function d4(e,t){return await el(e)._initializationPromise,k1(e,t,!1)}async function k1(e,t,n=!1){if(Kn(e.app))return Promise.reject(cs(e));const r=el(e),a=tv(r,t),c=await new o4(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=600*1e3;class p4{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!g4(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!L1(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(ii(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=m4&&this.cachedEventUids.clear(),this.cachedEventUids.has(qw(t))}saveEventToCache(t){this.cachedEventUids.add(qw(t)),this.lastProcessedEventTime=Date.now()}}function qw(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function L1({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function g4(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return L1(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y4(e,t={}){return tl(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_4=/^https?/;async function T4(e){if(e.config.emulator)return;const{authorizedDomains:t}=await y4(e);for(const n of t)try{if(E4(n))return}catch{}Pi(e,"unauthorized-domain")}function E4(e){const t=kg(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!_4.test(n))return!1;if(v4.test(e))return r===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=new dc(3e4,6e4);function Gw(){const e=Di().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function b4(e){return new Promise((t,n)=>{function r(){Gw(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Gw(),n(ii(e,"network-request-failed"))},timeout:w4.get()})}if(Di().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Di().gapi?.load)r();else{const a=Ck("iframefcb");return Di()[a]=()=>{gapi.load?r():n(ii(e,"network-request-failed"))},Rk(`${xk()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw yf=null,t})}let yf=null;function S4(e){return yf=yf||b4(e),yf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=new dc(5e3,15e3),R4="__/auth/iframe",x4="emulator/auth/iframe",C4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},I4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function D4(e){const t=e.config;St(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?$y(t,x4):`https://${e.config.authDomain}/${R4}`,r={apiKey:t.apiKey,appName:e.name,v:Jo},a=I4.get(e.config.apiHost);a&&(r.eid=a);const l=e._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${fc(r).slice(1)}`}async function V4(e){const t=await S4(e),n=Di().gapi;return St(n,e,"internal-error"),t.open({where:document.body,url:D4(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:C4,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=ii(e,"network-request-failed"),d=Di().setTimeout(()=>{l(c)},A4.get());function m(){Di().clearTimeout(d),a(r)}r.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},M4=500,P4=600,O4="_blank",k4="http://localhost";class Kw{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function L4(e,t,n,r=M4,a=P4){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const m={...N4,width:r.toString(),height:a.toString(),top:l,left:c},p=ln().toLowerCase();n&&(d=p1(p)?O4:n),d1(p)&&(t=t||k4,m.scrollbars="yes");const y=Object.entries(m).reduce((w,[R,I])=>`${w}${R}=${I},`,"");if(vk(p)&&d!=="_self")return U4(t||"",d),new Kw(null);const T=window.open(t||"",d,y);St(T,e,"popup-blocked");try{T.focus()}catch{}return new Kw(T)}function U4(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4="__/auth/handler",B4="emulator/auth/handler",z4=encodeURIComponent("fac");async function Yw(e,t,n,r,a,l){St(e.config.authDomain,e,"auth-domain-config-required"),St(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Jo,eventId:a};if(t instanceof td){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",BP(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,T]of Object.entries({}))c[y]=T}if(t instanceof mc){const y=t.getScopes().filter(T=>T!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await e._getAppCheckToken(),p=m?`#${z4}=${encodeURIComponent(m)}`:"";return`${F4(e)}?${fc(d).slice(1)}${p}`}function F4({config:e}){return e.emulator?$y(e,B4):`https://${e.authDomain}/${j4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="webStorageSupport";class H4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=C1,this._completeRedirectFn=k1,this._overrideRedirectResult=c4}async _openPopup(t,n,r,a){_r(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Yw(t,n,r,kg(),a);return L4(t,l,Jy())}async _openRedirect(t,n,r,a){await this._originValidation(t);const l=await Yw(t,n,r,kg(),a);return Kk(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(_r(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await V4(t),r=new p4(t);return n.register("authEvent",a=>(St(a?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(tg,{type:tg},a=>{const l=a?.[0]?.[tg];l!==void 0&&n(!!l),Pi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=T4(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return T1()||m1()||Wy()}}const q4=H4;var $w="@firebase/auth",Qw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Y4(e){jo(new _a("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;St(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:c,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:E1(e)},p=new Sk(r,a,l,m);return Dk(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),jo(new _a("auth-internal",t=>{const n=el(t.getProvider("auth").getImmediate());return(r=>new G4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),us($w,Qw,K4(e)),us($w,Qw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=300,Q4=XA("authIdTokenMaxAge")||$4;let Xw=null;const X4=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Q4)return;const a=n?.token;Xw!==a&&(Xw=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function W4(e=n1()){const t=Gy(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Ik(e,{popupRedirectResolver:q4,persistence:[e4,Hk,C1]}),r=XA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=X4(l.toString());jk(n,c,()=>c(n.currentUser)),Uk(n,d=>c(d))}}const a=$A("auth");return a&&Vk(n,`http://${a}`),n}function Z4(){return document.getElementsByTagName("head")?.[0]??document}Ak({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=a=>{const l=ii("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",Z4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Y4("Browser");var Ww=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hs,U1;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,A){function x(){}x.prototype=A.prototype,C.D=A.prototype,C.prototype=new x,C.prototype.constructor=C,C.C=function(P,L,q){for(var V=Array(arguments.length-2),we=2;we<arguments.length;we++)V[we-2]=arguments[we];return A.prototype[L].apply(P,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,A,x){x||(x=0);var P=Array(16);if(typeof A=="string")for(var L=0;16>L;++L)P[L]=A.charCodeAt(x++)|A.charCodeAt(x++)<<8|A.charCodeAt(x++)<<16|A.charCodeAt(x++)<<24;else for(L=0;16>L;++L)P[L]=A[x++]|A[x++]<<8|A[x++]<<16|A[x++]<<24;A=C.g[0],x=C.g[1],L=C.g[2];var q=C.g[3],V=A+(q^x&(L^q))+P[0]+3614090360&4294967295;A=x+(V<<7&4294967295|V>>>25),V=q+(L^A&(x^L))+P[1]+3905402710&4294967295,q=A+(V<<12&4294967295|V>>>20),V=L+(x^q&(A^x))+P[2]+606105819&4294967295,L=q+(V<<17&4294967295|V>>>15),V=x+(A^L&(q^A))+P[3]+3250441966&4294967295,x=L+(V<<22&4294967295|V>>>10),V=A+(q^x&(L^q))+P[4]+4118548399&4294967295,A=x+(V<<7&4294967295|V>>>25),V=q+(L^A&(x^L))+P[5]+1200080426&4294967295,q=A+(V<<12&4294967295|V>>>20),V=L+(x^q&(A^x))+P[6]+2821735955&4294967295,L=q+(V<<17&4294967295|V>>>15),V=x+(A^L&(q^A))+P[7]+4249261313&4294967295,x=L+(V<<22&4294967295|V>>>10),V=A+(q^x&(L^q))+P[8]+1770035416&4294967295,A=x+(V<<7&4294967295|V>>>25),V=q+(L^A&(x^L))+P[9]+2336552879&4294967295,q=A+(V<<12&4294967295|V>>>20),V=L+(x^q&(A^x))+P[10]+4294925233&4294967295,L=q+(V<<17&4294967295|V>>>15),V=x+(A^L&(q^A))+P[11]+2304563134&4294967295,x=L+(V<<22&4294967295|V>>>10),V=A+(q^x&(L^q))+P[12]+1804603682&4294967295,A=x+(V<<7&4294967295|V>>>25),V=q+(L^A&(x^L))+P[13]+4254626195&4294967295,q=A+(V<<12&4294967295|V>>>20),V=L+(x^q&(A^x))+P[14]+2792965006&4294967295,L=q+(V<<17&4294967295|V>>>15),V=x+(A^L&(q^A))+P[15]+1236535329&4294967295,x=L+(V<<22&4294967295|V>>>10),V=A+(L^q&(x^L))+P[1]+4129170786&4294967295,A=x+(V<<5&4294967295|V>>>27),V=q+(x^L&(A^x))+P[6]+3225465664&4294967295,q=A+(V<<9&4294967295|V>>>23),V=L+(A^x&(q^A))+P[11]+643717713&4294967295,L=q+(V<<14&4294967295|V>>>18),V=x+(q^A&(L^q))+P[0]+3921069994&4294967295,x=L+(V<<20&4294967295|V>>>12),V=A+(L^q&(x^L))+P[5]+3593408605&4294967295,A=x+(V<<5&4294967295|V>>>27),V=q+(x^L&(A^x))+P[10]+38016083&4294967295,q=A+(V<<9&4294967295|V>>>23),V=L+(A^x&(q^A))+P[15]+3634488961&4294967295,L=q+(V<<14&4294967295|V>>>18),V=x+(q^A&(L^q))+P[4]+3889429448&4294967295,x=L+(V<<20&4294967295|V>>>12),V=A+(L^q&(x^L))+P[9]+568446438&4294967295,A=x+(V<<5&4294967295|V>>>27),V=q+(x^L&(A^x))+P[14]+3275163606&4294967295,q=A+(V<<9&4294967295|V>>>23),V=L+(A^x&(q^A))+P[3]+4107603335&4294967295,L=q+(V<<14&4294967295|V>>>18),V=x+(q^A&(L^q))+P[8]+1163531501&4294967295,x=L+(V<<20&4294967295|V>>>12),V=A+(L^q&(x^L))+P[13]+2850285829&4294967295,A=x+(V<<5&4294967295|V>>>27),V=q+(x^L&(A^x))+P[2]+4243563512&4294967295,q=A+(V<<9&4294967295|V>>>23),V=L+(A^x&(q^A))+P[7]+1735328473&4294967295,L=q+(V<<14&4294967295|V>>>18),V=x+(q^A&(L^q))+P[12]+2368359562&4294967295,x=L+(V<<20&4294967295|V>>>12),V=A+(x^L^q)+P[5]+4294588738&4294967295,A=x+(V<<4&4294967295|V>>>28),V=q+(A^x^L)+P[8]+2272392833&4294967295,q=A+(V<<11&4294967295|V>>>21),V=L+(q^A^x)+P[11]+1839030562&4294967295,L=q+(V<<16&4294967295|V>>>16),V=x+(L^q^A)+P[14]+4259657740&4294967295,x=L+(V<<23&4294967295|V>>>9),V=A+(x^L^q)+P[1]+2763975236&4294967295,A=x+(V<<4&4294967295|V>>>28),V=q+(A^x^L)+P[4]+1272893353&4294967295,q=A+(V<<11&4294967295|V>>>21),V=L+(q^A^x)+P[7]+4139469664&4294967295,L=q+(V<<16&4294967295|V>>>16),V=x+(L^q^A)+P[10]+3200236656&4294967295,x=L+(V<<23&4294967295|V>>>9),V=A+(x^L^q)+P[13]+681279174&4294967295,A=x+(V<<4&4294967295|V>>>28),V=q+(A^x^L)+P[0]+3936430074&4294967295,q=A+(V<<11&4294967295|V>>>21),V=L+(q^A^x)+P[3]+3572445317&4294967295,L=q+(V<<16&4294967295|V>>>16),V=x+(L^q^A)+P[6]+76029189&4294967295,x=L+(V<<23&4294967295|V>>>9),V=A+(x^L^q)+P[9]+3654602809&4294967295,A=x+(V<<4&4294967295|V>>>28),V=q+(A^x^L)+P[12]+3873151461&4294967295,q=A+(V<<11&4294967295|V>>>21),V=L+(q^A^x)+P[15]+530742520&4294967295,L=q+(V<<16&4294967295|V>>>16),V=x+(L^q^A)+P[2]+3299628645&4294967295,x=L+(V<<23&4294967295|V>>>9),V=A+(L^(x|~q))+P[0]+4096336452&4294967295,A=x+(V<<6&4294967295|V>>>26),V=q+(x^(A|~L))+P[7]+1126891415&4294967295,q=A+(V<<10&4294967295|V>>>22),V=L+(A^(q|~x))+P[14]+2878612391&4294967295,L=q+(V<<15&4294967295|V>>>17),V=x+(q^(L|~A))+P[5]+4237533241&4294967295,x=L+(V<<21&4294967295|V>>>11),V=A+(L^(x|~q))+P[12]+1700485571&4294967295,A=x+(V<<6&4294967295|V>>>26),V=q+(x^(A|~L))+P[3]+2399980690&4294967295,q=A+(V<<10&4294967295|V>>>22),V=L+(A^(q|~x))+P[10]+4293915773&4294967295,L=q+(V<<15&4294967295|V>>>17),V=x+(q^(L|~A))+P[1]+2240044497&4294967295,x=L+(V<<21&4294967295|V>>>11),V=A+(L^(x|~q))+P[8]+1873313359&4294967295,A=x+(V<<6&4294967295|V>>>26),V=q+(x^(A|~L))+P[15]+4264355552&4294967295,q=A+(V<<10&4294967295|V>>>22),V=L+(A^(q|~x))+P[6]+2734768916&4294967295,L=q+(V<<15&4294967295|V>>>17),V=x+(q^(L|~A))+P[13]+1309151649&4294967295,x=L+(V<<21&4294967295|V>>>11),V=A+(L^(x|~q))+P[4]+4149444226&4294967295,A=x+(V<<6&4294967295|V>>>26),V=q+(x^(A|~L))+P[11]+3174756917&4294967295,q=A+(V<<10&4294967295|V>>>22),V=L+(A^(q|~x))+P[2]+718787259&4294967295,L=q+(V<<15&4294967295|V>>>17),V=x+(q^(L|~A))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(L+(V<<21&4294967295|V>>>11))&4294967295,C.g[2]=C.g[2]+L&4294967295,C.g[3]=C.g[3]+q&4294967295}r.prototype.u=function(C,A){A===void 0&&(A=C.length);for(var x=A-this.blockSize,P=this.B,L=this.h,q=0;q<A;){if(L==0)for(;q<=x;)a(this,C,q),q+=this.blockSize;if(typeof C=="string"){for(;q<A;)if(P[L++]=C.charCodeAt(q++),L==this.blockSize){a(this,P),L=0;break}}else for(;q<A;)if(P[L++]=C[q++],L==this.blockSize){a(this,P),L=0;break}}this.h=L,this.o+=A},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;var x=8*this.o;for(A=C.length-8;A<C.length;++A)C[A]=x&255,x/=256;for(this.u(C),C=Array(16),A=x=0;4>A;++A)for(var P=0;32>P;P+=8)C[x++]=this.g[A]>>>P&255;return C};function l(C,A){var x=d;return Object.prototype.hasOwnProperty.call(x,C)?x[C]:x[C]=A(C)}function c(C,A){this.h=A;for(var x=[],P=!0,L=C.length-1;0<=L;L--){var q=C[L]|0;P&&q==A||(x[L]=q,P=!1)}this.g=x}var d={};function m(C){return-128<=C&&128>C?l(C,function(A){return new c([A|0],0>A?-1:0)}):new c([C|0],0>C?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return T;if(0>C)return k(p(-C));for(var A=[],x=1,P=0;C>=x;P++)A[P]=C/x|0,x*=4294967296;return new c(A,0)}function y(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return k(y(C.substring(1),A));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=p(Math.pow(A,8)),P=T,L=0;L<C.length;L+=8){var q=Math.min(8,C.length-L),V=parseInt(C.substring(L,L+q),A);8>q?(q=p(Math.pow(A,q)),P=P.j(q).add(p(V))):(P=P.j(x),P=P.add(p(V)))}return P}var T=m(0),w=m(1),R=m(16777216);e=c.prototype,e.m=function(){if(j(this))return-k(this).m();for(var C=0,A=1,x=0;x<this.g.length;x++){var P=this.i(x);C+=(0<=P?P:4294967296+P)*A,A*=4294967296}return C},e.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(I(this))return"0";if(j(this))return"-"+k(this).toString(C);for(var A=p(Math.pow(C,6)),x=this,P="";;){var L=st(x,A).g;x=B(x,L.j(A));var q=((0<x.g.length?x.g[0]:x.h)>>>0).toString(C);if(x=L,I(x))return q+P;for(;6>q.length;)q="0"+q;P=q+P}},e.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function I(C){if(C.h!=0)return!1;for(var A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function j(C){return C.h==-1}e.l=function(C){return C=B(this,C),j(C)?-1:I(C)?0:1};function k(C){for(var A=C.g.length,x=[],P=0;P<A;P++)x[P]=~C.g[P];return new c(x,~C.h).add(w)}e.abs=function(){return j(this)?k(this):this},e.add=function(C){for(var A=Math.max(this.g.length,C.g.length),x=[],P=0,L=0;L<=A;L++){var q=P+(this.i(L)&65535)+(C.i(L)&65535),V=(q>>>16)+(this.i(L)>>>16)+(C.i(L)>>>16);P=V>>>16,q&=65535,V&=65535,x[L]=V<<16|q}return new c(x,x[x.length-1]&-2147483648?-1:0)};function B(C,A){return C.add(k(A))}e.j=function(C){if(I(this)||I(C))return T;if(j(this))return j(C)?k(this).j(k(C)):k(k(this).j(C));if(j(C))return k(this.j(k(C)));if(0>this.l(R)&&0>C.l(R))return p(this.m()*C.m());for(var A=this.g.length+C.g.length,x=[],P=0;P<2*A;P++)x[P]=0;for(P=0;P<this.g.length;P++)for(var L=0;L<C.g.length;L++){var q=this.i(P)>>>16,V=this.i(P)&65535,we=C.i(L)>>>16,re=C.i(L)&65535;x[2*P+2*L]+=V*re,z(x,2*P+2*L),x[2*P+2*L+1]+=q*re,z(x,2*P+2*L+1),x[2*P+2*L+1]+=V*we,z(x,2*P+2*L+1),x[2*P+2*L+2]+=q*we,z(x,2*P+2*L+2)}for(P=0;P<A;P++)x[P]=x[2*P+1]<<16|x[2*P];for(P=A;P<2*A;P++)x[P]=0;return new c(x,0)};function z(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function F(C,A){this.g=C,this.h=A}function st(C,A){if(I(A))throw Error("division by zero");if(I(C))return new F(T,T);if(j(C))return A=st(k(C),A),new F(k(A.g),k(A.h));if(j(A))return A=st(C,k(A)),new F(k(A.g),A.h);if(30<C.g.length){if(j(C)||j(A))throw Error("slowDivide_ only works with positive integers.");for(var x=w,P=A;0>=P.l(C);)x=et(x),P=et(P);var L=ot(x,1),q=ot(P,1);for(P=ot(P,2),x=ot(x,2);!I(P);){var V=q.add(P);0>=V.l(C)&&(L=L.add(x),q=V),P=ot(P,1),x=ot(x,1)}return A=B(C,L.j(A)),new F(L,A)}for(L=T;0<=C.l(A);){for(x=Math.max(1,Math.floor(C.m()/A.m())),P=Math.ceil(Math.log(x)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),q=p(x),V=q.j(A);j(V)||0<V.l(C);)x-=P,q=p(x),V=q.j(A);I(q)&&(q=w),L=L.add(q),C=B(C,V)}return new F(L,C)}e.A=function(C){return st(this,C).h},e.and=function(C){for(var A=Math.max(this.g.length,C.g.length),x=[],P=0;P<A;P++)x[P]=this.i(P)&C.i(P);return new c(x,this.h&C.h)},e.or=function(C){for(var A=Math.max(this.g.length,C.g.length),x=[],P=0;P<A;P++)x[P]=this.i(P)|C.i(P);return new c(x,this.h|C.h)},e.xor=function(C){for(var A=Math.max(this.g.length,C.g.length),x=[],P=0;P<A;P++)x[P]=this.i(P)^C.i(P);return new c(x,this.h^C.h)};function et(C){for(var A=C.g.length+1,x=[],P=0;P<A;P++)x[P]=C.i(P)<<1|C.i(P-1)>>>31;return new c(x,C.h)}function ot(C,A){var x=A>>5;A%=32;for(var P=C.g.length-x,L=[],q=0;q<P;q++)L[q]=0<A?C.i(q+x)>>>A|C.i(q+x+1)<<32-A:C.i(q+x);return new c(L,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,U1=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,hs=c}).apply(typeof Ww<"u"?Ww:typeof self<"u"?self:typeof window<"u"?window:{});var nf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var j1,Tu,B1,vf,jg,z1,F1,H1;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,_){return h==Array.prototype||h==Object.prototype||(h[v]=_.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof nf=="object"&&nf];for(var v=0;v<h.length;++v){var _=h[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function a(h,v){if(v)t:{var _=r;h=h.split(".");for(var S=0;S<h.length-1;S++){var G=h[S];if(!(G in _))break t;_=_[G]}h=h[h.length-1],S=_[h],v=v(S),v!=S&&v!=null&&t(_,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var _=0,S=!1,G={next:function(){if(!S&&_<h.length){var X=_++;return{value:v(X,h[X]),done:!1}}return S=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,_){return h.call.apply(h.bind,arguments)}function T(h,v,_){if(!h)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,S),h.apply(v,G)}}return function(){return h.apply(v,arguments)}}function w(h,v,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:T,w.apply(null,arguments)}function R(h,v){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function I(h,v){function _(){}_.prototype=v.prototype,h.aa=v.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(S,G,X){for(var ut=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)ut[Ut-2]=arguments[Ut];return v.prototype[G].apply(S,ut)}}function j(h){const v=h.length;if(0<v){const _=Array(v);for(let S=0;S<v;S++)_[S]=h[S];return _}return[]}function k(h,v){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(m(S)){const G=h.length||0,X=S.length||0;h.length=G+X;for(let ut=0;ut<X;ut++)h[G+ut]=S[ut]}else h.push(S)}}class B{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function z(h){return/^[\s\xa0]*$/.test(h)}function F(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function st(h){return st[" "](h),h}st[" "]=function(){};var et=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function ot(h,v,_){for(const S in h)v.call(_,h[S],S,h)}function C(h,v){for(const _ in h)v.call(void 0,h[_],_,h)}function A(h){const v={};for(const _ in h)v[_]=h[_];return v}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(h,v){let _,S;for(let G=1;G<arguments.length;G++){S=arguments[G];for(_ in S)h[_]=S[_];for(let X=0;X<x.length;X++)_=x[X],Object.prototype.hasOwnProperty.call(S,_)&&(h[_]=S[_])}}function L(h){var v=1;h=h.split(":");const _=[];for(;0<v&&h.length;)_.push(h.shift()),v--;return h.length&&_.push(h.join(":")),_}function q(h){d.setTimeout(()=>{throw h},0)}function V(){var h=It;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class we{constructor(){this.h=this.g=null}add(v,_){const S=re.get();S.set(v,_),this.h?this.h.next=S:this.g=S,this.h=S}}var re=new B(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ft=!1,It=new we,M=()=>{const h=d.Promise.resolve(void 0);at=()=>{h.then(rt)}};var rt=()=>{for(var h;h=V();){try{h.h.call(h.g)}catch(_){q(_)}var v=re;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ft=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var vt=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,v),d.removeEventListener("test",_,v)}catch{}return h}();function Vt(h,v){if(lt.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(et){t:{try{st(v.nodeName);var G=!0;break t}catch{}G=!1}G||(v=null)}}else _=="mouseover"?v=h.fromElement:_=="mouseout"&&(v=h.toElement);this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:At[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Vt.aa.h.call(this)}}I(Vt,lt);var At={2:"touch",3:"pen",4:"mouse"};Vt.prototype.h=function(){Vt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),te=0;function li(h,v,_,S,G){this.listener=h,this.proxy=null,this.src=v,this.type=_,this.capture=!!S,this.ha=G,this.key=++te,this.da=this.fa=!1}function Ar(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ui(h){this.src=h,this.g={},this.h=0}Ui.prototype.add=function(h,v,_,S,G){var X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);var ut=As(h,v,S,G);return-1<ut?(v=h[ut],_||(v.fa=!1)):(v=new li(v,this.src,X,!!S,G),v.fa=_,h.push(v)),v};function Ss(h,v){var _=v.type;if(_ in h.g){var S=h.g[_],G=Array.prototype.indexOf.call(S,v,void 0),X;(X=0<=G)&&Array.prototype.splice.call(S,G,1),X&&(Ar(v),h.g[_].length==0&&(delete h.g[_],h.h--))}}function As(h,v,_,S){for(var G=0;G<h.length;++G){var X=h[G];if(!X.da&&X.listener==v&&X.capture==!!_&&X.ha==S)return G}return-1}var Rs="closure_lm_"+(1e6*Math.random()|0),ol={};function Sc(h,v,_,S,G){if(Array.isArray(v)){for(var X=0;X<v.length;X++)Sc(h,v[X],_,S,G);return null}return _=Ac(_),h&&h[Le]?h.K(v,_,p(S)?!!S.capture:!1,G):Vn(h,v,_,!1,S,G)}function Vn(h,v,_,S,G,X){if(!v)throw Error("Invalid event type");var ut=p(G)?!!G.capture:!!G,Ut=Ia(h);if(Ut||(h[Rs]=Ut=new Ui(h)),_=Ut.add(v,_,S,ut,X),_.proxy)return _;if(S=Ad(),_.proxy=S,S.src=h,S.listener=_,h.addEventListener)vt||(G=ut),G===void 0&&(G=!1),h.addEventListener(v.toString(),S,G);else if(h.attachEvent)h.attachEvent(xs(v.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ad(){function h(_){return v.call(h.src,h.listener,_)}const v=Rd;return h}function ll(h,v,_,S,G){if(Array.isArray(v))for(var X=0;X<v.length;X++)ll(h,v[X],_,S,G);else S=p(S)?!!S.capture:!!S,_=Ac(_),h&&h[Le]?(h=h.i,v=String(v).toString(),v in h.g&&(X=h.g[v],_=As(X,_,S,G),-1<_&&(Ar(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete h.g[v],h.h--)))):h&&(h=Ia(h))&&(v=h.g[v.toString()],h=-1,v&&(h=As(v,_,S,G)),(_=-1<h?v[h]:null)&&Ca(_))}function Ca(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Le])Ss(v.i,h);else{var _=h.type,S=h.proxy;v.removeEventListener?v.removeEventListener(_,S,h.capture):v.detachEvent?v.detachEvent(xs(_),S):v.addListener&&v.removeListener&&v.removeListener(S),(_=Ia(v))?(Ss(_,h),_.h==0&&(_.src=null,v[Rs]=null)):Ar(h)}}}function xs(h){return h in ol?ol[h]:ol[h]="on"+h}function Rd(h,v){if(h.da)h=!0;else{v=new Vt(v,this);var _=h.listener,S=h.ha||h.src;h.fa&&Ca(h),h=_.call(S,v)}return h}function Ia(h){return h=h[Rs],h instanceof Ui?h:null}var ul="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ac(h){return typeof h=="function"?h:(h[ul]||(h[ul]=function(v){return h.handleEvent(v)}),h[ul])}function fe(){ct.call(this),this.i=new Ui(this),this.M=this,this.F=null}I(fe,ct),fe.prototype[Le]=!0,fe.prototype.removeEventListener=function(h,v,_,S){ll(this,h,v,_,S)};function Kt(h,v){var _,S=h.F;if(S)for(_=[];S;S=S.F)_.push(S);if(h=h.M,S=v.type||v,typeof v=="string")v=new lt(v,h);else if(v instanceof lt)v.target=v.target||h;else{var G=v;v=new lt(S,h),P(v,G)}if(G=!0,_)for(var X=_.length-1;0<=X;X--){var ut=v.g=_[X];G=Tn(ut,S,!0,v)&&G}if(ut=v.g=h,G=Tn(ut,S,!0,v)&&G,G=Tn(ut,S,!1,v)&&G,_)for(X=0;X<_.length;X++)ut=v.g=_[X],G=Tn(ut,S,!1,v)&&G}fe.prototype.N=function(){if(fe.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var _=h.g[v],S=0;S<_.length;S++)Ar(_[S]);delete h.g[v],h.h--}}this.F=null},fe.prototype.K=function(h,v,_,S){return this.i.add(String(h),v,!1,_,S)},fe.prototype.L=function(h,v,_,S){return this.i.add(String(h),v,!0,_,S)};function Tn(h,v,_,S){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var G=!0,X=0;X<v.length;++X){var ut=v[X];if(ut&&!ut.da&&ut.capture==_){var Ut=ut.listener,Ne=ut.ha||ut.src;ut.fa&&Ss(h.i,ut),G=Ut.call(Ne,S)!==!1&&G}}return G&&!S.defaultPrevented}function tn(h,v,_){if(typeof h=="function")_&&(h=w(h,_));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(h,v||0)}function Rc(h){h.g=tn(()=>{h.g=null,h.i&&(h.i=!1,Rc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class xd extends ct{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Rc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cs(h){ct.call(this),this.h=h,this.g={}}I(Cs,ct);var Is=[];function Ds(h){ot(h.g,function(v,_){this.g.hasOwnProperty(_)&&Ca(v)},h),h.g={}}Cs.prototype.N=function(){Cs.aa.N.call(this),Ds(this)},Cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $n=d.JSON.stringify,Da=d.JSON.parse,Vs=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function cl(){}cl.prototype.h=null;function hl(h){return h.h||(h.h=h.i())}function fl(){}var ji={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bi(){lt.call(this,"d")}I(Bi,lt);function dl(){lt.call(this,"c")}I(dl,lt);var ui={},ml=null;function Rr(){return ml=ml||new fe}ui.La="serverreachability";function Va(h){lt.call(this,ui.La,h)}I(Va,lt);function xr(h){const v=Rr();Kt(v,new Va(v))}ui.STAT_EVENT="statevent";function xc(h,v){lt.call(this,ui.STAT_EVENT,h),this.stat=v}I(xc,lt);function se(h){const v=Rr();Kt(v,new xc(v,h))}ui.Ma="timingevent";function Ve(h,v){lt.call(this,ui.Ma,h),this.size=v}I(Ve,lt);function be(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function Nn(){this.g=!0}Nn.prototype.xa=function(){this.g=!1};function pl(h,v,_,S,G,X){h.info(function(){if(h.g)if(X)for(var ut="",Ut=X.split("&"),Ne=0;Ne<Ut.length;Ne++){var jt=Ut[Ne].split("=");if(1<jt.length){var je=jt[0];jt=jt[1];var Me=je.split("_");ut=2<=Me.length&&Me[1]=="type"?ut+(je+"="+jt+"&"):ut+(je+"=redacted&")}}else ut=null;else ut=X;return"XMLHTTP REQ ("+S+") [attempt "+G+"]: "+v+`
`+_+`
`+ut})}function Cd(h,v,_,S,G,X,ut){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+G+"]: "+v+`
`+_+`
`+X+" "+ut})}function Cr(h,v,_,S){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ns(h,_)+(S?" "+S:"")})}function Cc(h,v){h.info(function(){return"TIMEOUT: "+v})}Nn.prototype.info=function(){};function Ns(h,v){if(!h.g)return v;if(!v)return null;try{var _=JSON.parse(v);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var S=_[h];if(!(2>S.length)){var G=S[1];if(Array.isArray(G)&&!(1>G.length)){var X=G[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ut=1;ut<G.length;ut++)G[ut]=""}}}}return $n(_)}catch{return v}}var Ir={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ci;function hi(){}I(hi,cl),hi.prototype.g=function(){return new XMLHttpRequest},hi.prototype.i=function(){return{}},ci=new hi;function un(h,v,_,S){this.j=h,this.i=v,this.l=_,this.R=S||1,this.U=new Cs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ge}function ge(){this.i=null,this.g="",this.h=!1}var gl={},Na={};function Qn(h,v,_){h.L=1,h.v=Ls(En(v)),h.m=_,h.P=!0,Fi(h,null)}function Fi(h,v){h.F=Date.now(),Ms(h),h.A=En(h.v);var _=h.A,S=h.R;Array.isArray(S)||(S=[String(S)]),wl(_.i,"t",S),h.C=0,_=h.j.J,h.h=new ge,h.g=qc(h.j,_?v:null,!h.m),0<h.O&&(h.M=new xd(w(h.Y,h,h.g),h.O)),v=h.U,_=h.g,S=h.ca;var G="readystatechange";Array.isArray(G)||(G&&(Is[0]=G.toString()),G=Is);for(var X=0;X<G.length;X++){var ut=Sc(_,G[X],S||v.handleEvent,!1,v.h||v);if(!ut)break;v.g[ut.key]=ut}v=h.H?A(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),xr(),pl(h.i,h.u,h.A,h.l,h.R,h.m)}un.prototype.ca=function(h){h=h.target;const v=this.M;v&&kn(h)==3?v.j():this.Y(h)},un.prototype.Y=function(h){try{if(h==this.g)t:{const Me=kn(this.g);var v=this.g.Ba();const Xi=this.g.Z();if(!(3>Me)&&(Me!=3||this.g&&(this.h.h||this.g.oa()||kc(this.g)))){this.J||Me!=4||v==7||(v==8||0>=Xi?xr(3):xr(2)),Dr(this);var _=this.g.Z();this.X=_;e:if(Ic(this)){var S=kc(this.g);h="";var G=S.length,X=kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ke(this),fi(this);var ut="";break e}this.h.i=new d.TextDecoder}for(v=0;v<G;v++)this.h.h=!0,h+=this.h.i.decode(S[v],{stream:!(X&&v==G-1)});S.length=0,this.h.g+=h,this.C=0,ut=this.h.g}else ut=this.g.oa();if(this.o=_==200,Cd(this.i,this.u,this.A,this.l,this.R,Me,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ut,Ne=this.g;if((Ut=Ne.g?Ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Ut)){var jt=Ut;break e}}jt=null}if(_=jt)Cr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ps(this,_);else{this.o=!1,this.s=3,se(12),Ke(this),fi(this);break t}}if(this.P){_=!0;let Ye;for(;!this.J&&this.C<ut.length;)if(Ye=Dc(this,ut),Ye==Na){Me==4&&(this.s=4,se(14),_=!1),Cr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ye==gl){this.s=4,se(15),Cr(this.i,this.l,ut,"[Invalid Chunk]"),_=!1;break}else Cr(this.i,this.l,Ye,null),Ps(this,Ye);if(Ic(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||ut.length!=0||this.h.h||(this.s=1,se(16),_=!1),this.o=this.o&&_,!_)Cr(this.i,this.l,ut,"[Invalid Chunked Response]"),Ke(this),fi(this);else if(0<ut.length&&!this.W){this.W=!0;var je=this.j;je.g==this&&je.ba&&!je.M&&(je.j.info("Great, no buffering proxy detected. Bytes received: "+ut.length),Gs(je),je.M=!0,se(11))}}else Cr(this.i,this.l,ut,null),Ps(this,ut);Me==4&&Ke(this),this.o&&!this.J&&(Me==4?zc(this.j,this):(this.o=!1,Ms(this)))}else Md(this.g),_==400&&0<ut.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),Ke(this),fi(this)}}}catch{}finally{}};function Ic(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Dc(h,v){var _=h.C,S=v.indexOf(`
`,_);return S==-1?Na:(_=Number(v.substring(_,S)),isNaN(_)?gl:(S+=1,S+_>v.length?Na:(v=v.slice(S,S+_),h.C=S+_,v)))}un.prototype.cancel=function(){this.J=!0,Ke(this)};function Ms(h){h.S=Date.now()+h.I,Vc(h,h.I)}function Vc(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=be(w(h.ba,h),v)}function Dr(h){h.B&&(d.clearTimeout(h.B),h.B=null)}un.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Cc(this.i,this.A),this.L!=2&&(xr(),se(17)),Ke(this),this.s=2,fi(this)):Vc(this,this.S-h)};function fi(h){h.j.G==0||h.J||zc(h.j,h)}function Ke(h){Dr(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Ds(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Ps(h,v){try{var _=h.j;if(_.G!=0&&(_.g==h||yl(_.h,h))){if(!h.K&&yl(_.h,h)&&_.G==3){try{var S=_.Da.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var G=S;if(G[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)qa(_),Fa(_);else break t;xl(_),se(18)}}else _.za=G[1],0<_.za-_.T&&37500>G[2]&&_.F&&_.v==0&&!_.C&&(_.C=be(w(_.Za,_),6e3));if(1>=Pa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Qi(_,11)}else if((h.K||_.g==h)&&qa(_),!z(v))for(G=_.Da.g.parse(v),v=0;v<G.length;v++){let jt=G[v];if(_.T=jt[0],jt=jt[1],_.G==2)if(jt[0]=="c"){_.K=jt[1],_.ia=jt[2];const je=jt[3];je!=null&&(_.la=je,_.j.info("VER="+_.la));const Me=jt[4];Me!=null&&(_.Aa=Me,_.j.info("SVER="+_.Aa));const Xi=jt[5];Xi!=null&&typeof Xi=="number"&&0<Xi&&(S=1.5*Xi,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Ye=h.g;if(Ye){const _i=Ye.g?Ye.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var X=S.h;X.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Oa(X,X.h),X.h=null))}if(S.D){const Il=Ye.g?Ye.g.getResponseHeader("X-HTTP-Session-Id"):null;Il&&(S.ya=Il,Qt(S.I,S.D,Il))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ut=h;if(S.qa=Hc(S,S.J?S.ia:null,S.W),ut.K){cn(S.h,ut);var Ut=ut,Ne=S.L;Ne&&(Ut.I=Ne),Ut.B&&(Dr(Ut),Ms(Ut)),S.g=ut}else jc(S);0<_.i.length&&Ha(_)}else jt[0]!="stop"&&jt[0]!="close"||Qi(_,7);else _.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?Qi(_,7):Al(_):jt[0]!="noop"&&_.l&&_.l.ta(jt),_.v=0)}}xr(4)}catch{}}var Nc=class{constructor(h,v){this.g=h,this.map=v}};function Hi(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ma(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Pa(h){return h.h?1:h.g?h.g.size:0}function yl(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Oa(h,v){h.g?h.g.add(v):h.h=v}function cn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Hi.prototype.cancel=function(){if(this.i=vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function vl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const _ of h.g.values())v=v.concat(_.D);return v}return j(h.i)}function Id(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],_=h.length,S=0;S<_;S++)v.push(h[S]);return v}v=[],_=0;for(S in h)v[_++]=h[S];return v}function ka(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var _=0;_<h;_++)v.push(_);return v}v=[],_=0;for(const S in h)v[_++]=S;return v}}}function _l(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var _=ka(h),S=Id(h),G=S.length,X=0;X<G;X++)v.call(void 0,S[X],_&&_[X],h)}var Os=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dd(h,v){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var S=h[_].indexOf("="),G=null;if(0<=S){var X=h[_].substring(0,S);G=h[_].substring(S+1)}else X=h[_];v(X,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Se(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Se){this.h=h.h,ks(this,h.j),this.o=h.o,this.g=h.g,Vr(this,h.s),this.l=h.l;var v=h.i,_=new Gi;_.i=v.i,v.g&&(_.g=new Map(v.g),_.h=v.h),qi(this,_),this.m=h.m}else h&&(v=String(h).match(Os))?(this.h=!1,ks(this,v[1]||"",!0),this.o=Mn(v[2]||""),this.g=Mn(v[3]||"",!0),Vr(this,v[4]),this.l=Mn(v[5]||"",!0),qi(this,v[6]||"",!0),this.m=Mn(v[7]||"")):(this.h=!1,this.i=new Gi(null,this.h))}Se.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Us(v,Tl,!0),":");var _=this.g;return(_||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Us(v,Tl,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Us(_,_.charAt(0)=="/"?Vd:El,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Us(_,La)),h.join("")};function En(h){return new Se(h)}function ks(h,v,_){h.j=_?Mn(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Vr(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function qi(h,v,_){v instanceof Gi?(h.i=v,Pc(h.i,h.h)):(_||(v=Us(v,Nd)),h.i=new Gi(v,h.h))}function Qt(h,v,_){h.i.set(v,_)}function Ls(h){return Qt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Mn(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Us(h,v,_){return typeof h=="string"?(h=encodeURI(h).replace(v,Mc),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Mc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Tl=/[#\/\?@]/g,El=/[#\?:]/g,Vd=/[#\?]/g,Nd=/[#\?@]/g,La=/#/g;function Gi(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Pn(h){h.g||(h.g=new Map,h.h=0,h.i&&Dd(h.i,function(v,_){h.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}e=Gi.prototype,e.add=function(h,v){Pn(this),this.i=null,h=di(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(v),this.h+=1,this};function Ki(h,v){Pn(h),v=di(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Yi(h,v){return Pn(h),v=di(h,v),h.g.has(v)}e.forEach=function(h,v){Pn(this),this.g.forEach(function(_,S){_.forEach(function(G){h.call(v,G,S,this)},this)},this)},e.na=function(){Pn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),_=[];for(let S=0;S<v.length;S++){const G=h[S];for(let X=0;X<G.length;X++)_.push(v[S])}return _},e.V=function(h){Pn(this);let v=[];if(typeof h=="string")Yi(this,h)&&(v=v.concat(this.g.get(di(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)v=v.concat(h[_])}return v},e.set=function(h,v){return Pn(this),this.i=null,h=di(this,h),Yi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function wl(h,v,_){Ki(h,v),0<_.length&&(h.i=null,h.g.set(di(h,v),j(_)),h.h+=_.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var _=0;_<v.length;_++){var S=v[_];const X=encodeURIComponent(String(S)),ut=this.V(S);for(S=0;S<ut.length;S++){var G=X;ut[S]!==""&&(G+="="+encodeURIComponent(String(ut[S]))),h.push(G)}}return this.i=h.join("&")};function di(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Pc(h,v){v&&!h.j&&(Pn(h),h.i=null,h.g.forEach(function(_,S){var G=S.toLowerCase();S!=G&&(Ki(this,S),wl(this,G,_))},h)),h.j=v}function js(h,v){const _=new Nn;if(d.Image){const S=new Image;S.onload=R(On,_,"TestLoadImage: loaded",!0,v,S),S.onerror=R(On,_,"TestLoadImage: error",!1,v,S),S.onabort=R(On,_,"TestLoadImage: abort",!1,v,S),S.ontimeout=R(On,_,"TestLoadImage: timeout",!1,v,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else v(!1)}function Xn(h,v){const _=new Nn,S=new AbortController,G=setTimeout(()=>{S.abort(),On(_,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:S.signal}).then(X=>{clearTimeout(G),X.ok?On(_,"TestPingServer: ok",!0,v):On(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),On(_,"TestPingServer: error",!1,v)})}function On(h,v,_,S,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),S(_)}catch{}}function Bs(){this.g=new Vs}function mi(h,v,_){const S=_||"";try{_l(h,function(G,X){let ut=G;p(G)&&(ut=$n(G)),v.push(S+X+"="+encodeURIComponent(ut))})}catch(G){throw v.push(S+"type="+encodeURIComponent("_badmap")),G}}function Nr(h){this.l=h.Ub||null,this.j=h.eb||!1}I(Nr,cl),Nr.prototype.g=function(){return new $i(this.l,this.j)},Nr.prototype.i=function(h){return function(){return h}}({});function $i(h,v){fe.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I($i,fe),e=$i.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,gi(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pi(this)),this.readyState=0},e.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,gi(this)),this.g&&(this.readyState=3,gi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function bl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}e.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?pi(this):gi(this),this.readyState==3&&bl(this)}},e.Ra=function(h){this.g&&(this.response=this.responseText=h,pi(this))},e.Qa=function(h){this.g&&(this.response=h,pi(this))},e.ga=function(){this.g&&pi(this)};function pi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,gi(h)}e.setRequestHeader=function(h,v){this.u.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=v.next();return h.join(`\r
`)};function gi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty($i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Sl(h){let v="";return ot(h,function(_,S){v+=S,v+=":",v+=_,v+=`\r
`}),v}function Ue(h,v,_){t:{for(S in _){var S=!1;break t}S=!0}S||(_=Sl(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):Qt(h,v,_))}function qt(h){fe.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(qt,fe);var Ua=/^https?$/i,zs=["POST","PUT"];e=qt.prototype,e.Ha=function(h){this.J=h},e.ea=function(h,v,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ci.g(),this.v=this.o?hl(this.o):hl(ci),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(X){Oc(this,X);return}if(h=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var G in S)_.set(G,S[G]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const X of S.keys())_.set(X,S.get(X));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),G=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(zs,v,void 0))||S||G||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ut]of _)this.g.setRequestHeader(X,ut);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fs(this),this.u=!0,this.g.send(h),this.u=!1}catch(X){Oc(this,X)}};function Oc(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,ja(h),yi(h)}function ja(h){h.A||(h.A=!0,Kt(h,"complete"),Kt(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Kt(this,"complete"),Kt(this,"abort"),yi(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yi(this,!0)),qt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ba(this):this.bb())},e.bb=function(){Ba(this)};function Ba(h){if(h.h&&typeof c<"u"&&(!h.v[1]||kn(h)!=4||h.Z()!=2)){if(h.u&&kn(h)==4)tn(h.Ea,0,h);else if(Kt(h,"readystatechange"),kn(h)==4){h.h=!1;try{const ut=h.Z();t:switch(ut){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var _;if(!(_=v)){var S;if(S=ut===0){var G=String(h.D).match(Os)[1]||null;!G&&d.self&&d.self.location&&(G=d.self.location.protocol.slice(0,-1)),S=!Ua.test(G?G.toLowerCase():"")}_=S}if(_)Kt(h,"complete"),Kt(h,"success");else{h.m=6;try{var X=2<kn(h)?h.g.statusText:""}catch{X=""}h.l=X+" ["+h.Z()+"]",ja(h)}}finally{yi(h)}}}}function yi(h,v){if(h.g){Fs(h);const _=h.g,S=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Kt(h,"ready");try{_.onreadystatechange=S}catch{}}}function Fs(h){h.I&&(d.clearTimeout(h.I),h.I=null)}e.isActive=function(){return!!this.g};function kn(h){return h.g?h.g.readyState:0}e.Z=function(){try{return 2<kn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Da(v)}};function kc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Md(h){const v={};h=(h.g&&2<=kn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(z(h[S]))continue;var _=L(h[S]);const G=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=v[G]||[];v[G]=X,X.push(_)}C(v,function(S){return S.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hs(h,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||v}function za(h){this.Aa=0,this.i=[],this.j=new Nn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hs("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hs("baseRetryDelayMs",5e3,h),this.cb=Hs("retryDelaySeedMs",1e4,h),this.Wa=Hs("forwardChannelMaxRetries",2,h),this.wa=Hs("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Hi(h&&h.concurrentRequestLimit),this.Da=new Bs,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=za.prototype,e.la=8,e.G=1,e.connect=function(h,v,_,S){se(0),this.W=h,this.H=v||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Hc(this,null,this.W),Ha(this)};function Al(h){if(Lc(h),h.G==3){var v=h.U++,_=En(h.I);if(Qt(_,"SID",h.K),Qt(_,"RID",v),Qt(_,"TYPE","terminate"),qs(h,_),v=new un(h,h.j,v),v.L=2,v.v=Ls(En(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=v.v,_=!0),_||(v.g=qc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Ms(v)}Fc(h)}function Fa(h){h.g&&(Gs(h),h.g.cancel(),h.g=null)}function Lc(h){Fa(h),h.u&&(d.clearTimeout(h.u),h.u=null),qa(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Ha(h){if(!Ma(h.h)&&!h.s){h.s=!0;var v=h.Ga;at||M(),ft||(at(),ft=!0),It.add(v,h),h.B=0}}function Pd(h,v){return Pa(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=be(w(h.Ga,h,v),Cl(h,h.B)),h.B++,!0)}e.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const G=new un(this,this.j,h);let X=this.o;if(this.S&&(X?(X=A(X),P(X,this.S)):X=this.S),this.m!==null||this.O||(G.H=X,X=null),this.P)t:{for(var v=0,_=0;_<this.i.length;_++){e:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(v+=S,4096<v){v=_;break t}if(v===4096||_===this.i.length-1){v=_+1;break t}}v=1e3}else v=1e3;v=Uc(this,G,v),_=En(this.I),Qt(_,"RID",h),Qt(_,"CVER",22),this.D&&Qt(_,"X-HTTP-Session-Id",this.D),qs(this,_),X&&(this.O?v="headers="+encodeURIComponent(String(Sl(X)))+"&"+v:this.m&&Ue(_,this.m,X)),Oa(this.h,G),this.Ua&&Qt(_,"TYPE","init"),this.P?(Qt(_,"$req",v),Qt(_,"SID","null"),G.T=!0,Qn(G,_,null)):Qn(G,_,v),this.G=2}}else this.G==3&&(h?Rl(this,h):this.i.length==0||Ma(this.h)||Rl(this))};function Rl(h,v){var _;v?_=v.l:_=h.U++;const S=En(h.I);Qt(S,"SID",h.K),Qt(S,"RID",_),Qt(S,"AID",h.T),qs(h,S),h.m&&h.o&&Ue(S,h.m,h.o),_=new un(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Uc(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Oa(h.h,_),Qn(_,S,v)}function qs(h,v){h.H&&ot(h.H,function(_,S){Qt(v,S,_)}),h.l&&_l({},function(_,S){Qt(v,S,_)})}function Uc(h,v,_){_=Math.min(h.i.length,_);var S=h.l?w(h.l.Na,h.l,h):null;t:{var G=h.i;let X=-1;for(;;){const ut=["count="+_];X==-1?0<_?(X=G[0].g,ut.push("ofs="+X)):X=0:ut.push("ofs="+X);let Ut=!0;for(let Ne=0;Ne<_;Ne++){let jt=G[Ne].g;const je=G[Ne].map;if(jt-=X,0>jt)X=Math.max(0,G[Ne].g-100),Ut=!1;else try{mi(je,ut,"req"+jt+"_")}catch{S&&S(je)}}if(Ut){S=ut.join("&");break t}}}return h=h.i.splice(0,_),v.D=h,S}function jc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;at||M(),ft||(at(),ft=!0),It.add(v,h),h.v=0}}function xl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=be(w(h.Fa,h),Cl(h,h.v)),h.v++,!0)}e.Fa=function(){if(this.u=null,Bc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=be(w(this.ab,this),h)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),Fa(this),Bc(this))};function Gs(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Bc(h){h.g=new un(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=En(h.qa);Qt(v,"RID","rpc"),Qt(v,"SID",h.K),Qt(v,"AID",h.T),Qt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Qt(v,"TO",h.ja),Qt(v,"TYPE","xmlhttp"),qs(h,v),h.m&&h.o&&Ue(v,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=Ls(En(v)),_.m=null,_.P=!0,Fi(_,h)}e.Za=function(){this.C!=null&&(this.C=null,Fa(this),xl(this),se(19))};function qa(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function zc(h,v){var _=null;if(h.g==v){qa(h),Gs(h),h.g=null;var S=2}else if(yl(h.h,v))_=v.D,cn(h.h,v),S=1;else return;if(h.G!=0){if(v.o)if(S==1){_=v.m?v.m.length:0,v=Date.now()-v.F;var G=h.B;S=Rr(),Kt(S,new Ve(S,_)),Ha(h)}else jc(h);else if(G=v.s,G==3||G==0&&0<v.X||!(S==1&&Pd(h,v)||S==2&&xl(h)))switch(_&&0<_.length&&(v=h.h,v.i=v.i.concat(_)),G){case 1:Qi(h,5);break;case 4:Qi(h,10);break;case 3:Qi(h,6);break;default:Qi(h,2)}}}function Cl(h,v){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*v}function Qi(h,v){if(h.j.info("Error code "+v),v==2){var _=w(h.fb,h),S=h.Xa;const G=!S;S=new Se(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ks(S,"https"),Ls(S),G?js(S.toString(),_):Xn(S.toString(),_)}else se(2);h.G=0,h.l&&h.l.sa(v),Fc(h),Lc(h)}e.fb=function(h){h?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function Fc(h){if(h.G=0,h.ka=[],h.l){const v=vl(h.h);(v.length!=0||h.i.length!=0)&&(k(h.ka,v),k(h.ka,h.i),h.h.i.length=0,j(h.i),h.i.length=0),h.l.ra()}}function Hc(h,v,_){var S=_ instanceof Se?En(_):new Se(_);if(S.g!="")v&&(S.g=v+"."+S.g),Vr(S,S.s);else{var G=d.location;S=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;var X=new Se(null);S&&ks(X,S),v&&(X.g=v),G&&Vr(X,G),_&&(X.l=_),S=X}return _=h.D,v=h.ya,_&&v&&Qt(S,_,v),Qt(S,"VER",h.la),qs(h,S),S}function qc(h,v,_){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new qt(new Nr({eb:_})):new qt(h.pa),v.Ha(h.J),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gc(){}e=Gc.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Ga(){}Ga.prototype.g=function(h,v){return new hn(h,v)};function hn(h,v){fe.call(this),this.g=new za(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!z(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!z(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new vi(this)}I(hn,fe),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Al(this.g)},hn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=$n(h),h=_);v.i.push(new Nc(v.Ya++,h)),v.G==3&&Ha(v)},hn.prototype.N=function(){this.g.l=null,delete this.j,Al(this.g),delete this.g,hn.aa.N.call(this)};function Kc(h){Bi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const _ in v){h=_;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}I(Kc,Bi);function Yc(){dl.call(this),this.status=1}I(Yc,dl);function vi(h){this.g=h}I(vi,Gc),vi.prototype.ua=function(){Kt(this.g,"a")},vi.prototype.ta=function(h){Kt(this.g,new Kc(h))},vi.prototype.sa=function(h){Kt(this.g,new Yc)},vi.prototype.ra=function(){Kt(this.g,"b")},Ga.prototype.createWebChannel=Ga.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,H1=function(){return new Ga},F1=function(){return Rr()},z1=ui,jg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,vf=Ir,zi.COMPLETE="complete",B1=zi,fl.EventType=ji,ji.OPEN="a",ji.CLOSE="b",ji.ERROR="c",ji.MESSAGE="d",fe.prototype.listen=fe.prototype.K,Tu=fl,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,j1=qt}).apply(typeof nf<"u"?nf:typeof self<"u"?self:typeof window<"u"?window:{});const Zw="@firebase/firestore",Jw="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=new Hy("@firebase/firestore");function Eo(){return Ea.logLevel}function dt(e,...t){if(Ea.logLevel<=Ot.DEBUG){const n=t.map(nv);Ea.debug(`Firestore (${nl}): ${e}`,...n)}}function Tr(e,...t){if(Ea.logLevel<=Ot.ERROR){const n=t.map(nv);Ea.error(`Firestore (${nl}): ${e}`,...n)}}function wa(e,...t){if(Ea.logLevel<=Ot.WARN){const n=t.map(nv);Ea.warn(`Firestore (${nl}): ${e}`,...n)}}function nv(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,q1(e,r,n)}function q1(e,t,n){let r=`FIRESTORE (${nl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Tr(r),new Error(r)}function Gt(e,t,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,e||q1(t,a,r)}function xt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends br{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class K1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(sn.UNAUTHENTICATED))}shutdown(){}}class J4{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class tL{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Gt(this.o===void 0,42304);let r=this.i;const a=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let l=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new dr,t.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;t.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new dr)}},0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gt(typeof r.accessToken=="string",31837,{l:r}),new G1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class eL{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class nL{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new eL(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iL{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Gt(this.o===void 0,3512);const r=l=>{l.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,dt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>r(l))};const a=l=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new tb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Gt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new tb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=rL(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=t.charAt(a[l]%62))}return r}}function kt(e,t){return e<t?-1:e>t?1:0}function Bg(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const a=e.charAt(r),l=t.charAt(r);if(a!==l)return eg(a)===eg(l)?kt(a,l):eg(a)?1:-1}return kt(e.length,t.length)}const sL=55296,aL=57343;function eg(e){const t=e.charCodeAt(0);return t>=sL&&t<=aL}function zo(e,t,n){return e.length===t.length&&e.every((r,a)=>n(r,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="__name__";class Ri{constructor(t,n,r){n===void 0?n=0:n>t.length&&Et(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Et(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ri.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ri?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let a=0;a<r;a++){const l=Ri.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return kt(t.length,n.length)}static compareSegments(t,n){const r=Ri.isNumericId(t),a=Ri.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Ri.extractNumericId(t).compare(Ri.extractNumericId(n)):Bg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return hs.fromString(t.substring(4,t.length-2))}}class ne extends Ri{construct(t,n,r){return new ne(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ht(tt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new ne(n)}static emptyPath(){return new ne([])}}const oL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends Ri{construct(t,n,r){return new qe(t,n,r)}static isValidIdentifier(t){return oL.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eb}static keyField(){return new qe([eb])}static fromServerFormat(t){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new ht(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<t.length;){const d=t[a];if(d==="\\"){if(a+1===t.length)throw new ht(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ht(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(l(),a++)}if(l(),c)throw new ht(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(n)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ne.fromString(t))}static fromName(t){return new yt(ne.fromString(t).popFirst(5))}static empty(){return new yt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ne(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(e,t,n){if(!n)throw new ht(tt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function $1(e,t,n,r){if(t===!0&&r===!0)throw new ht(tt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function nb(e){if(!yt.isDocumentKey(e))throw new ht(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ib(e){if(yt.isDocumentKey(e))throw new ht(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Q1(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function rd(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Et(12329,{type:typeof e})}function Oi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ht(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rd(e);throw new ht(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(e,t){const n={typeString:e};return t&&(n.value=t),n}function gc(e,t){if(!Q1(e))throw new ht(tt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const a=t[r].typeString,l="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const c=e[r];if(a&&typeof c!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${r}' field to equal '${l.value}'`;break}}if(n)throw new ht(tt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=-62135596800,sb=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*sb);return new ie(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ht(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ht(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<rb)throw new ht(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sb}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(gc(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-rb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:De("string",ie._jsonSchemaVersion),seconds:De("number"),nanoseconds:De("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new ie(0,0))}static max(){return new Rt(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu=-1;function lL(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=Rt.fromTimestamp(r===1e9?new ie(n+1,0):new ie(n,r));return new ps(a,yt.empty(),t)}function uL(e){return new ps(e.readTime,e.key,Wu)}class ps{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new ps(Rt.min(),yt.empty(),Wu)}static max(){return new ps(Rt.max(),yt.empty(),Wu)}}function cL(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(e.documentKey,t.documentKey),n!==0?n:kt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(e){if(e.code!==tt.FAILED_PRECONDITION||e.message!==hL)throw e;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new it((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof it?n:it.resolve(n)}catch(n){return it.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):it.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):it.reject(n)}static resolve(t){return new it((n,r)=>{n(t)})}static reject(t){return new it((n,r)=>{r(t)})}static waitFor(t){return new it((n,r)=>{let a=0,l=0,c=!1;t.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&n()},m=>r(m))}),c=!0,l===a&&n()})}static or(t){let n=it.resolve(!1);for(const r of t)n=n.next(a=>a?it.resolve(a):r());return n}static forEach(t,n){const r=[];return t.forEach((a,l)=>{r.push(n.call(this,a,l))}),this.waitFor(r)}static mapArray(t,n){return new it((r,a)=>{const l=t.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;n(t[p]).next(y=>{c[p]=y,++d,d===l&&r(c)},y=>a(y))}})}static doWhile(t,n){return new it((r,a)=>{const l=()=>{t()===!0?n().next(()=>{l()},a):r()};l()})}}function dL(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function rl(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}sd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=-1;function ad(e){return e==null}function kf(e){return e===0&&1/e==-1/0}function mL(e){return typeof e=="number"&&Number.isInteger(e)&&!kf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="";function pL(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=ab(t)),t=gL(e.get(n),t);return ab(t)}function gL(e,t){let n=t;const r=e.length;for(let a=0;a<r;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case X1:n+="";break;default:n+=l}}return n}function ab(e){return e+X1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ws(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function W1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t,n){this.comparator=t,this.root=n||Ze.EMPTY}insert(t,n){return new he(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new rf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new rf(this.root,t,this.comparator,!1)}getReverseIterator(){return new rf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new rf(this.root,t,this.comparator,!0)}}class rf{constructor(t,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?r(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,n,r,a,l){this.key=t,this.value=n,this.color=r??Ze.RED,this.left=a??Ze.EMPTY,this.right=l??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,a,l){return new Ze(t??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let a=this;const l=r(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return Ze.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,n,r,a,l){return this}insert(t,n,r){return new Ze(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new lb(this.data.getIterator())}getIteratorFrom(t){return new lb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ke(this.comparator);return n.data=t,n}}class lb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new Dn([])}unionWith(t){let n=new ke(qe.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Dn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return zo(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Z1("Invalid base64 string: "+l):l}}(t);return new Ge(n)}static fromUint8Array(t){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(t);return new Ge(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const yL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gs(e){if(Gt(!!e,39018),typeof e=="string"){let t=0;const n=yL.exec(e);if(Gt(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Te(e.seconds),nanos:Te(e.nanos)}}function Te(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ys(e){return typeof e=="string"?Ge.fromBase64String(e):Ge.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="server_timestamp",tR="__type__",eR="__previous_value__",nR="__local_write_time__";function rv(e){return(e?.mapValue?.fields||{})[tR]?.stringValue===J1}function od(e){const t=e.mapValue.fields[eR];return rv(t)?od(t):t}function Zu(e){const t=gs(e.mapValue.fields[nR].timestampValue);return new ie(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(t,n,r,a,l,c,d,m,p,y){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const Lf="(default)";class Fo{constructor(t,n){this.projectId=t,this.database=n||Lf}static empty(){return new Fo("","")}get isDefaultDatabase(){return this.database===Lf}isEqual(t){return t instanceof Fo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="__type__",_L="__max__",sf={mapValue:{}},rR="__vector__",Uf="value";function vs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?rv(e)?4:EL(e)?9007199254740991:TL(e)?10:11:Et(28295,{value:e})}function ki(e,t){if(e===t)return!0;const n=vs(e);if(n!==vs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Zu(e).isEqual(Zu(t));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=gs(a.timestampValue),d=gs(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,l){return ys(a.bytesValue).isEqual(ys(l.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,l){return Te(a.geoPointValue.latitude)===Te(l.geoPointValue.latitude)&&Te(a.geoPointValue.longitude)===Te(l.geoPointValue.longitude)}(e,t);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Te(a.integerValue)===Te(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Te(a.doubleValue),d=Te(l.doubleValue);return c===d?kf(c)===kf(d):isNaN(c)&&isNaN(d)}return!1}(e,t);case 9:return zo(e.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(ob(c)!==ob(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!ki(c[m],d[m])))return!1;return!0}(e,t);default:return Et(52216,{left:e})}}function Ju(e,t){return(e.values||[]).find(n=>ki(n,t))!==void 0}function Ho(e,t){if(e===t)return 0;const n=vs(e),r=vs(t);if(n!==r)return kt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return kt(e.booleanValue,t.booleanValue);case 2:return function(l,c){const d=Te(l.integerValue||l.doubleValue),m=Te(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(e,t);case 3:return ub(e.timestampValue,t.timestampValue);case 4:return ub(Zu(e),Zu(t));case 5:return Bg(e.stringValue,t.stringValue);case 6:return function(l,c){const d=ys(l),m=ys(c);return d.compareTo(m)}(e.bytesValue,t.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const y=kt(d[p],m[p]);if(y!==0)return y}return kt(d.length,m.length)}(e.referenceValue,t.referenceValue);case 8:return function(l,c){const d=kt(Te(l.latitude),Te(c.latitude));return d!==0?d:kt(Te(l.longitude),Te(c.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return cb(e.arrayValue,t.arrayValue);case 10:return function(l,c){const d=l.fields||{},m=c.fields||{},p=d[Uf]?.arrayValue,y=m[Uf]?.arrayValue,T=kt(p?.values?.length||0,y?.values?.length||0);return T!==0?T:cb(p,y)}(e.mapValue,t.mapValue);case 11:return function(l,c){if(l===sf.mapValue&&c===sf.mapValue)return 0;if(l===sf.mapValue)return 1;if(c===sf.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let T=0;T<m.length&&T<y.length;++T){const w=Bg(m[T],y[T]);if(w!==0)return w;const R=Ho(d[m[T]],p[y[T]]);if(R!==0)return R}return kt(m.length,y.length)}(e.mapValue,t.mapValue);default:throw Et(23264,{he:n})}}function ub(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return kt(e,t);const n=gs(e),r=gs(t),a=kt(n.seconds,r.seconds);return a!==0?a:kt(n.nanos,r.nanos)}function cb(e,t){const n=e.values||[],r=t.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=Ho(n[a],r[a]);if(l)return l}return kt(n.length,r.length)}function qo(e){return zg(e)}function zg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=gs(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return ys(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return yt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=zg(l);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${zg(n.fields[c])}`;return a+"}"}(e.mapValue):Et(61005,{value:e})}function _f(e){switch(vs(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=od(e);return t?16+_f(t):16;case 5:return 2*e.stringValue.length;case 6:return ys(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+_f(l),0)}(e.arrayValue);case 10:case 11:return function(r){let a=0;return ws(r.fields,(l,c)=>{a+=l.length+_f(c)}),a}(e.mapValue);default:throw Et(13486,{value:e})}}function hb(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Fg(e){return!!e&&"integerValue"in e}function sv(e){return!!e&&"arrayValue"in e}function fb(e){return!!e&&"nullValue"in e}function db(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Tf(e){return!!e&&"mapValue"in e}function TL(e){return(e?.mapValue?.fields||{})[iR]?.stringValue===rR}function Pu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return ws(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Pu(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Pu(e.arrayValue.values[n]);return t}return{...e}}function EL(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===_L}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.value=t}static empty(){return new vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Tf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Pu(n)}setAll(t){let n=qe.emptyPath(),r={},a=[];t.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,r,a),r={},a=[],n=d.popLast()}c?r[d.lastSegment()]=Pu(c):a.push(d.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(t){const n=this.field(t.popLast());Tf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ki(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let a=n.mapValue.fields[t.get(r)];Tf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,r){ws(n,(a,l)=>t[a]=l);for(const a of r)delete t[a]}clone(){return new vn(Pu(this.value))}}function sR(e){const t=[];return ws(e.fields,(n,r)=>{const a=new qe([n]);if(Tf(r)){const l=sR(r.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)}),new Dn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t,n,r,a,l,c,d){this.key=t,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(t){return new an(t,0,Rt.min(),Rt.min(),Rt.min(),vn.empty(),0)}static newFoundDocument(t,n,r,a){return new an(t,1,n,Rt.min(),r,a,0)}static newNoDocument(t,n){return new an(t,2,n,Rt.min(),Rt.min(),vn.empty(),0)}static newUnknownDocument(t,n){return new an(t,3,n,Rt.min(),Rt.min(),vn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof an&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(t,n){this.position=t,this.inclusive=n}}function mb(e,t,n){let r=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?r=yt.comparator(yt.fromName(c.referenceValue),n.key):r=Ho(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function pb(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ki(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(t,n="asc"){this.field=t,this.dir=n}}function wL(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{}class Ie extends aR{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new SL(t,n,r):n==="array-contains"?new xL(t,r):n==="in"?new CL(t,r):n==="not-in"?new IL(t,r):n==="array-contains-any"?new DL(t,r):new Ie(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new AL(t,r):new RL(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ho(n,this.value)):n!==null&&vs(this.value)===vs(n)&&this.matchesComparison(Ho(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oi extends aR{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new oi(t,n)}matches(t){return oR(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function oR(e){return e.op==="and"}function lR(e){return bL(e)&&oR(e)}function bL(e){for(const t of e.filters)if(t instanceof oi)return!1;return!0}function Hg(e){if(e instanceof Ie)return e.field.canonicalString()+e.op.toString()+qo(e.value);if(lR(e))return e.filters.map(t=>Hg(t)).join(",");{const t=e.filters.map(n=>Hg(n)).join(",");return`${e.op}(${t})`}}function uR(e,t){return e instanceof Ie?function(r,a){return a instanceof Ie&&r.op===a.op&&r.field.isEqual(a.field)&&ki(r.value,a.value)}(e,t):e instanceof oi?function(r,a){return a instanceof oi&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,c,d)=>l&&uR(c,a.filters[d]),!0):!1}(e,t):void Et(19439)}function cR(e){return e instanceof Ie?function(n){return`${n.field.canonicalString()} ${n.op} ${qo(n.value)}`}(e):e instanceof oi?function(n){return n.op.toString()+" {"+n.getFilters().map(cR).join(" ,")+"}"}(e):"Filter"}class SL extends Ie{constructor(t,n,r){super(t,n,r),this.key=yt.fromName(r.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class AL extends Ie{constructor(t,n){super(t,"in",n),this.keys=hR("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class RL extends Ie{constructor(t,n){super(t,"not-in",n),this.keys=hR("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function hR(e,t){return(t.arrayValue?.values||[]).map(n=>yt.fromName(n.referenceValue))}class xL extends Ie{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return sv(n)&&Ju(n.arrayValue,this.value)}}class CL extends Ie{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ju(this.value.arrayValue,n)}}class IL extends Ie{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ju(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ju(this.value.arrayValue,n)}}class DL extends Ie{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!sv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ju(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(t,n=null,r=[],a=[],l=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function gb(e,t=null,n=[],r=[],a=null,l=null,c=null){return new VL(e,t,n,r,a,l,c)}function av(e){const t=xt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Hg(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),ad(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>qo(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>qo(r)).join(",")),t.Te=n}return t.Te}function ov(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!wL(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!uR(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!pb(e.startAt,t.startAt)&&pb(e.endAt,t.endAt)}function qg(e){return yt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(t,n=null,r=[],a=[],l=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function NL(e,t,n,r,a,l,c,d){return new sl(e,t,n,r,a,l,c,d)}function lv(e){return new sl(e)}function yb(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function fR(e){return e.collectionGroup!==null}function Ou(e){const t=xt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new ke(qe.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(t).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new tc(l,r))}),n.has(qe.keyField().canonicalString())||t.Ie.push(new tc(qe.keyField(),r))}return t.Ie}function Vi(e){const t=xt(e);return t.Ee||(t.Ee=ML(t,Ou(e))),t.Ee}function ML(e,t){if(e.limitType==="F")return gb(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new tc(a.field,l)});const n=e.endAt?new jf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new jf(e.startAt.position,e.startAt.inclusive):null;return gb(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Gg(e,t){const n=e.filters.concat([t]);return new sl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Bf(e,t,n){return new sl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ld(e,t){return ov(Vi(e),Vi(t))&&e.limitType===t.limitType}function dR(e){return`${av(Vi(e))}|lt:${e.limitType}`}function wo(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>cR(a)).join(", ")}]`),ad(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>qo(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>qo(a)).join(",")),`Target(${r})`}(Vi(e))}; limitType=${e.limitType})`}function ud(e,t){return t.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):yt.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(e,t)&&function(r,a){for(const l of Ou(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(e,t)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(e,t)&&function(r,a){return!(r.startAt&&!function(c,d,m){const p=mb(c,d,m);return c.inclusive?p<=0:p<0}(r.startAt,Ou(r),a)||r.endAt&&!function(c,d,m){const p=mb(c,d,m);return c.inclusive?p>=0:p>0}(r.endAt,Ou(r),a))}(e,t)}function PL(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function mR(e){return(t,n)=>{let r=!1;for(const a of Ou(e)){const l=OL(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function OL(e,t,n){const r=e.field.isKeyField()?yt.comparator(t.key,n.key):function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?Ho(m,p):Et(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Et(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(t){ws(this.inner,(n,r)=>{for(const[a,l]of r)t(a,l)})}isEmpty(){return W1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL=new he(yt.comparator);function Er(){return kL}const pR=new he(yt.comparator);function Eu(...e){let t=pR;for(const n of e)t=t.insert(n.key,n);return t}function gR(e){let t=pR;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function ma(){return ku()}function yR(){return ku()}function ku(){return new Aa(e=>e.toString(),(e,t)=>e.isEqual(t))}const LL=new he(yt.comparator),UL=new ke(yt.comparator);function Lt(...e){let t=UL;for(const n of e)t=t.add(n);return t}const jL=new ke(kt);function BL(){return jL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kf(t)?"-0":t}}function vR(e){return{integerValue:""+e}}function zL(e,t){return mL(t)?vR(t):uv(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(){this._=void 0}}function FL(e,t,n){return e instanceof ec?function(a,l){const c={fields:{[tR]:{stringValue:J1},[nR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&rv(l)&&(l=od(l)),l&&(c.fields[eR]=l),{mapValue:c}}(n,t):e instanceof nc?TR(e,t):e instanceof ic?ER(e,t):function(a,l){const c=_R(a,l),d=vb(c)+vb(a.Ae);return Fg(c)&&Fg(a.Ae)?vR(d):uv(a.serializer,d)}(e,t)}function HL(e,t,n){return e instanceof nc?TR(e,t):e instanceof ic?ER(e,t):n}function _R(e,t){return e instanceof zf?function(r){return Fg(r)||function(l){return!!l&&"doubleValue"in l}(r)}(t)?t:{integerValue:0}:null}class ec extends cd{}class nc extends cd{constructor(t){super(),this.elements=t}}function TR(e,t){const n=wR(t);for(const r of e.elements)n.some(a=>ki(a,r))||n.push(r);return{arrayValue:{values:n}}}class ic extends cd{constructor(t){super(),this.elements=t}}function ER(e,t){let n=wR(t);for(const r of e.elements)n=n.filter(a=>!ki(a,r));return{arrayValue:{values:n}}}class zf extends cd{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function vb(e){return Te(e.integerValue||e.doubleValue)}function wR(e){return sv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(t,n){this.field=t,this.transform=n}}function GL(e,t){return e.field.isEqual(t.field)&&function(r,a){return r instanceof nc&&a instanceof nc||r instanceof ic&&a instanceof ic?zo(r.elements,a.elements,ki):r instanceof zf&&a instanceof zf?ki(r.Ae,a.Ae):r instanceof ec&&a instanceof ec}(e.transform,t.transform)}class KL{constructor(t,n){this.version=t,this.transformResults=n}}class ri{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ri}static exists(t){return new ri(void 0,t)}static updateTime(t){return new ri(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ef(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class hd{}function bR(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new cv(e.key,ri.none()):new yc(e.key,e.data,ri.none());{const n=e.data,r=vn.empty();let a=new ke(qe.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new bs(e.key,r,new Dn(a.toArray()),ri.none())}}function YL(e,t,n){e instanceof yc?function(a,l,c){const d=a.value.clone(),m=Tb(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(e,t,n):e instanceof bs?function(a,l,c){if(!Ef(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=Tb(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(SR(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(e,t,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,n)}function Lu(e,t,n,r){return e instanceof yc?function(l,c,d,m){if(!Ef(l.precondition,c))return d;const p=l.value.clone(),y=Eb(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(e,t,n,r):e instanceof bs?function(l,c,d,m){if(!Ef(l.precondition,c))return d;const p=Eb(l.fieldTransforms,m,c),y=c.data;return y.setAll(SR(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(e,t,n,r):function(l,c,d){return Ef(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(e,t,n)}function $L(e,t){let n=null;for(const r of e.fieldTransforms){const a=t.data.field(r.field),l=_R(r.transform,a||null);l!=null&&(n===null&&(n=vn.empty()),n.set(r.field,l))}return n||null}function _b(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&zo(r,a,(l,c)=>GL(l,c))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class yc extends hd{constructor(t,n,r,a=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class bs extends hd{constructor(t,n,r,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function SR(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Tb(e,t,n){const r=new Map;Gt(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,d=t.data.field(l.field);r.set(l.field,HL(c,d,n[a]))}return r}function Eb(e,t,n){const r=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);r.set(a.field,FL(l,c,t))}return r}class cv extends hd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QL extends hd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(t,n,r,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&YL(l,t,r[a])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Lu(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Lu(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=yR();return this.mutations.forEach(a=>{const l=t.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=bR(c,d);m!==null&&r.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Rt.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Lt())}isEqual(t){return this.batchId===t.batchId&&zo(this.mutations,t.mutations,(n,r)=>_b(n,r))&&zo(this.baseMutations,t.baseMutations,(n,r)=>_b(n,r))}}class hv{constructor(t,n,r,a){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(t,n,r){Gt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let a=function(){return LL}();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new hv(t,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe,zt;function JL(e){switch(e){case tt.OK:return Et(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return Et(15467,{code:e})}}function AR(e){if(e===void 0)return Tr("GRPC error has no .code"),tt.UNKNOWN;switch(e){case xe.OK:return tt.OK;case xe.CANCELLED:return tt.CANCELLED;case xe.UNKNOWN:return tt.UNKNOWN;case xe.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case xe.INTERNAL:return tt.INTERNAL;case xe.UNAVAILABLE:return tt.UNAVAILABLE;case xe.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case xe.NOT_FOUND:return tt.NOT_FOUND;case xe.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case xe.ABORTED:return tt.ABORTED;case xe.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case xe.DATA_LOSS:return tt.DATA_LOSS;default:return Et(39323,{code:e})}}(zt=xe||(xe={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=new hs([4294967295,4294967295],0);function wb(e){const t=t3().encode(e),n=new U1;return n.update(t),new Uint8Array(n.digest())}function bb(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new hs([n,r],0),new hs([a,l],0)]}class fv{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wu(`Invalid padding: ${n}`);if(r<0)throw new wu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new wu(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new wu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=hs.fromNumber(this.ge)}ye(t,n,r){let a=t.add(n.multiply(hs.fromNumber(r)));return a.compare(e3)===1&&(a=new hs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=wb(t),[r,a]=bb(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);if(!this.we(c))return!1}return!0}static create(t,n,r){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new fv(l,a,n);return r.forEach(d=>c.insert(d)),c}insert(t){if(this.ge===0)return;const n=wb(t),[r,a]=bb(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);this.Se(c)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class wu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(t,n,r,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const a=new Map;return a.set(t,vc.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new fd(Rt.min(),a,new he(kt),Er(),Lt())}}class vc{constructor(t,n,r,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new vc(r,n,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(t,n,r,a){this.be=t,this.removedTargetIds=n,this.key=r,this.De=a}}class RR{constructor(t,n){this.targetId=t,this.Ce=n}}class xR{constructor(t,n,r=Ge.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=a}}class Sb{constructor(){this.ve=0,this.Fe=Ab(),this.Me=Ge.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),n=Lt(),r=Lt();return this.Fe.forEach((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Et(38017,{changeType:l})}}),new vc(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=Ab()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class n3{constructor(t){this.Ge=t,this.ze=new Map,this.je=Er(),this.Je=af(),this.He=af(),this.Ye=new he(kt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((r,a)=>{this.rt(a)&&n(a)})}st(t){const n=t.targetId,r=t.Ce.count,a=this.ot(n);if(a){const l=a.target;if(qg(l))if(r===0){const c=new yt(l.path);this.et(n,c,an.newNoDocument(c,Rt.min()))}else Gt(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const d=this.ut(t),m=d?this.ct(d,t,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=ys(r).toUint8Array()}catch(m){if(m instanceof Z1)return wa("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new fv(c,a,l)}catch(m){return wa(m instanceof wu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach(l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(d)||(this.et(n,l,null),a++)}),a}Tt(t){const n=new Map;this.ze.forEach((l,c)=>{const d=this.ot(c);if(d){if(l.current&&qg(d.target)){const m=new yt(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,an.newNoDocument(m,t))}l.Be&&(n.set(c,l.ke()),l.qe())}});let r=Lt();this.He.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(l))}),this.je.forEach((l,c)=>c.setReadTime(t));const a=new fd(t,n,this.Ye,this.je,r);return this.je=Er(),this.Je=af(),this.He=af(),this.Ye=new he(kt),a}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new Sb,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new ke(kt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new ke(kt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||dt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Sb),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function af(){return new he(yt.comparator)}function Ab(){return new he(yt.comparator)}const i3={asc:"ASCENDING",desc:"DESCENDING"},r3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s3={and:"AND",or:"OR"};class a3{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Kg(e,t){return e.useProto3Json||ad(t)?t:{value:t}}function Ff(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function CR(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function o3(e,t){return Ff(e,t.toTimestamp())}function Ni(e){return Gt(!!e,49232),Rt.fromTimestamp(function(n){const r=gs(n);return new ie(r.seconds,r.nanos)}(e))}function dv(e,t){return Yg(e,t).canonicalString()}function Yg(e,t){const n=function(a){return new ne(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?n:n.child(t)}function IR(e){const t=ne.fromString(e);return Gt(PR(t),10190,{key:t.toString()}),t}function $g(e,t){return dv(e.databaseId,t.path)}function ng(e,t){const n=IR(t);if(n.get(1)!==e.databaseId.projectId)throw new ht(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ht(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new yt(VR(n))}function DR(e,t){return dv(e.databaseId,t)}function l3(e){const t=IR(e);return t.length===4?ne.emptyPath():VR(t)}function Qg(e){return new ne(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function VR(e){return Gt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function Rb(e,t,n){return{name:$g(e,t),fields:n.value.mapValue.fields}}function u3(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Et(39313,{state:p})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(Gt(y===void 0||typeof y=="string",58123),Ge.fromBase64String(y||"")):(Gt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Ge.fromUint8Array(y||new Uint8Array))}(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(p){const y=p.code===void 0?tt.UNKNOWN:AR(p.code);return new ht(y,p.message||"")}(c);n=new xR(r,a,l,d||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=ng(e,r.document.name),l=Ni(r.document.updateTime),c=r.document.createTime?Ni(r.document.createTime):Rt.min(),d=new vn({mapValue:{fields:r.document.fields}}),m=an.newFoundDocument(a,l,c,d),p=r.targetIds||[],y=r.removedTargetIds||[];n=new wf(p,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=ng(e,r.document),l=r.readTime?Ni(r.readTime):Rt.min(),c=an.newNoDocument(a,l),d=r.removedTargetIds||[];n=new wf([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=ng(e,r.document),l=r.removedTargetIds||[];n=new wf([],l,a,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new ZL(a,l),d=r.targetId;n=new RR(d,c)}}return n}function c3(e,t){let n;if(t instanceof yc)n={update:Rb(e,t.key,t.value)};else if(t instanceof cv)n={delete:$g(e,t.key)};else if(t instanceof bs)n={update:Rb(e,t.key,t.data),updateMask:_3(t.fieldMask)};else{if(!(t instanceof QL))return Et(16599,{Vt:t.type});n={verify:$g(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(l,c){const d=c.transform;if(d instanceof ec)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof nc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ic)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof zf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Et(20930,{transform:c.transform})}(0,r))),t.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:o3(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Et(27497)}(e,t.precondition)),n}function h3(e,t){return e&&e.length>0?(Gt(t!==void 0,14353),e.map(n=>function(a,l){let c=a.updateTime?Ni(a.updateTime):Ni(l);return c.isEqual(Rt.min())&&(c=Ni(l)),new KL(c,a.transformResults||[])}(n,t))):[]}function f3(e,t){return{documents:[DR(e,t.path)]}}function d3(e,t){const n={structuredQuery:{}},r=t.path;let a;t.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=DR(e,a);const l=function(p){if(p.length!==0)return MR(oi.create(p,"and"))}(t.filters);l&&(n.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(y=>function(w){return{field:bo(w.field),direction:g3(w.dir)}}(y))}(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Kg(e,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(t.endAt)),{ft:n,parent:a}}function m3(e){let t=l3(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Gt(r===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=function(T){const w=NR(T);return w instanceof oi&&lR(w)?w.getFilters():[w]}(n.where));let c=[];n.orderBy&&(c=function(T){return T.map(w=>function(I){return new tc(So(I.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(w))}(n.orderBy));let d=null;n.limit&&(d=function(T){let w;return w=typeof T=="object"?T.value:T,ad(w)?null:w}(n.limit));let m=null;n.startAt&&(m=function(T){const w=!!T.before,R=T.values||[];return new jf(R,w)}(n.startAt));let p=null;return n.endAt&&(p=function(T){const w=!T.before,R=T.values||[];return new jf(R,w)}(n.endAt)),NL(t,a,c,l,d,"F",m,p)}function p3(e,t){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:a})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function NR(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=So(n.unaryFilter.field);return Ie.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=So(n.unaryFilter.field);return Ie.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=So(n.unaryFilter.field);return Ie.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=So(n.unaryFilter.field);return Ie.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}}(e):e.fieldFilter!==void 0?function(n){return Ie.create(So(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return oi.create(n.compositeFilter.filters.map(r=>NR(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Et(1026)}}(n.compositeFilter.op))}(e):Et(30097,{filter:e})}function g3(e){return i3[e]}function y3(e){return r3[e]}function v3(e){return s3[e]}function bo(e){return{fieldPath:e.canonicalString()}}function So(e){return qe.fromServerFormat(e.fieldPath)}function MR(e){return e instanceof Ie?function(n){if(n.op==="=="){if(db(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NAN"}};if(fb(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(db(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NOT_NAN"}};if(fb(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bo(n.field),op:y3(n.op),value:n.value}}}(e):e instanceof oi?function(n){const r=n.getFilters().map(a=>MR(a));return r.length===1?r[0]:{compositeFilter:{op:v3(n.op),filters:r}}}(e):Et(54877,{filter:e})}function _3(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function PR(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(t,n,r,a,l=Rt.min(),c=Rt.min(),d=Ge.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new as(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(t){this.yt=t}}function E3(e){const t=m3({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Bf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(){this.Cn=new b3}addToCollectionParentIndex(t,n){return this.Cn.add(n),it.resolve()}getCollectionParents(t,n){return it.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return it.resolve()}deleteFieldIndex(t,n){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,n){return it.resolve()}getDocumentsMatchingTarget(t,n){return it.resolve(null)}getIndexType(t,n){return it.resolve(0)}getFieldIndexes(t,n){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,n){return it.resolve(ps.min())}getMinOffsetFromCollectionGroup(t,n){return it.resolve(ps.min())}updateCollectionGroup(t,n,r){return it.resolve()}updateIndexEntries(t,n){return it.resolve()}}class b3{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),a=this.index[n]||new ke(ne.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(t){const n=t.lastSegment(),r=t.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(t){return(this.index[t]||new ke(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OR=41943040;class yn{static withCacheSize(t){return new yn(t,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(OR,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Go(0)}static cr(){return new Go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="LruGarbageCollector",S3=1048576;function Ib([e,t],[n,r]){const a=kt(e,n);return a===0?kt(t,r):a}class A3{constructor(t){this.Ir=t,this.buffer=new ke(Ib),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Ib(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class R3{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){dt(Cb,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){rl(n)?dt(Cb,"Ignoring IndexedDB error during garbage collection: ",n):await il(n)}await this.Vr(3e5)})}}class x3{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return it.resolve(sd.ce);const r=new A3(n);return this.mr.forEachTarget(t,a=>r.Ar(a.sequenceNumber)).next(()=>this.mr.pr(t,a=>r.Ar(a))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(xb)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xb):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,a,l,c,d,m,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(t,a))).next(T=>(r=T,d=Date.now(),this.removeTargets(t,r,n))).next(T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(t,r))).next(T=>(p=Date.now(),Eo()<=Ot.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T})))}}function C3(e,t){return new x3(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(){this.changes=new Aa(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,an.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?it.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(t,n,r,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(t,n))).next(a=>(r!==null&&Lu(r.mutation,a,Dn.empty(),ie.now()),a))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Lt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Lt()){const a=ma();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,r).next(l=>{let c=Eu();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(t,n){const r=ma();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Lt()))}populateOverlays(t,n,r){const a=[];return r.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(t,a).next(l=>{l.forEach((c,d)=>{n.set(c,d)})})}computeViews(t,n,r,a){let l=Er();const c=ku(),d=function(){return ku()}();return n.forEach((m,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof bs)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Lu(y.mutation,p,y.mutation.getFieldMask(),ie.now())):c.set(p.key,Dn.empty())}),this.recalculateAndSaveOverlays(t,l).next(m=>(m.forEach((p,y)=>c.set(p,y)),n.forEach((p,y)=>d.set(p,new D3(y,c.get(p)??null))),d))}recalculateAndSaveOverlays(t,n){const r=ku();let a=new he((c,d)=>c-d),l=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(c=>{for(const d of c)d.keys().forEach(m=>{const p=n.get(m);if(p===null)return;let y=r.get(m)||Dn.empty();y=d.applyToLocalView(p,y),r.set(m,y);const T=(a.get(d.batchId)||Lt()).add(m);a=a.insert(d.batchId,T)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,y=m.value,T=yR();y.forEach(w=>{if(!l.has(w)){const R=bR(n.get(w),r.get(w));R!==null&&T.set(w,R),l=l.add(w)}}),c.push(this.documentOverlayCache.saveOverlays(t,p,T))}return it.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,a){return function(c){return yt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):fR(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,a):this.getDocumentsMatchingCollectionQuery(t,n,r,a)}getNextDocuments(t,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,a-l.size):it.resolve(ma());let d=Wu,m=l;return c.next(p=>it.forEach(p,(y,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(y)?it.resolve():this.remoteDocumentCache.getEntry(t,y).next(w=>{m=m.insert(y,w)}))).next(()=>this.populateOverlays(t,p,l)).next(()=>this.computeViews(t,m,p,Lt())).next(y=>({batchId:d,changes:gR(y)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next(r=>{let a=Eu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(t,n,r,a){const l=n.collectionGroup;let c=Eu();return this.indexManager.getCollectionParents(t,l).next(d=>it.forEach(d,m=>{const p=function(T,w){return new sl(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,r,a).next(y=>{y.forEach((T,w)=>{c=c.insert(T,w)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,l,a))).next(c=>{l.forEach((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,an.newInvalidDocument(y)))});let d=Eu();return c.forEach((m,p)=>{const y=l.get(m);y!==void 0&&Lu(y.mutation,p,Dn.empty(),ie.now()),ud(n,p)&&(d=d.insert(m,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return it.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Ni(a.createTime)}}(n)),it.resolve()}getNamedQuery(t,n){return it.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(a){return{name:a.name,query:E3(a.bundledQuery),readTime:Ni(a.readTime)}}(n)),it.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(){this.overlays=new he(yt.comparator),this.qr=new Map}getOverlay(t,n){return it.resolve(this.overlays.get(n))}getOverlays(t,n){const r=ma();return it.forEach(n,a=>this.getOverlay(t,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((a,l)=>{this.St(t,n,l)}),it.resolve()}removeOverlaysForBatchId(t,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(r)),it.resolve()}getOverlaysForCollection(t,n,r){const a=ma(),l=n.length+1,c=new yt(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return it.resolve(a)}getOverlaysForCollectionGroup(t,n,r,a){let l=new he((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=ma(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=ma(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,y)=>d.set(p,y)),!(d.size()>=a)););return it.resolve(d)}St(t,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new WL(n,r));let l=this.qr.get(n);l===void 0&&(l=Lt(),this.qr.set(n,l)),this.qr.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,it.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(){this.Qr=new ke(He.$r),this.Ur=new ke(He.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new He(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Gr(new He(t,n))}zr(t,n){t.forEach(r=>this.removeReference(r,n))}jr(t){const n=new yt(new ne([])),r=new He(n,t),a=new He(n,t+1),l=[];return this.Ur.forEachInRange([r,a],c=>{this.Gr(c),l.push(c.key)}),l}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new yt(new ne([])),r=new He(n,t),a=new He(n,t+1);let l=Lt();return this.Ur.forEachInRange([r,a],c=>{l=l.add(c.key)}),l}containsKey(t){const n=new He(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class He{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return yt.comparator(t.key,n.key)||kt(t.Yr,n.Yr)}static Kr(t,n){return kt(t.Yr,n.Yr)||yt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ke(He.$r)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new XL(l,n,r,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new He(d.key,l)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return it.resolve(c)}lookupMutationBatch(t,n){return it.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,a=this.ei(r),l=a<0?0:a;return it.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?iv:this.tr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new He(n,0),a=new He(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],c=>{const d=this.Xr(c.Yr);l.push(d)}),it.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new ke(kt);return n.forEach(a=>{const l=new He(a,0),c=new He(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],d=>{r=r.add(d.Yr)})}),it.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,a=r.length+1;let l=r;yt.isDocumentKey(l)||(l=l.child(""));const c=new He(new yt(l),0);let d=new ke(kt);return this.Zr.forEachWhile(m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Yr)),!0)},c),it.resolve(this.ti(d))}ti(t){const n=[];return t.forEach(r=>{const a=this.Xr(r);a!==null&&n.push(a)}),n}removeMutationBatch(t,n){Gt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return it.forEach(n.mutations,a=>{const l=new He(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Zr=r})}ir(t){}containsKey(t,n){const r=new He(n,0),a=this.Zr.firstAfterOrEqual(r);return it.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(t){this.ri=t,this.docs=function(){return new he(yt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return it.resolve(r?r.document.mutableCopy():an.newInvalidDocument(n))}getEntries(t,n){let r=Er();return n.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():an.newInvalidDocument(a))}),it.resolve(r)}getDocumentsMatchingQuery(t,n,r,a){let l=Er();const c=n.path,d=new yt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||cL(uL(y),r)<=0||(a.has(y.key)||ud(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return it.resolve(l)}getAllFromCollectionGroup(t,n,r,a){Et(9500)}ii(t,n){return it.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new L3(this)}getSize(t){return it.resolve(this.size)}}class L3 extends I3{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(r)}),it.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(t){this.persistence=t,this.si=new Aa(n=>av(n),ov),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.oi=0,this._i=new mv,this.targetCount=0,this.ai=Go.ur()}forEachTarget(t,n){return this.si.forEach((r,a)=>n(a)),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),it.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Go(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,it.resolve()}updateTargetData(t,n){return this.Pr(n),it.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,n,r){let a=0;const l=[];return this.si.forEach((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(t,d.targetId)),a++)}),it.waitFor(l).next(()=>a)}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return it.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),it.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(t,c))}),it.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),it.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return it.resolve(r)}containsKey(t,n){return it.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(t,n){this.ui={},this.overlays={},this.ci=new sd(0),this.li=!1,this.li=!0,this.hi=new P3,this.referenceDelegate=t(this),this.Pi=new U3(this),this.indexManager=new w3,this.remoteDocumentCache=function(a){return new k3(a)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new T3(n),this.Ii=new N3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new M3,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new O3(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){dt("MemoryPersistence","Starting transaction:",t);const a=new j3(this.ci.next());return this.referenceDelegate.Ei(),r(a).next(l=>this.referenceDelegate.di(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ai(t,n){return it.or(Object.values(this.ui).map(r=>()=>r.containsKey(t,n)))}}class j3 extends fL{constructor(t){super(),this.currentSequenceNumber=t}}class pv{constructor(t){this.persistence=t,this.Ri=new mv,this.Vi=null}static mi(t){return new pv(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),it.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),it.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),it.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(a=>this.fi.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(a=>{a.forEach(l=>this.fi.add(l.toString()))}).next(()=>r.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.fi,r=>{const a=yt.fromPath(r);return this.gi(t,a).next(l=>{l||n.removeEntry(a,Rt.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return it.or([()=>it.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Hf{constructor(t,n){this.persistence=t,this.pi=new Aa(r=>pL(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=C3(this,n)}static mi(t,n){return new Hf(t,n)}Ei(){}di(t){return it.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(a=>r+a))}wr(t){let n=0;return this.pr(t,r=>{n++}).next(()=>n)}pr(t,n){return it.forEach(this.pi,(r,a)=>this.br(t,r,a).next(l=>l?it.resolve():n(a)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(t,c=>this.br(t,c,n).next(d=>{d||(r++,l.removeEntry(c,Rt.min()))})).next(()=>l.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),it.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),it.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),it.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=_f(t.data.value)),n}br(t,n,r){return it.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.pi.get(n);return it.resolve(a!==void 0&&a>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(t,n,r,a){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=a}static As(t,n){let r=Lt(),a=Lt();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new gv(t,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return PP()?8:dL(ln())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,a){const l={result:null};return this.ys(t,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ws(t,n,a,r).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new B3;return this.Ss(t,n,c).next(d=>{if(l.result=d,this.Vs)return this.bs(t,n,c,d.size)})}).next(()=>l.result)}bs(t,n,r,a){return r.documentReadCount<this.fs?(Eo()<=Ot.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),it.resolve()):(Eo()<=Ot.DEBUG&&dt("QueryEngine","Query:",wo(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(Eo()<=Ot.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Vi(n))):it.resolve())}ys(t,n){if(yb(n))return it.resolve(null);let r=Vi(n);return this.indexManager.getIndexType(t,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Bf(n,null,"F"),r=Vi(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(l=>{const c=Lt(...l);return this.ps.getDocuments(t,c).next(d=>this.indexManager.getMinOffset(t,r).next(m=>{const p=this.Ds(n,d);return this.Cs(n,p,c,m.readTime)?this.ys(t,Bf(n,null,"F")):this.vs(t,p,n,m)}))})))}ws(t,n,r,a){return yb(n)||a.isEqual(Rt.min())?it.resolve(null):this.ps.getDocuments(t,r).next(l=>{const c=this.Ds(n,l);return this.Cs(n,c,r,a)?it.resolve(null):(Eo()<=Ot.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),wo(n)),this.vs(t,c,n,lL(a,Wu)).next(d=>d))})}Ds(t,n){let r=new ke(mR(t));return n.forEach((a,l)=>{ud(t,l)&&(r=r.add(l))}),r}Cs(t,n,r,a){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(t,n,r){return Eo()<=Ot.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",wo(n)),this.ps.getDocumentsMatchingQuery(t,n,ps.min(),r)}vs(t,n,r,a){return this.ps.getDocumentsMatchingQuery(t,r,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="LocalStore",F3=3e8;class H3{constructor(t,n,r,a){this.persistence=t,this.Fs=n,this.serializer=a,this.Ms=new he(kt),this.xs=new Aa(l=>av(l),ov),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new V3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function q3(e,t,n,r){return new H3(e,t,n,r)}async function LR(e,t){const n=xt(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,n.Bs(t),n.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],d=[];let m=Lt();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){d.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(r,m).next(p=>({Ls:p,removedBatchIds:c,addedBatchIds:d}))})})}function G3(e,t){const n=xt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=t.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return function(d,m,p,y){const T=p.batch,w=T.keys();let R=it.resolve();return w.forEach(I=>{R=R.next(()=>y.getEntry(m,I)).next(j=>{const k=p.docVersions.get(I);Gt(k!==null,48541),j.version.compareTo(k)<0&&(T.applyToRemoteDocument(j,p),j.isValidDocument()&&(j.setReadTime(p.commitVersion),y.addEntry(j)))})}),R.next(()=>d.mutationQueue.removeMutationBatch(m,T))}(n,r,t,l).next(()=>l.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=Lt();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m}(t))).next(()=>n.localDocuments.getDocuments(r,a))})}function UR(e){const t=xt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function K3(e,t){const n=xt(e),r=t.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];t.targetChanges.forEach((y,T)=>{const w=a.get(T);if(!w)return;d.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,T).next(()=>n.Pi.addMatchingKeys(l,y.addedDocuments,T)));let R=w.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(T)!==null?R=R.withResumeToken(Ge.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,r)),a=a.insert(T,R),function(j,k,B){return j.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=F3?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(w,R,y)&&d.push(n.Pi.updateTargetData(l,R))});let m=Er(),p=Lt();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),d.push(Y3(l,c,t.documentUpdates).next(y=>{m=y.ks,p=y.qs})),!r.isEqual(Rt.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next(T=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r));d.push(y)}return it.waitFor(d).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(n.Ms=a,l))}function Y3(e,t,n){let r=Lt(),a=Lt();return n.forEach(l=>r=r.add(l)),t.getEntries(e,r).next(l=>{let c=Er();return n.forEach((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Rt.min())?(t.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(d,m)):dt(yv,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)}),{ks:c,qs:a}})}function $3(e,t){const n=xt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=iv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function Q3(e,t){const n=xt(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Pi.getTargetData(r,t).next(l=>l?(a=l,it.resolve(a)):n.Pi.allocateTargetId(r).next(c=>(a=new as(t,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r})}async function Xg(e,t,n){const r=xt(e),a=r.Ms.get(t),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!rl(c))throw c;dt(yv,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ms=r.Ms.remove(t),r.xs.delete(a.target)}function Db(e,t,n){const r=xt(e);let a=Rt.min(),l=Lt();return r.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,y){const T=xt(m),w=T.xs.get(y);return w!==void 0?it.resolve(T.Ms.get(w)):T.Pi.getTargetData(p,y)}(r,c,Vi(t)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>r.Fs.getDocumentsMatchingQuery(c,t,n?a:Rt.min(),n?l:Lt())).next(d=>(X3(r,PL(t),d),{documents:d,Qs:l})))}function X3(e,t,n){let r=e.Os.get(t)||Rt.min();n.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),e.Os.set(t,r)}class Vb{constructor(){this.activeTargetIds=BL()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class W3{constructor(){this.Mo=new Vb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Vb,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="ConnectivityMonitor";class Mb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){dt(Nb,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){dt(Nb,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let of=null;function Wg(){return of===null?of=function(){return 268435456+Math.round(2147483648*Math.random())}():of++,"0x"+of.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="RestConnection",J3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class t6{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Lf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(t,n,r,a,l){const c=Wg(),d=this.zo(t,n.toUriEncodedString());dt(ig,`Sending RPC '${t}' ${c}:`,d,r);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(d),y=Zo(p);return this.Jo(t,d,m,r,y).then(T=>(dt(ig,`Received RPC '${t}' ${c}: `,T),T),T=>{throw wa(ig,`RPC '${t}' ${c} failed with error: `,T,"url: ",d,"request:",r),T})}Ho(t,n,r,a,l,c){return this.Go(t,n,r,a,l)}jo(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+nl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>t[l]=a),r&&r.headers.forEach((a,l)=>t[l]=a)}zo(t,n){const r=J3[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class n6 extends t6{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,a,l){const c=Wg();return new Promise((d,m)=>{const p=new j1;p.setWithCredentials(!0),p.listenOnce(B1.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case vf.NO_ERROR:const T=p.getResponseJson();dt(rn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),d(T);break;case vf.TIMEOUT:dt(rn,`RPC '${t}' ${c} timed out`),m(new ht(tt.DEADLINE_EXCEEDED,"Request time out"));break;case vf.HTTP_ERROR:const w=p.getStatus();if(dt(rn,`RPC '${t}' ${c} failed with status:`,w,"response text:",p.getResponseText()),w>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const I=R?.error;if(I&&I.status&&I.message){const j=function(B){const z=B.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(z)>=0?z:tt.UNKNOWN}(I.status);m(new ht(j,I.message))}else m(new ht(tt.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ht(tt.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{dt(rn,`RPC '${t}' ${c} completed.`)}});const y=JSON.stringify(a);dt(rn,`RPC '${t}' ${c} sending request:`,a),p.send(n,"POST",y,r,15)})}T_(t,n,r){const a=Wg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=H1(),d=F1(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const y=l.join("");dt(rn,`Creating RPC '${t}' stream ${a}: ${y}`,m);const T=c.createWebChannel(y,m);this.I_(T);let w=!1,R=!1;const I=new e6({Yo:k=>{R?dt(rn,`Not sending because RPC '${t}' stream ${a} is closed:`,k):(w||(dt(rn,`Opening RPC '${t}' stream ${a} transport.`),T.open(),w=!0),dt(rn,`RPC '${t}' stream ${a} sending:`,k),T.send(k))},Zo:()=>T.close()}),j=(k,B,z)=>{k.listen(B,F=>{try{z(F)}catch(st){setTimeout(()=>{throw st},0)}})};return j(T,Tu.EventType.OPEN,()=>{R||(dt(rn,`RPC '${t}' stream ${a} transport opened.`),I.o_())}),j(T,Tu.EventType.CLOSE,()=>{R||(R=!0,dt(rn,`RPC '${t}' stream ${a} transport closed`),I.a_(),this.E_(T))}),j(T,Tu.EventType.ERROR,k=>{R||(R=!0,wa(rn,`RPC '${t}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),I.a_(new ht(tt.UNAVAILABLE,"The operation could not be completed")))}),j(T,Tu.EventType.MESSAGE,k=>{if(!R){const B=k.data[0];Gt(!!B,16349);const z=B,F=z?.error||z[0]?.error;if(F){dt(rn,`RPC '${t}' stream ${a} received error:`,F);const st=F.status;let et=function(A){const x=xe[A];if(x!==void 0)return AR(x)}(st),ot=F.message;et===void 0&&(et=tt.INTERNAL,ot="Unknown error status: "+st+" with message "+F.message),R=!0,I.a_(new ht(et,ot)),T.close()}else dt(rn,`RPC '${t}' stream ${a} received:`,B),I.u_(B)}}),j(d,z1.STAT_EVENT,k=>{k.stat===jg.PROXY?dt(rn,`RPC '${t}' stream ${a} detected buffering proxy`):k.stat===jg.NOPROXY&&dt(rn,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{I.__()},0),I}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function rg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(e){return new a3(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t,n,r=1e3,a=1.5,l=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&dt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="PersistentStream";class BR{constructor(t,n,r,a,l,c,d,m){this.Mi=t,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jR(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===tt.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.D_===n&&this.G_(r,a)},r=>{t(()=>{const a=new ht(tt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)})})}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{r(()=>this.z_(a))}),this.stream.onMessage(a=>{r(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return dt(Pb,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(dt(Pb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class i6 extends BR{constructor(t,n,r,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=u3(this.serializer,t),r=function(l){if(!("targetChange"in l))return Rt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Rt.min():c.readTime?Ni(c.readTime):Rt.min()}(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=Qg(this.serializer),n.addTarget=function(l,c){let d;const m=c.target;if(d=qg(m)?{documents:f3(l,m)}:{query:d3(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=CR(l,c.resumeToken);const p=Kg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Rt.min())>0){d.readTime=Ff(l,c.snapshotVersion.toTimestamp());const p=Kg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,t);const r=p3(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=Qg(this.serializer),n.removeTarget=t,this.q_(n)}}class r6 extends BR{constructor(t,n,r,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=h3(t.writeResults,t.commitTime),r=Ni(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=Qg(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>c3(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{}class a6 extends s6{constructor(t,n,r,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ht(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Go(t,Yg(n,r),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ht(tt.UNKNOWN,l.toString())})}Ho(t,n,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Ho(t,Yg(n,r),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht(tt.UNKNOWN,c.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class o6{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Tr(n),this.aa=!1):dt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="RemoteStore";class l6{constructor(t,n,r,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(c=>{r.enqueueAndForget(async()=>{Ra(this)&&(dt(ba,"Restarting streams for network reachability change."),await async function(m){const p=xt(m);p.Ea.add(4),await _c(p),p.Ra.set("Unknown"),p.Ea.delete(4),await md(p)}(this))})}),this.Ra=new o6(r,a)}}async function md(e){if(Ra(e))for(const t of e.da)await t(!0)}async function _c(e){for(const t of e.da)await t(!1)}function zR(e,t){const n=xt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Ev(n)?Tv(n):al(n).O_()&&_v(n,t))}function vv(e,t){const n=xt(e),r=al(n);n.Ia.delete(t),r.O_()&&FR(n,t),n.Ia.size===0&&(r.O_()?r.L_():Ra(n)&&n.Ra.set("Unknown"))}function _v(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}al(e).Y_(t)}function FR(e,t){e.Va.Ue(t),al(e).Z_(t)}function Tv(e){e.Va=new n3({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),al(e).start(),e.Ra.ua()}function Ev(e){return Ra(e)&&!al(e).x_()&&e.Ia.size>0}function Ra(e){return xt(e).Ea.size===0}function HR(e){e.Va=void 0}async function u6(e){e.Ra.set("Online")}async function c6(e){e.Ia.forEach((t,n)=>{_v(e,t)})}async function h6(e,t){HR(e),Ev(e)?(e.Ra.ha(t),Tv(e)):e.Ra.set("Unknown")}async function f6(e,t,n){if(e.Ra.set("Online"),t instanceof xR&&t.state===2&&t.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))}(e,t)}catch(r){dt(ba,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await qf(e,r)}else if(t instanceof wf?e.Va.Ze(t):t instanceof RR?e.Va.st(t):e.Va.tt(t),!n.isEqual(Rt.min()))try{const r=await UR(e.localStore);n.compareTo(r)>=0&&await function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(Ge.EMPTY_BYTE_STRING,y.snapshotVersion)),FR(l,m);const T=new as(y.target,m,p,y.sequenceNumber);_v(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(e,n)}catch(r){dt(ba,"Failed to raise snapshot:",r),await qf(e,r)}}async function qf(e,t,n){if(!rl(t))throw t;e.Ea.add(1),await _c(e),e.Ra.set("Offline"),n||(n=()=>UR(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{dt(ba,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await md(e)})}function qR(e,t){return t().catch(n=>qf(e,n,t))}async function pd(e){const t=xt(e),n=_s(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:iv;for(;d6(t);)try{const a=await $3(t.localStore,r);if(a===null){t.Ta.length===0&&n.L_();break}r=a.batchId,m6(t,a)}catch(a){await qf(t,a)}GR(t)&&KR(t)}function d6(e){return Ra(e)&&e.Ta.length<10}function m6(e,t){e.Ta.push(t);const n=_s(e);n.O_()&&n.X_&&n.ea(t.mutations)}function GR(e){return Ra(e)&&!_s(e).x_()&&e.Ta.length>0}function KR(e){_s(e).start()}async function p6(e){_s(e).ra()}async function g6(e){const t=_s(e);for(const n of e.Ta)t.ea(n.mutations)}async function y6(e,t,n){const r=e.Ta.shift(),a=hv.from(r,t,n);await qR(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await pd(e)}async function v6(e,t){t&&_s(e).X_&&await async function(r,a){if(function(c){return JL(c)&&c!==tt.ABORTED}(a.code)){const l=r.Ta.shift();_s(r).B_(),await qR(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await pd(r)}}(e,t),GR(e)&&KR(e)}async function Ob(e,t){const n=xt(e);n.asyncQueue.verifyOperationInProgress(),dt(ba,"RemoteStore received new credentials");const r=Ra(n);n.Ea.add(3),await _c(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await md(n)}async function _6(e,t){const n=xt(e);t?(n.Ea.delete(2),await md(n)):t||(n.Ea.add(2),await _c(n),n.Ra.set("Unknown"))}function al(e){return e.ma||(e.ma=function(n,r,a){const l=xt(n);return l.sa(),new i6(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(e.datastore,e.asyncQueue,{Xo:u6.bind(null,e),t_:c6.bind(null,e),r_:h6.bind(null,e),H_:f6.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),Ev(e)?Tv(e):e.Ra.set("Unknown")):(await e.ma.stop(),HR(e))})),e.ma}function _s(e){return e.fa||(e.fa=function(n,r,a){const l=xt(n);return l.sa(),new r6(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:p6.bind(null,e),r_:v6.bind(null,e),ta:g6.bind(null,e),na:y6.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await pd(e)):(await e.fa.stop(),e.Ta.length>0&&(dt(ba,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(t,n,r,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,a,l){const c=Date.now()+r,d=new wv(t,n,c,a,l);return d.start(r),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bv(e,t){if(Tr("AsyncQueue",`${t}: ${e}`),rl(e))return new ht(tt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{static emptySet(t){return new ko(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||yt.comparator(n.key,r.key):(n,r)=>yt.comparator(n.key,r.key),this.keyedMap=Eu(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ko)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new ko;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(){this.ga=new he(yt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,r)=>{t.push(r)}),t}}class Ko{constructor(t,n,r,a,l,c,d,m,p){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,n,r,a,l){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new Ko(t,n,ko.emptySet(n),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ld(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class E6{constructor(){this.queries=Lb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=xt(n),l=a.queries;a.queries=Lb(),l.forEach((c,d)=>{for(const m of d.Sa)m.onError(r)})})(this,new ht(tt.ABORTED,"Firestore shutting down"))}}function Lb(){return new Aa(e=>dR(e),ld)}async function YR(e,t){const n=xt(e);let r=3;const a=t.query;let l=n.queries.get(a);l?!l.ba()&&t.Da()&&(r=2):(l=new T6,r=t.Da()?0:1);try{switch(r){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=bv(c,`Initialization of query '${wo(t.query)}' failed`);return void t.onError(d)}n.queries.set(a,l),l.Sa.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&Sv(n)}async function $R(e,t){const n=xt(e),r=t.query;let a=3;const l=n.queries.get(r);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=t.Da()?0:1:!l.ba()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function w6(e,t){const n=xt(e);let r=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(r=!0);c.wa=a}}r&&Sv(n)}function b6(e,t,n){const r=xt(e),a=r.queries.get(t);if(a)for(const l of a.Sa)l.onError(n);r.queries.delete(t)}function Sv(e){e.Ca.forEach(t=>{t.next()})}var Zg,Ub;(Ub=Zg||(Zg={})).Ma="default",Ub.Cache="cache";class QR{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const a of t.docChanges)a.type!==3&&r.push(a);t=new Ko(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Ko.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Zg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(t){this.key=t}}class WR{constructor(t){this.key=t}}class S6{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=mR(t),this.tu=new ko(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new kb,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((y,T)=>{const w=a.get(y),R=ud(this.query,T)?T:null,I=!!w&&this.mutatedKeys.has(w.key),j=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let k=!1;w&&R?w.data.isEqual(R.data)?I!==j&&(r.track({type:3,doc:R}),k=!0):this.su(w,R)||(r.track({type:2,doc:R}),k=!0,(m&&this.eu(R,m)>0||p&&this.eu(R,p)<0)&&(d=!0)):!w&&R?(r.track({type:0,doc:R}),k=!0):w&&!R&&(r.track({type:1,doc:w}),k=!0,(m||p)&&(d=!0)),k&&(R?(c=c.add(R),l=j?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{tu:c,iu:r,Cs:d,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort((y,T)=>function(R,I){const j=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:k})}};return j(R)-j(I)}(y.type,T.type)||this.eu(y.doc,T.doc)),this.ou(r),a=a??!1;const d=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new Ko(this.query,t.tu,l,c,t.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new kb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return t.forEach(r=>{this.Xa.has(r)||n.push(new WR(r))}),this.Xa.forEach(r=>{t.has(r)||n.push(new XR(r))}),n}cu(t){this.Ya=t.Qs,this.Xa=Lt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Ko.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Av="SyncEngine";class A6{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class R6{constructor(t){this.key=t,this.hu=!1}}class x6{constructor(t,n,r,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Aa(d=>dR(d),ld),this.Iu=new Map,this.Eu=new Set,this.du=new he(yt.comparator),this.Au=new Map,this.Ru=new mv,this.Vu={},this.mu=new Map,this.fu=Go.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function C6(e,t,n=!0){const r=ix(e);let a;const l=r.Tu.get(t);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await ZR(r,t,n,!0),a}async function I6(e,t){const n=ix(e);await ZR(n,t,!0,!1)}async function ZR(e,t,n,r){const a=await Q3(e.localStore,Vi(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let d;return r&&(d=await D6(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&zR(e.remoteStore,a),d}async function D6(e,t,n,r,a){e.pu=(T,w,R)=>async function(j,k,B,z){let F=k.view.ru(B);F.Cs&&(F=await Db(j.localStore,k.query,!1).then(({documents:C})=>k.view.ru(C,F)));const st=z&&z.targetChanges.get(k.targetId),et=z&&z.targetMismatches.get(k.targetId)!=null,ot=k.view.applyChanges(F,j.isPrimaryClient,st,et);return Bb(j,k.targetId,ot.au),ot.snapshot}(e,T,w,R);const l=await Db(e.localStore,t,!0),c=new S6(t,l.Qs),d=c.ru(l.documents),m=vc.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",a),p=c.applyChanges(d,e.isPrimaryClient,m);Bb(e,n,p.au);const y=new A6(t,n,c);return e.Tu.set(t,y),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),p.snapshot}async function V6(e,t,n){const r=xt(e),a=r.Tu.get(t),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter(c=>!ld(c,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Xg(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&vv(r.remoteStore,a.targetId),Jg(r,a.targetId)}).catch(il)):(Jg(r,a.targetId),await Xg(r.localStore,a.targetId,!0))}async function N6(e,t){const n=xt(e),r=n.Tu.get(t),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),vv(n.remoteStore,r.targetId))}async function M6(e,t,n){const r=B6(e);try{const a=await function(c,d){const m=xt(c),p=ie.now(),y=d.reduce((R,I)=>R.add(I.key),Lt());let T,w;return m.persistence.runTransaction("Locally write mutations","readwrite",R=>{let I=Er(),j=Lt();return m.Ns.getEntries(R,y).next(k=>{I=k,I.forEach((B,z)=>{z.isValidDocument()||(j=j.add(B))})}).next(()=>m.localDocuments.getOverlayedDocuments(R,I)).next(k=>{T=k;const B=[];for(const z of d){const F=$L(z,T.get(z.key).overlayedDocument);F!=null&&B.push(new bs(z.key,F,sR(F.value.mapValue),ri.exists(!0)))}return m.mutationQueue.addMutationBatch(R,p,B,d)}).next(k=>{w=k;const B=k.applyToLocalDocumentSet(T,j);return m.documentOverlayCache.saveOverlays(R,k.batchId,B)})}).then(()=>({batchId:w.batchId,changes:gR(T)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(a.batchId),function(c,d,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new he(kt)),p=p.insert(d,m),c.Vu[c.currentUser.toKey()]=p}(r,a.batchId,n),await Tc(r,a.changes),await pd(r.remoteStore)}catch(a){const l=bv(a,"Failed to persist write");n.reject(l)}}async function JR(e,t){const n=xt(e);try{const r=await K3(n.localStore,t);t.targetChanges.forEach((a,l)=>{const c=n.Au.get(l);c&&(Gt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Gt(c.hu,14607):a.removedDocuments.size>0&&(Gt(c.hu,42227),c.hu=!1))}),await Tc(n,r,t)}catch(r){await il(r)}}function jb(e,t,n){const r=xt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach((l,c)=>{const d=c.view.va(t);d.snapshot&&a.push(d.snapshot)}),function(c,d){const m=xt(c);m.onlineState=d;let p=!1;m.queries.forEach((y,T)=>{for(const w of T.Sa)w.va(d)&&(p=!0)}),p&&Sv(m)}(r.eventManager,t),a.length&&r.Pu.H_(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function P6(e,t,n){const r=xt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const a=r.Au.get(t),l=a&&a.key;if(l){let c=new he(yt.comparator);c=c.insert(l,an.newNoDocument(l,Rt.min()));const d=Lt().add(l),m=new fd(Rt.min(),new Map,new he(kt),c,d);await JR(r,m),r.du=r.du.remove(l),r.Au.delete(t),Rv(r)}else await Xg(r.localStore,t,!1).then(()=>Jg(r,t,n)).catch(il)}async function O6(e,t){const n=xt(e),r=t.batch.batchId;try{const a=await G3(n.localStore,t);ex(n,r,null),tx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Tc(n,a)}catch(a){await il(a)}}async function k6(e,t,n){const r=xt(e);try{const a=await function(c,d){const m=xt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return m.mutationQueue.lookupMutationBatch(p,d).next(T=>(Gt(T!==null,37113),y=T.keys(),m.mutationQueue.removeMutationBatch(p,T))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>m.localDocuments.getDocuments(p,y))})}(r.localStore,t);ex(r,t,n),tx(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Tc(r,a)}catch(a){await il(a)}}function tx(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function ex(e,t,n){const r=xt(e);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),r.Vu[r.currentUser.toKey()]=a}}function Jg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(r=>{e.Ru.containsKey(r)||nx(e,r)})}function nx(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(vv(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Rv(e))}function Bb(e,t,n){for(const r of n)r instanceof XR?(e.Ru.addReference(r.key,t),L6(e,r)):r instanceof WR?(dt(Av,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||nx(e,r.key)):Et(19791,{wu:r})}function L6(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(dt(Av,"New document in limbo: "+n),e.Eu.add(r),Rv(e))}function Rv(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new yt(ne.fromString(t)),r=e.fu.next();e.Au.set(r,new R6(n)),e.du=e.du.insert(n,r),zR(e.remoteStore,new as(Vi(lv(n.path)),r,"TargetPurposeLimboResolution",sd.ce))}}async function Tc(e,t,n){const r=xt(e),a=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach((d,m)=>{c.push(r.pu(m,t,n).then(p=>{if((p||n)&&r.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=gv.As(m.targetId,p);l.push(y)}}))}),await Promise.all(c),r.Pu.H_(a),await async function(m,p){const y=xt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>it.forEach(p,w=>it.forEach(w.Es,R=>y.persistence.referenceDelegate.addReference(T,w.targetId,R)).next(()=>it.forEach(w.ds,R=>y.persistence.referenceDelegate.removeReference(T,w.targetId,R)))))}catch(T){if(!rl(T))throw T;dt(yv,"Failed to update sequence numbers: "+T)}for(const T of p){const w=T.targetId;if(!T.fromCache){const R=y.Ms.get(w),I=R.snapshotVersion,j=R.withLastLimboFreeSnapshotVersion(I);y.Ms=y.Ms.insert(w,j)}}}(r.localStore,l))}async function U6(e,t){const n=xt(e);if(!n.currentUser.isEqual(t)){dt(Av,"User change. New user:",t.toKey());const r=await LR(n.localStore,t);n.currentUser=t,function(l,c){l.mu.forEach(d=>{d.forEach(m=>{m.reject(new ht(tt.CANCELLED,c))})}),l.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Tc(n,r.Ls)}}function j6(e,t){const n=xt(e),r=n.Au.get(t);if(r&&r.hu)return Lt().add(r.key);{let a=Lt();const l=n.Iu.get(t);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function ix(e){const t=xt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=JR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=j6.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=P6.bind(null,t),t.Pu.H_=w6.bind(null,t.eventManager),t.Pu.yu=b6.bind(null,t.eventManager),t}function B6(e){const t=xt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=O6.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=k6.bind(null,t),t}class Gf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=dd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return q3(this.persistence,new z3,t.initialUser,this.serializer)}Cu(t){return new kR(pv.mi,this.serializer)}Du(t){return new W3}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gf.provider={build:()=>new Gf};class z6 extends Gf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Gt(this.persistence.referenceDelegate instanceof Hf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new R3(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new kR(r=>Hf.mi(r,n),this.serializer)}}class ty{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=U6.bind(null,this.syncEngine),await _6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new E6}()}createDatastore(t){const n=dd(t.databaseInfo.databaseId),r=function(l){return new n6(l)}(t.databaseInfo);return function(l,c,d,m){return new a6(l,c,d,m)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,a,l,c,d){return new l6(r,a,l,c,d)}(this.localStore,this.datastore,t.asyncQueue,n=>jb(this.syncEngine,n,0),function(){return Mb.v()?new Mb:new Z3}())}createSyncEngine(t,n){return function(a,l,c,d,m,p,y){const T=new x6(a,l,c,d,m,p);return y&&(T.gu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const r=xt(n);dt(ba,"RemoteStore shutting down."),r.Ea.add(5),await _c(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ty.provider={build:()=>new ty};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Tr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="FirestoreClient";class F6{constructor(t,n,r,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=sn.UNAUTHENTICATED,this.clientId=id.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async c=>{dt(Ts,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(dt(Ts,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=bv(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function sg(e,t){e.asyncQueue.verifyOperationInProgress(),dt(Ts,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async a=>{r.isEqual(a)||(await LR(t.localStore,a),r=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function zb(e,t){e.asyncQueue.verifyOperationInProgress();const n=await H6(e);dt(Ts,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>Ob(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,a)=>Ob(t.remoteStore,a)),e._onlineComponents=t}async function H6(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){dt(Ts,"Using user provided OfflineComponentProvider");try{await sg(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(a){return a.name==="FirebaseError"?a.code===tt.FAILED_PRECONDITION||a.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;wa("Error using user provided cache. Falling back to memory cache: "+n),await sg(e,new Gf)}}else dt(Ts,"Using default OfflineComponentProvider"),await sg(e,new z6(void 0));return e._offlineComponents}async function sx(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(dt(Ts,"Using user provided OnlineComponentProvider"),await zb(e,e._uninitializedComponentsProvider._online)):(dt(Ts,"Using default OnlineComponentProvider"),await zb(e,new ty))),e._onlineComponents}function q6(e){return sx(e).then(t=>t.syncEngine)}async function ax(e){const t=await sx(e),n=t.eventManager;return n.onListen=C6.bind(null,t.syncEngine),n.onUnlisten=V6.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=I6.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=N6.bind(null,t.syncEngine),n}function G6(e,t,n={}){const r=new dr;return e.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,p){const y=new rx({next:w=>{y.Nu(),c.enqueueAndForget(()=>$R(l,T));const R=w.docs.has(d);!R&&w.fromCache?p.reject(new ht(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&w.fromCache&&m&&m.source==="server"?p.reject(new ht(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),T=new QR(lv(d.path),y,{includeMetadataChanges:!0,qa:!0});return YR(l,T)}(await ax(e),e.asyncQueue,t,n,r)),r.promise}function K6(e,t,n={}){const r=new dr;return e.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,p){const y=new rx({next:w=>{y.Nu(),c.enqueueAndForget(()=>$R(l,T)),w.fromCache&&m.source==="server"?p.reject(new ht(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),T=new QR(d,y,{includeMetadataChanges:!0,qa:!0});return YR(l,T)}(await ax(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx="firestore.googleapis.com",Hb=!0;class qb{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lx,this.ssl=Hb}else this.host=t.host,this.ssl=t.ssl??Hb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=OR;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<S3)throw new ht(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ox(t.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ht(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ht(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ht(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class gd{constructor(t,n,r,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new K1;switch(r.type){case"firstParty":return new nL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ht(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Fb.get(n);r&&(dt("ComponentProvider","Removing Datastore"),Fb.delete(n),r.terminate())}(this),Promise.resolve()}}function ux(e,t,n,r={}){e=Oi(e,gd);const a=Zo(t),l=e._getSettings(),c={...l,emulatorOptions:e._getEmulatorOptions()},d=`${t}:${n}`;a&&(WA(`https://${d}`),ZA("Firestore",!0)),l.host!==lx&&l.host!==d&&wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:r};if(!va(m,c)&&(e._setSettings(m),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=sn.MOCK_USER;else{p=AP(r.mockUserToken,e._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new ht(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new sn(T)}e._authCredentials=new J4(new G1(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Sr(this.firestore,t,this._query)}}class Ee{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ee(this.firestore,t,this._key)}toJSON(){return{type:Ee._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(gc(n,Ee._jsonSchema))return new Ee(t,r||null,new yt(ne.fromString(n.referencePath)))}}Ee._jsonSchemaVersion="firestore/documentReference/1.0",Ee._jsonSchema={type:De("string",Ee._jsonSchemaVersion),referencePath:De("string")};class mr extends Sr{constructor(t,n,r){super(t,n,lv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ee(this.firestore,null,new yt(t))}withConverter(t){return new mr(this.firestore,t,this._path)}}function Ao(e,t,...n){if(e=Je(e),Y1("collection","path",t),e instanceof gd){const r=ne.fromString(t,...n);return ib(r),new mr(e,null,r)}{if(!(e instanceof Ee||e instanceof mr))throw new ht(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ne.fromString(t,...n));return ib(r),new mr(e.firestore,null,r)}}function Uu(e,t,...n){if(e=Je(e),arguments.length===1&&(t=id.newId()),Y1("doc","path",t),e instanceof gd){const r=ne.fromString(t,...n);return nb(r),new Ee(e,null,new yt(r))}{if(!(e instanceof Ee||e instanceof mr))throw new ht(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ne.fromString(t,...n));return nb(r),new Ee(e.firestore,e instanceof mr?e.converter:null,new yt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="AsyncQueue";class Kb{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jR(this,"async_queue_retry"),this._c=()=>{const r=rg();r&&dt(Gb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=rg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=rg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new dr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!rl(t))throw t;dt(Gb,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(r=>{throw this.nc=r,this.rc=!1,Tr("INTERNAL UNHANDLED ERROR: ",Yb(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=wv.createAndSchedule(this,t,n,r,l=>this.hc(l));return this.tc.push(a),a}uc(){this.nc&&Et(47125,{Pc:Yb(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Yb(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class xa extends gd{constructor(t,n,r,a){super(t,n,r,a),this.type="firestore",this._queue=new Kb,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Kb(t),this._firestoreClient=void 0,await t}}}function cx(e,t){const n=typeof e=="object"?e:n1(),r=typeof e=="string"?e:Lf,a=Gy(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=bP("firestore");l&&ux(a,...l)}return a}function yd(e){if(e._terminated)throw new ht(tt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Y6(e),e._firestoreClient}function Y6(e){const t=e._freezeSettings(),n=function(a,l,c,d){return new vL(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,ox(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new F6(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t){this._byteString=t}static fromBase64String(t){try{return new In(Ge.fromBase64String(t))}catch(n){throw new ht(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new In(Ge.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:In._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(gc(t,In._jsonSchema))return In.fromBase64String(t.bytes)}}In._jsonSchemaVersion="firestore/bytes/1.0",In._jsonSchema={type:De("string",In._jsonSchemaVersion),bytes:De("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ht(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ht(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ht(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:si._jsonSchemaVersion}}static fromJSON(t){if(gc(t,si._jsonSchema))return new si(t.latitude,t.longitude)}}si._jsonSchemaVersion="firestore/geoPoint/1.0",si._jsonSchema={type:De("string",si._jsonSchemaVersion),latitude:De("number"),longitude:De("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,t._values)}toJSON(){return{type:ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(gc(t,ai._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new ai(t.vectorValues);throw new ht(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:De("string",ai._jsonSchemaVersion),vectorValues:De("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=/^__.*__$/;class Q6{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new bs(t,this.data,this.fieldMask,n,this.fieldTransforms):new yc(t,this.data,n,this.fieldTransforms)}}class hx{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new bs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function fx(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:e})}}class xv{constructor(t,n,r,a,l,c){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new xv({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Kf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(fx(this.Ac)&&$6.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class X6{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||dd(t)}Cc(t,n,r,a=!1){return new xv({Ac:t,methodName:n,Dc:r,path:qe.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cv(e){const t=e._freezeSettings(),n=dd(e._databaseId);return new X6(e._databaseId,!!t.ignoreUndefinedProperties,n)}function W6(e,t,n,r,a,l={}){const c=e.Cc(l.merge||l.mergeFields?2:0,t,n,a);Dv("Data must be an object, but it was:",c,r);const d=dx(r,c);let m,p;if(l.merge)m=new Dn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const T of l.mergeFields){const w=ey(t,T,n);if(!c.contains(w))throw new ht(tt.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);px(y,w)||y.push(w)}m=new Dn(y),p=c.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,p=c.fieldTransforms;return new Q6(new vn(d),m,p)}class vd extends wc{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof vd}}class Iv extends wc{_toFieldTransform(t){return new qL(t.path,new ec)}isEqual(t){return t instanceof Iv}}function Z6(e,t,n,r){const a=e.Cc(1,t,n);Dv("Data must be an object, but it was:",a,r);const l=[],c=vn.empty();ws(r,(m,p)=>{const y=Vv(t,m,n);p=Je(p);const T=a.yc(y);if(p instanceof vd)l.push(y);else{const w=bc(p,T);w!=null&&(l.push(y),c.set(y,w))}});const d=new Dn(l);return new hx(c,d,a.fieldTransforms)}function J6(e,t,n,r,a,l){const c=e.Cc(1,t,n),d=[ey(t,r,n)],m=[a];if(l.length%2!=0)throw new ht(tt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)d.push(ey(t,l[w])),m.push(l[w+1]);const p=[],y=vn.empty();for(let w=d.length-1;w>=0;--w)if(!px(p,d[w])){const R=d[w];let I=m[w];I=Je(I);const j=c.yc(R);if(I instanceof vd)p.push(R);else{const k=bc(I,j);k!=null&&(p.push(R),y.set(R,k))}}const T=new Dn(p);return new hx(y,T,c.fieldTransforms)}function t5(e,t,n,r=!1){return bc(n,e.Cc(r?4:3,t))}function bc(e,t){if(mx(e=Je(e)))return Dv("Unsupported field value:",t,e),dx(e,t);if(e instanceof wc)return function(r,a){if(!fx(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(r,a){const l=[];let c=0;for(const d of r){let m=bc(d,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(e,t)}return function(r,a){if((r=Je(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return zL(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=ie.fromDate(r);return{timestampValue:Ff(a.serializer,l)}}if(r instanceof ie){const l=new ie(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ff(a.serializer,l)}}if(r instanceof si)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof In)return{bytesValue:CR(a.serializer,r._byteString)};if(r instanceof Ee){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:dv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof ai)return function(c,d){return{mapValue:{fields:{[iR]:{stringValue:rR},[Uf]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return uv(d.serializer,p)})}}}}}}(r,a);throw a.Sc(`Unsupported field value: ${rd(r)}`)}(e,t)}function dx(e,t){const n={};return W1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ws(e,(r,a)=>{const l=bc(a,t.mc(r));l!=null&&(n[r]=l)}),{mapValue:{fields:n}}}function mx(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ie||e instanceof si||e instanceof In||e instanceof Ee||e instanceof wc||e instanceof ai)}function Dv(e,t,n){if(!mx(n)||!Q1(n)){const r=rd(n);throw r==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function ey(e,t,n){if((t=Je(t))instanceof Ec)return t._internalPath;if(typeof t=="string")return Vv(e,t);throw Kf("Field path arguments must be of type string or ",e,!1,void 0,n)}const e5=new RegExp("[~\\*/\\[\\]]");function Vv(e,t,n){if(t.search(e5)>=0)throw Kf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Ec(...t.split("."))._internalPath}catch{throw Kf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Kf(e,t,n,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${r}`),c&&(m+=` in document ${a}`),m+=")"),new ht(tt.INVALID_ARGUMENT,d+e+m)}function px(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(t,n,r,a,l){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ee(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new n5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Nv("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class n5 extends gx{data(){return super.data()}}function Nv(e,t){return typeof t=="string"?Vv(e,t):t instanceof Ec?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ht(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mv{}class _d extends Mv{}function bu(e,t,...n){let r=[];t instanceof Mv&&r.push(t),r=r.concat(n),function(l){const c=l.filter(m=>m instanceof Ed).length,d=l.filter(m=>m instanceof Td).length;if(c>1||c>0&&d>0)throw new ht(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)e=a._apply(e);return e}class Td extends _d{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Td(t,n,r)}_apply(t){const n=this._parse(t);return yx(t._query,n),new Sr(t.firestore,t.converter,Gg(t._query,n))}_parse(t){const n=Cv(t.firestore);return function(l,c,d,m,p,y,T){let w;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ht(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Qb(T,y);const I=[];for(const j of T)I.push($b(m,l,j));w={arrayValue:{values:I}}}else w=$b(m,l,T)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Qb(T,y),w=t5(d,c,T,y==="in"||y==="not-in");return Ie.create(p,y,w)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Ed extends Mv{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Ed(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:oi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)yx(c,m),c=Gg(c,m)}(t._query,n),new Sr(t.firestore,t.converter,Gg(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wd extends _d{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new wd(t,n)}_apply(t){const n=function(a,l,c){if(a.startAt!==null)throw new ht(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ht(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tc(l,c)}(t._query,this._field,this._direction);return new Sr(t.firestore,t.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new sl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,n))}}function Su(e,t="asc"){const n=t,r=Nv("orderBy",e);return wd._create(r,n)}class bd extends _d{constructor(t,n,r){super(),this.type=t,this._limit=n,this._limitType=r}static _create(t,n,r){return new bd(t,n,r)}_apply(t){return new Sr(t.firestore,t.converter,Bf(t._query,this._limit,this._limitType))}}function Au(e){return bd._create("limit",e,"F")}function $b(e,t,n){if(typeof(n=Je(n))=="string"){if(n==="")throw new ht(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fR(t)&&n.indexOf("/")!==-1)throw new ht(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ne.fromString(n));if(!yt.isDocumentKey(r))throw new ht(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hb(e,new yt(r))}if(n instanceof Ee)return hb(e,n._key);throw new ht(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rd(n)}.`)}function Qb(e,t){if(!Array.isArray(e)||e.length===0)throw new ht(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function yx(e,t){const n=function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(e.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ht(tt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ht(tt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class vx{convertValue(t,n="none"){switch(vs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ys(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return ws(t,(a,l)=>{r[a]=this.convertValue(l,n)}),r}convertVectorValue(t){const n=t.fields?.[Uf].arrayValue?.values?.map(r=>Te(r.doubleValue));return new ai(n)}convertGeoPoint(t){return new si(Te(t.latitude),Te(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=od(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Zu(t));default:return null}}convertTimestamp(t){const n=gs(t);return new ie(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ne.fromString(t);Gt(PR(r),9688,{name:t});const a=new Fo(r.get(1),r.get(3)),l=new yt(r.popFirst(5));return a.isEqual(n)||Tr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(e,t,n){let r;return r=e?e.toFirestore(t):t,r}class Vo{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class fs extends gx{constructor(t,n,r,a,l,c){super(t,n,r,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ju(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Nv("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=fs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}fs._jsonSchemaVersion="firestore/documentSnapshot/1.0",fs._jsonSchema={type:De("string",fs._jsonSchemaVersion),bundleSource:De("string","DocumentSnapshot"),bundleName:De("string"),bundle:De("string")};class ju extends fs{data(t={}){return super.data(t)}}class ya{constructor(t,n,r,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new Vo(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new ju(this._firestore,this._userDataWriter,r.key,r,new Vo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ht(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const m=new ju(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Vo(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new ju(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Vo(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:s5(d.type),doc:m,oldIndex:p,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ya._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=id.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach(l=>{l._document!==null&&(n.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function s5(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(e){e=Oi(e,Ee);const t=Oi(e.firestore,xa);return G6(yd(t),e._key).then(n=>l5(t,e,n))}ya._jsonSchemaVersion="firestore/querySnapshot/1.0",ya._jsonSchema={type:De("string",ya._jsonSchemaVersion),bundleSource:De("string","QuerySnapshot"),bundleName:De("string"),bundle:De("string")};class Tx extends vx{constructor(t){super(),this.firestore=t}convertBytes(t){return new In(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ee(this.firestore,null,n)}}function Ru(e){e=Oi(e,Sr);const t=Oi(e.firestore,xa),n=yd(t),r=new Tx(t);return i5(e._query),K6(n,e._query).then(a=>new ya(t,r,e,a))}function a5(e,t,n,...r){e=Oi(e,Ee);const a=Oi(e.firestore,xa),l=Cv(a);let c;return c=typeof(t=Je(t))=="string"||t instanceof Ec?J6(l,"updateDoc",e._key,t,n,r):Z6(l,"updateDoc",e._key,t),Sd(a,[c.toMutation(e._key,ri.exists(!0))])}function o5(e){return Sd(Oi(e.firestore,xa),[new cv(e._key,ri.none())])}function Ex(e,t){const n=Oi(e.firestore,xa),r=Uu(e),a=r5(e.converter,t);return Sd(n,[W6(Cv(e.firestore),"addDoc",r._key,a,e.converter!==null,{}).toMutation(r._key,ri.exists(!1))]).then(()=>r)}function Sd(e,t){return function(r,a){const l=new dr;return r.asyncQueue.enqueueAndForget(async()=>M6(await q6(r),a,l)),l.promise}(yd(e),t)}function l5(e,t,n){const r=n.docs.get(t._key),a=new Tx(e);return new fs(e,a,t._key,r,new Vo(n.hasPendingWrites,n.fromCache),t.converter)}function ny(){return new Iv("serverTimestamp")}(function(t,n=!0){(function(a){nl=a})(Jo),jo(new _a("firestore",(r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new xa(new tL(r.getProvider("auth-internal")),new iL(c,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ht(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fo(p.options.projectId,y)}(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),us(Zw,Jw,t),us(Zw,Jw,"esm2020")})();const Xb=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:vx,Bytes:In,CollectionReference:mr,DocumentReference:Ee,DocumentSnapshot:fs,FieldPath:Ec,FieldValue:wc,Firestore:xa,FirestoreError:ht,GeoPoint:si,Query:Sr,QueryCompositeFilterConstraint:Ed,QueryConstraint:_d,QueryDocumentSnapshot:ju,QueryFieldFilterConstraint:Td,QueryLimitConstraint:bd,QueryOrderByConstraint:wd,QuerySnapshot:ya,SnapshotMetadata:Vo,Timestamp:ie,VectorValue:ai,_AutoId:id,_ByteString:Ge,_DatabaseId:Fo,_DocumentKey:yt,_EmptyAuthCredentialsProvider:K1,_FieldPath:qe,_cast:Oi,_logWarn:wa,_validateIsNotUsedTogether:$1,addDoc:Ex,collection:Ao,connectFirestoreEmulator:ux,deleteDoc:o5,doc:Uu,ensureFirestoreConfigured:yd,executeWrite:Sd,getDoc:_x,getDocs:Ru,getFirestore:cx,limit:Au,orderBy:Su,query:bu,serverTimestamp:ny,updateDoc:a5},Symbol.toStringTag,{value:"Module"})),u5={apiKey:"AIzaSyC7dfvuS4tTtcIIU1UgZigzMqZcaPe5aCg",authDomain:"portfolyo-d4993.firebaseapp.com",projectId:"portfolyo-d4993",storageBucket:"portfolyo-d4993.firebasestorage.app",messagingSenderId:"128132212420",appId:"1:128132212420:web:a8ef48fcd99c996a8a0b91"},wx=Cw().length?Cw()[0]:e1(u5),la=W4(wx),es=cx(wx);function c5(){const[e,t]=U.useState(""),[n,r]=U.useState(null),[a,l]=U.useState([]),[c,d]=U.useState(null),[m,p]=U.useState(!1),[y,T]=U.useState(null),w=async()=>{try{await Hw(la,new ei)}catch{await h4(la,new ei)}};U.useEffect(()=>{(async()=>{try{const st=bu(Ao(es,"posts"),Su("createdAt","desc"),Au(50)),ot=(await Ru(st)).docs.map(C=>({id:C.id,...C.data()}));l(ot)}catch(st){console.error("Blog yazıları yüklenemedi:",st),l([])}})();const F=Bk(la,st=>{d(st?{uid:st.uid,email:st.email}:null)});return d4(la).catch(()=>{}),F},[]);const R=U.useMemo(()=>{const z=e.trim().toLowerCase();return z?a.filter(F=>[F.title,F.excerpt,...F.tags||[]].some(st=>st.toLowerCase().includes(z))):a},[e,a]),I=async()=>{if(!c)return!1;try{console.log("Checking admin for UID:",c.uid);const z=await _x(Uu(es,"admins",c.uid));return console.log("Admin doc exists:",z.exists()),z.exists()}catch(z){return console.error("Admin check error:",z),!1}},j=async z=>{if(!await I())return alert("Sadece admin yazı oluşturabilir");const F={title:z.title,tags:z.tags,excerpt:z.content.slice(0,140)+"…",content:z.content,createdAt:ny(),date:new Date().toISOString().slice(0,10)};await Ex(Ao(es,"posts"),F),alert("Yazı yayınlandı");const st=bu(Ao(es,"posts"),Su("createdAt","desc"),Au(50)),ot=(await Ru(st)).docs.map(C=>({id:C.id,...C.data()}));ot.length&&l(ot)},k=async(z,F)=>{if(!await I())return alert("Sadece admin yazı güncelleyebilir");try{const{updateDoc:st}=await _w(async()=>{const{updateDoc:A}=await Promise.resolve().then(()=>Xb);return{updateDoc:A}},[]);await st(Uu(es,"posts",z),{title:F.title,tags:F.tags,excerpt:F.content.slice(0,140)+"…",content:F.content,updatedAt:ny()}),alert("Yazı güncellendi");const et=bu(Ao(es,"posts"),Su("createdAt","desc"),Au(50)),C=(await Ru(et)).docs.map(A=>({id:A.id,...A.data()}));C.length&&l(C)}catch(st){alert("Güncelleme hatası: "+st)}},B=async z=>{if(!await I())return alert("Sadece admin yazı silebilir");if(confirm("Bu yazıyı silmek istediğinizden emin misiniz?"))try{const{deleteDoc:F}=await _w(async()=>{const{deleteDoc:C}=await Promise.resolve().then(()=>Xb);return{deleteDoc:C}},void 0);await F(Uu(es,"posts",z)),alert("Yazı silindi");const st=bu(Ao(es,"posts"),Su("createdAt","desc"),Au(50)),ot=(await Ru(st)).docs.map(C=>({id:C.id,...C.data()}));ot.length&&l(ot)}catch(F){alert("Silme hatası: "+F)}};return N.jsxs("div",{className:"min-h-screen bg-slate-950 text-white",children:[N.jsx("header",{className:"border-b border-white/5 bg-slate-900/50 backdrop-blur-xl",children:N.jsx("div",{className:"mx-auto max-w-7xl px-4 py-4 sm:px-6 lg:px-8",children:N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsx(zu,{to:"/",className:"text-xl font-bold text-white hover:text-sky-300 transition-colors",children:"← Ana Sayfa"}),N.jsx("h1",{className:"text-2xl font-bold text-white",children:"Blog"}),N.jsx("div",{className:"flex items-center gap-4",children:c?N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("span",{className:"text-sm text-slate-300",children:c.email}),N.jsx("button",{onClick:()=>Bw(la),className:"rounded-lg bg-red-500/20 px-3 py-1.5 text-red-300 ring-1 ring-inset ring-red-500/30 hover:bg-red-500/30 hover:text-red-200 transition-colors",children:"Çıkış Yap"})]}):N.jsx("button",{onClick:w,className:"rounded-full bg-white/10 px-4 py-2 text-sm text-white ring-1 ring-inset ring-white/15 hover:bg-white/20",children:"Giriş Yap"})})]})})}),N.jsx("main",{className:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8",children:N.jsxs("section",{className:"space-y-8",children:[N.jsxs("div",{children:[N.jsx("h2",{className:"text-3xl font-semibold tracking-tight",children:"Blog"}),N.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"Notlar, ipuçları ve öğrendiklerim."})]}),N.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[N.jsx("div",{className:"xl:col-span-1",children:N.jsxs("div",{className:"sticky top-24 space-y-6",children:[N.jsxs("div",{className:"space-y-4",children:[N.jsx("input",{value:e,onChange:z=>t(z.target.value),placeholder:"Ara: React, Tailwind...",className:"w-full rounded-xl bg-slate-900/60 px-4 py-3 text-sm text-white placeholder:text-slate-500 ring-1 ring-inset ring-white/10 focus:outline-none focus:ring-2 focus:ring-sky-500/60"}),N.jsx(h5,{canWrite:I,onCreate:j,onUpdate:k,onLogin:()=>Hw(la,new ei),onLogout:()=>Bw(la),userEmail:c?.email??null,editMode:m,setEditMode:p,editPost:y,setEditPost:T})]}),N.jsxs("div",{className:"space-y-3",children:[N.jsx("h3",{className:"text-sm font-medium text-slate-300 uppercase tracking-wide",children:"Yazılar"}),R.map(z=>N.jsx("div",{className:"group",children:N.jsxs("button",{onClick:()=>r(z.id),className:`w-full text-left p-3 rounded-lg border transition-all duration-200 ${n===z.id?"border-sky-500/50 bg-sky-500/10":"border-white/10 bg-white/5 hover:bg-white/10"}`,children:[N.jsxs("div",{className:"space-y-2",children:[N.jsx("h4",{className:"text-sm font-medium text-white line-clamp-2",children:z.title}),N.jsx("p",{className:"text-xs text-slate-400 line-clamp-2",children:z.excerpt}),N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("div",{className:"flex flex-wrap gap-1",children:[z.tags.slice(0,2).map(F=>N.jsx("span",{className:"rounded-full bg-slate-800/80 px-2 py-0.5 text-xs text-slate-300",children:F},F)),z.tags.length>2&&N.jsxs("span",{className:"rounded-full bg-slate-800/80 px-2 py-0.5 text-xs text-slate-300",children:["+",z.tags.length-2]})]}),N.jsx("span",{className:"text-xs text-slate-500",children:new Date(z.date).toLocaleDateString("tr-TR")})]})]}),c&&N.jsxs("div",{className:"flex gap-1 mt-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[N.jsx("button",{onClick:F=>{F.stopPropagation(),r(z.id),p(!0),T(z)},className:"rounded bg-sky-500/20 px-2 py-1 text-xs text-sky-300 hover:bg-sky-500/30 transition-colors",children:"✏️"}),N.jsx("button",{onClick:F=>{F.stopPropagation(),B(z.id)},className:"rounded bg-red-500/20 px-2 py-1 text-xs text-red-300 hover:bg-red-500/30 transition-colors",children:"🗑️"})]})]})},z.id))]})]})}),N.jsx("div",{className:"xl:col-span-2",children:(()=>{const z=n?a.find(F=>F.id===n):a[0];return z?N.jsx("article",{className:"prose prose-invert prose-slate max-w-none",children:N.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-8 ring-1 ring-inset ring-white/10",children:[N.jsxs("header",{className:"mb-8",children:[N.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:z.title}),N.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400 mb-4",children:[N.jsx("span",{children:new Date(z.date).toLocaleDateString("tr-TR")}),N.jsx("span",{children:"•"}),N.jsxs("span",{children:[z.content.length," karakter"]})]}),N.jsx("div",{className:"flex flex-wrap gap-2",children:z.tags.map(F=>N.jsx("span",{className:"rounded-full bg-slate-800/80 px-3 py-1 text-sm text-slate-300",children:F},F))})]}),N.jsx("div",{className:"prose prose-invert prose-slate max-w-none",children:N.jsx("div",{className:"text-slate-300 leading-relaxed whitespace-pre-wrap text-base",children:z.content})})]})}):N.jsx("div",{className:"text-center py-12",children:N.jsx("p",{className:"text-slate-400",children:"Henüz yazı yok"})})})()})]})]})})]})}function h5({canWrite:e,onCreate:t,onUpdate:n,onLogin:r,onLogout:a,userEmail:l,editMode:c,setEditMode:d,editPost:m,setEditPost:p}){const[y,T]=U.useState(!1),[w,R]=U.useState(""),[I,j]=U.useState("React,TypeScript"),[k,B]=U.useState(""),[z,F]=U.useState(null);U.useEffect(()=>{(async()=>F(await e()))()},[e,l]),U.useEffect(()=>{m&&c?(R(m.title),j(m.tags.join(",")),B(m.content),T(!0)):y&&!c&&(R(""),j("React,TypeScript"),B(""))},[m,c,y]);const st=async()=>{c&&m?(await n(m.id,{title:w,tags:I.split(",").map(ot=>ot.trim()).filter(Boolean),content:k}),d(!1),p(null)):await t({title:w,tags:I.split(",").map(ot=>ot.trim()).filter(Boolean),content:k}),R(""),j("React,TypeScript"),B(""),T(!1)},et=()=>{d(!1),p(null),R(""),j("React,TypeScript"),B(""),T(!1)};return z===null?null:z?N.jsxs("div",{className:"space-y-4",children:[N.jsx("button",{onClick:()=>{d(!1),p(null),T(ot=>!ot)},className:"w-full rounded-lg bg-gradient-to-r from-sky-400 to-indigo-500 px-4 py-2.5 text-sm font-medium text-slate-950 hover:opacity-95 transition-opacity",children:y?c?"Düzenlemeyi Gizle":"Yeni Yazıyı Gizle":"Yeni Yazı Oluştur"}),y&&N.jsx("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4 ring-1 ring-inset ring-white/10",children:N.jsxs("div",{className:"space-y-3",children:[N.jsx("input",{value:w,onChange:ot=>R(ot.target.value),placeholder:"Başlık",className:"w-full rounded-lg bg-slate-900/60 px-3 py-2 text-sm text-white placeholder:text-slate-500 ring-1 ring-inset ring-white/10 focus:outline-none focus:ring-2 focus:ring-sky-500/60"}),N.jsx("input",{value:I,onChange:ot=>j(ot.target.value),placeholder:"Etiketler: React,TypeScript",className:"w-full rounded-lg bg-slate-900/60 px-3 py-2 text-sm text-white placeholder:text-slate-500 ring-1 ring-inset ring-white/10 focus:outline-none focus:ring-2 focus:ring-sky-500/60"}),N.jsx("textarea",{value:k,onChange:ot=>B(ot.target.value),rows:6,placeholder:"İçerik",className:"w-full resize-y rounded-lg bg-slate-900/60 px-3 py-2 text-sm text-white placeholder:text-slate-500 ring-1 ring-inset ring-white/10 focus:outline-none focus:ring-2 focus:ring-sky-500/60"}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("button",{onClick:st,className:"flex-1 rounded-lg bg-white text-slate-900 px-3 py-2 text-sm font-medium hover:bg-slate-100 transition-colors",children:c?"Güncelle":"Yayınla"}),N.jsx("button",{onClick:et,className:"flex-1 rounded-lg bg-slate-900/60 px-3 py-2 text-sm text-white ring-1 ring-inset ring-white/15 hover:bg-slate-900/80 transition-colors",children:"İptal"})]})]})})]}):N.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4 text-sm text-slate-400",children:[N.jsx("p",{className:"mb-3",children:"Admin olarak giriş yaparsanız blog yazısı oluşturabilirsiniz."}),N.jsx("div",{className:"flex gap-2",children:l?N.jsxs("button",{onClick:a,className:"rounded-lg bg-white/10 px-3 py-1.5 text-white ring-1 ring-inset ring-white/15 hover:bg-white/20 transition-colors",children:["Çıkış Yap (",l,")"]}):N.jsx("button",{onClick:r,className:"rounded-lg bg-white/10 px-3 py-1.5 text-white ring-1 ring-inset ring-white/15 hover:bg-white/20 transition-colors",children:"Google ile Giriş Yap"})})]})}nI.createRoot(document.getElementById("root")).render(N.jsx(U.StrictMode,{children:N.jsx(g2,{basename:"/portfolyo/",children:N.jsxs(YI,{children:[N.jsx(og,{path:"/",element:N.jsx(fP,{})}),N.jsx(og,{path:"/blog",element:N.jsx(c5,{})})]})})}));
